{"version":3,"sources":["C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src async","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/app-routing.module.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/app.component.css","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/app.component.html","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/app.component.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/app.module.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/bugs/bugs.component.css","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/bugs/bugs.component.html","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/bugs/bugs.component.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/client/client.component.css","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/client/client.component.html","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/client/client.component.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/dashboard/dashboard.component.css","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/dashboard/dashboard.component.html","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/dashboard/dashboard.component.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/devis/devis.component.css","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/devis/devis.component.html","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/devis/devis.component.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/facture-accompte/facture-accompte.component.css","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/facture-accompte/facture-accompte.component.html","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/facture-accompte/facture-accompte.component.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/facture-global/facture-global.component.css","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/facture-global/facture-global.component.html","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/facture-global/facture-global.component.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/navbar/navbar.component.css","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/navbar/navbar.component.html","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/navbar/navbar.component.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/page-not-found/page-not-found.component.css","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/page-not-found/page-not-found.component.html","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/page-not-found/page-not-found.component.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/valider-devis/valider-devis.component.css","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/valider-devis/valider-devis.component.html","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/valider-devis/valider-devis.component.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/models/civilite.enum.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/models/client.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/models/detailsDevis.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/models/factureGlobal.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/models/taux.const.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/bugs.service.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/client.service.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/details-devis.service.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/devis.service.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/facture-accompte.service.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/facture-global.service.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/reglement.service.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/environments/environment.ts","C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/main.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA,8D;;;;;;;;;;;;;;;;;;;;;;;ACNyC;AACc;AAIgB;AACH;AAEuB;AACS;AACnC;AAC4B;AAE7F;;GAEG;AACH,IAAM,MAAM,GAAW;IACrB,uCAAuC;IACvC,uDAAuD;IACvD,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,4FAAe,EAAE;IAC9C,+CAA+C;IAC/C,2BAA2B;IAC3B,EAAE,IAAI,EAAE,yBAAyB,EAAE,SAAS,EAAE,yFAAc,EAAE;IAC9D,oDAAoD;IACpD,yCAAyC;IACzC,EAAE,IAAI,EAAE,sCAAsC,EAAE,SAAS,EAAE,gHAAqB,EAAE;IAClF,yCAAyC;IACzC,EAAE,IAAI,EAAE,mCAAmC,EAAE,SAAS,EAAE,yHAAwB,EAAE;IAClF,YAAY;IACZ,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,sFAAa,EAAE;IACzC,EAAE,IAAI,EAAE,cAAc,EAAE,SAAS,EAAE,kHAAqB,EAAE;IAC1D,oCAAoC;IACpC,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE;IACrD,sBAAsB;IACtB,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,kHAAqB,EAAE;CACjD,CAAC;AAMF,IAAa,gBAAgB;IAA7B;IAAgC,CAAC;IAAD,uBAAC;AAAD,CAAC;AAApB,gBAAgB;IAJ5B,sFAAQ,CAAC;QACR,OAAO,EAAE,CAAE,qEAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAE;QACzC,OAAO,EAAE,CAAE,qEAAY,CAAE;KAC1B,CAAC;GACW,gBAAgB,CAAI;AAAJ;;;;;;;;ACzC7B;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;ACXA,iL;;;;;;;;;;;;;;;;ACA0C;AAQ1C,IAAa,YAAY;IADzB,iBAAiB;IACjB;IAEA,CAAC;IAAD,mBAAC;AAAD,CAAC;AAFY,YAAY;IANxB,wFAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,0EAAmC;QACnC,yEAAoC;KACrC,CAAC;IACF,iBAAiB;GACJ,YAAY,CAExB;AAFwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRiC;AACjB;AACE;AACU;AACV;AACoC;AACkB;AACjG,yBAAyB;AACgC;AAEzD,iBAAiB;AACuC;AAExD,oBAAoB;AAC2B;AACwB;AACH;AAC0B;AACd;AACT;AACoB;AACS;AACP;AAC5B;AAEjE,kBAAkB;AACuC;AACF;AACiB;AACI;AACN;AACP;AACV;AAqCrD,IAAa,SAAS;IAAtB;IAAyB,CAAC;IAAD,gBAAC;AAAD,CAAC;AAAb,SAAS;IAnCrB,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,oEAAY;YACZ,6FAAe;YACf,0FAAc;YACd,oHAAsB;YACtB,sGAAkB;YAClB,6FAAe;YACf,iHAAqB;YACrB,mHAAqB;YACrB,0HAAwB;YACxB,uFAAa;SACd;QACD,OAAO,EAAE;YACP,gFAAa;YACb,6EAAgB;YAChB,iEAAU;YACV,2EAAmB;YACnB,+EAAmB;YACnB,qGAAuB;YACvB,mFAAwB;SACzB;QACD,SAAS,EAAE;YACT,+EAAa;YACb,6EAAY;YACZ,kGAAsB;YACtB,8FAAoB;YACpB,4FAAmB;YACnB,qFAAgB;YAChB,iEAAQ;YACR,2EAAW;SACZ;QACD,SAAS,EAAE,CAAE,oEAAY,CAAE;QAC3B,OAAO,EAAE,CAAE,6FAAe,CAAE;KAC7B,CAAC;GACW,SAAS,CAAI;AAAJ;;;;;;;;ACrEtB;AACA;;;AAGA;AACA,kCAAmC,yBAAyB,KAAK;;AAEjE;;;AAGA;AACA,2C;;;;;;;ACXA,irCAAirC,sVAAsV,qBAAqB,uBAAuB,sCAAsC,uBAAuB,eAAe,uBAAuB,aAAa,2kCAA2kC,kCAAkC,sTAAsT,iBAAiB,qWAAqW,gBAAgB,usCAAusC,oBAAoB,kVAAkV,kCAAkC,sTAAsT,iBAAiB,uWAAuW,gBAAgB,kZAAkZ,YAAY,2F;;;;;;;;;;;;;;;;;;;ACArkM;AAalD;;;;;;GAMG;AAMH,IAAa,aAAa;IAGxB;IAAgB,CAAC;IAEjB,gCAAQ,GAAR;IAEA,CAAC;IAoQH,oBAAC;AAAD,CAAC;AA3QY,aAAa;IALzB,wFAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,2FAAoC;QACpC,0FAAqC;KACtC,CAAC;;GACW,aAAa,CA2QzB;AA3QyB;;;;;;;;ACzB1B;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;ACXA,smBAAsmB,aAAa,0FAA0F,cAAc,gDAAgD,YAAY,+BAA+B,eAAe,+BAA+B,oBAAoB,GAAG,yBAAyB,SAAS,eAAe,GAAG,kBAAkB,+BAA+B,wBAAwB,GAAG,6BAA6B,SAAS,mBAAmB,GAAG,sBAAsB,+BAA+B,cAAc,+BAA+B,eAAe,0gCAA0gC,6MAA6M,YAAY,GAAG,eAAe,wnCAAwnC,eAAe,6IAA6I,kJAAkJ,8JAA8J,YAAY,y3BAAy3B,uJAAuJ,uKAAuK,eAAe,+zBAA+zB,gJAAgJ,oKAAoK,cAAc,uxBAAuxB,0IAA0I,oKAAoK,eAAe,i3BAAi3B,YAAY,aAAa,qvBAAqvB,oBAAoB,uWAAuW,yBAAyB,0VAA0V,eAAe,uSAAuS,kBAAkB,8iBAA8iB,wBAAwB,uXAAuX,6BAA6B,0WAA0W,mBAAmB,kVAAkV,sBAAsB,iN;;;;;;;;;;;;;;;;;;;;;;;;ACA1sX;AAEiB;AAIb;AAEtD,WAAW;AACkD;AACF;AACD;AAE1D;;;;;;GAMG;AAMH,IAAa,eAAe;IA8E3B;;;;;;;;KAQI;IACH,yBACU,aAA4B,EAC5B,YAA0B,EAC1B,WAAwB,EACxB,aAAmC;QAHnC,kBAAa,GAAb,aAAa,CAAe;QAC5B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,gBAAW,GAAX,WAAW,CAAa;QACxB,kBAAa,GAAb,aAAa,CAAsB;QAlF7C;;;;;WAKG;QACH,WAAM,GAAQ,EAAE,CAAC;QAEjB;;;;;WAKG;QACH,cAAS,GAAW,IAAI,CAAC;QAUzB;;;;WAIG;QACH,aAAQ,GAAG,uEAAQ,CAAC;QAEpB;;;;WAIG;QACH,SAAI,GAAG,KAAK,CAAC;QAEb;;;;WAIG;QACH,eAAU,GAAG,KAAK,CAAC;QAUnB,gBAAgB;QAEhB;;;;WAIG;QACH,gBAAW,GAAG,qCAAqC,CAAC;QAEpD;;;;WAIG;QACH,iBAAY,GAAG,sCAAsC,CAAC;QAiBpD,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IACxD,CAAC;IAEF;;;;KAII;IACH,uCAAa,GAAb;QAAA,iBAQC;QAPC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE;aAC/B,SAAS,CACV,cAAI;YACF,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACzB,CAAC,EACD,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAC1B,CAAC;IACN,CAAC;IAEF;;;;;;KAMI;IACH,sCAAY,GAAZ,UAAa,EAAU;QAAvB,iBAMC;QALC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC;aAChC,SAAS,CACV,gBAAM,IAAI,YAAI,CAAC,MAAM,GAAG,MAAM,EAApB,CAAoB,EAC9B,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,EAA9B,CAA8B,CACtC,CAAC;IACN,CAAC;IAEF;;;;;;KAMI;IACH,mCAAS,GAAT;QAAA,iBAoDC;QAnDC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;QACpC,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC;QAC7D,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACzB,uBAAuB;QACvB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,IAAI,IAAI,IAAI,CAAC,SAAS,KAAK,CAAC,CAAC,CAAC,CAAC;YACpD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC;iBACtC,SAAS,CACV,cAAI;gBACF,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;oBAClB,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;wBACpC,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;wBACpC,OAAO,EAAE,IAAI;qBACd,CAAC,CAAC;oBACH,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;oBACxB,KAAI,CAAC,UAAU,EAAE,CAAC;gBACpB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;wBACpC,OAAO,EAAE,CAAE,OAAO,EAAE,eAAe,CAAE;wBACrC,OAAO,EAAE,IAAI;qBACd,CAAC,CAAC;oBACH,OAAO,CAAC,GAAG,CAAC,cAAc,GAAG,IAAI,CAAC,CAAC;oBACnC,KAAI,CAAC,SAAS,EAAE,CAAC;gBACnB,CAAC;YACH,CAAC,CACA,CAAC;QACN,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC;iBACzC,SAAS,CACV,cAAI;gBACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;oBACjB,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,mBAAmB,EAAE;wBAC3C,OAAO,EAAE,CAAE,OAAO,EAAE,eAAe,CAAE;wBACrC,OAAO,EAAE,IAAI;qBACd,CAAC,CAAC;oBACH,OAAO,CAAC,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,CAAC;oBACrC,KAAI,CAAC,SAAS,EAAE,CAAC;gBACnB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,6BAA6B,EAAE;wBACrD,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;wBACpC,OAAO,EAAE,IAAI;qBACd,CAAC,CAAC;oBACH,OAAO,CAAC,GAAG,CAAC,wBAAwB,GAAG,IAAI,CAAC,CAAC;oBAC7C,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;oBACxB,KAAI,CAAC,UAAU,EAAE,CAAC;gBACpB,CAAC;YACH,CAAC,CACF,CAAC;QACJ,CAAC;IACH,CAAC;IAEF;;;;;KAKI;IACH,kCAAQ,GAAR,UAAS,EAAU;QAAnB,iBAqCC;QApCC,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,EAAE,CAAC;aACtC,SAAS,CACV,cAAI;YACF,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;gBACtB,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC;qBAChC,SAAS,CACV;oBACE,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oBAC9B,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,iBAAiB,EAAE;wBACzC,OAAO,EAAE,CAAE,OAAO,EAAE,eAAe,CAAE;wBACrC,OAAO,EAAE,IAAI;qBACd,CAAC,CAAC;oBACH,KAAI,CAAC,MAAM,GAAG,EAAE,CAAC;oBACjB,KAAI,CAAC,aAAa,EAAE,CAAC;gBACvB,CAAC,EACD,eAAK;oBACH,KAAI,CAAC,MAAM,GAAG,EAAE,CAAC;oBACjB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACnB,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,6BAA6B,EAAE;wBACrD,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;wBACpC,OAAO,EAAE,IAAI;qBACd,CAAC,CAAC;gBACL,CAAC,CACA,CAAC;YACN,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,MAAM,GAAG,EAAE,CAAC;gBACjB,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;gBACnC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,4DAA4D,EAAE;oBACpF,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;oBACpC,OAAO,EAAE,IAAI;iBACd,CAAC,CAAC;YACL,CAAC;QACH,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACnC,CAAC;IACN,CAAC;IAED;;;;;OAKG;IACH,2CAAiB,GAAjB,UAAkB,MAAc;QAC9B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAED;;;;OAIG;IACH,oCAAU,GAAV;QACE,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IACxB,CAAC;IAEF;;;;;KAKI;IACH,mCAAS,GAAT;QACE,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAEF;;;;KAII;IACH,+BAAK,GAAL;QACE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACnB,CAAC;IAEF;;;;;KAKI;IACH,kCAAQ,GAAR,UAAS,MAAc;QACrB,qCAAqC;QACrC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC;QAE5B,wBAAwB;QACxB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAC1D,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAChD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACtD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACpD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACtD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;QAChE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;QAC1E,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACtD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAC5D,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;QACxE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;QAClF,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAC9D,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QAEpE,MAAM,GAAG,IAAI,CAAC;QACd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACnB,CAAC;IAEF;;;;KAII;IACH,kCAAQ,GAAR;QACE,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAEF;;;;KAII;IACH,sCAAY,GAAZ;QACE,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACvC,QAAQ,EAAE,EAAE;YACZ,GAAG,EAAE,CAAE,EAAE,EAAE,kEAAU,CAAC,OAAO,CAAC;oBAC5B,kEAAU,CAAC,QAAQ;oBACnB,IAAI,CAAC,mBAAmB;iBACzB,CAAC,CAAE;YACJ,MAAM,EAAE,CAAE,EAAE,EAAE,kEAAU,CAAC,OAAO,CAAC;oBAC/B,kEAAU,CAAC,QAAQ;oBACnB,IAAI,CAAC,mBAAmB;iBACzB,CAAC,CAAE;YACJ,KAAK,EAAE,CAAE,EAAE,EAAE,kEAAU,CAAC,OAAO,CAAC;oBAC9B,kEAAU,CAAC,QAAQ;oBACnB,IAAI,CAAC,eAAe;iBACrB,CAAC,CAAE;YACJ,MAAM,EAAE,CAAE,EAAE,EAAE,kEAAU,CAAC,OAAO,CAAC;oBAC/B,IAAI,CAAC,gBAAgB;oBACrB,kEAAU,CAAC,SAAS,CAAC,EAAE,CAAC;iBACzB,CAAC,CAAE;YACJ,WAAW,EAAE,EAAE;YACf,gBAAgB,EAAE,EAAE;YACpB,MAAM,EAAE,EAAE;YACV,SAAS,EAAE,EAAE;YACb,eAAe,EAAE,EAAE;YACnB,oBAAoB,EAAE,EAAE;YACxB,UAAU,EAAE,EAAE;YACd,aAAa,EAAE,EAAE;SAClB,CAAC,CAAC;IACL,CAAC;IAED;;;;OAIG;IACH,oCAAU,GAAV;QACE,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC;IAED;;;;OAIG;IACH,qCAAW,GAAX;QACE,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IAED,mBAAmB;IACnB;;;;;;OAMG;IACH,6CAAmB,GAAnB,UAAoB,QAAQ;QAC1B,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,gBAAgB,CAAC,CAAC;QAC5C,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAChC,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QACD,MAAM,CAAC;YACL,mBAAmB,EAAE,IAAI;SAC1B;IACH,CAAC;IAED;;;;;;OAMG;IACH,yCAAe,GAAf,UAAgB,QAAQ;QACtB,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,wJAAwJ,CAAC,CAAC;QACpL,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAChC,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QACD,MAAM,CAAC;YACL,eAAe,EAAE,IAAI;SACtB;IACH,CAAC;IAED;;;;;;OAMG;IACH,0CAAgB,GAAhB,UAAiB,QAAQ;QACvB,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC;QACxC,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAChC,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QACD,MAAM,CAAC;YACL,gBAAgB,EAAE,IAAI;SACvB,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACH,kCAAQ,GAAR;QACE,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAEH,sBAAC;AAAD,CAAC;AApbY,eAAe;IAL3B,wFAAS,CAAC;QACT,QAAQ,EAAE,YAAY;QACtB,+FAAsC;QACtC,8FAAuC;KACxC,CAAC;yDAyFyB,8EAAa,oBAAb,8EAAa,sDACd,4EAAY,oBAAZ,4EAAY,sDACb,mEAAW,oBAAX,mEAAW,sDACT,gFAAoB,oBAApB,gFAAoB;GA3FlC,eAAe,CAob3B;AApb2B;;;;;;;;;ACzB5B;AACA;;;AAGA;AACA,mCAAoC,wBAAwB;;AAE5D;;;AAGA;AACA,2C;;;;;;;ACXA,mNAAmN,4XAA4X,0BAA0B,+DAA+D,aAAa,kFAAkF,cAAc,wCAAwC,YAAY,uBAAuB,eAAe,uBAAuB,cAAc,uBAAuB,eAAe,kXAAkX,kdAAkd,aAAa,uFAAuF,cAAc,0CAA0C,sBAAsB,yBAAyB,uCAAuC,yBAAyB,oBAAoB,yBAAyB,sBAAsB,yBAAyB,oBAAoB,oMAAoM,gVAAgV,aAAa,uBAAuB,sCAAsC,uBAAuB,aAAa,uBAAuB,WAAW,uBAAuB,cAAc,mMAAmM,8bAA8b,aAAa,wFAAwF,cAAc,0CAA0C,uBAAuB,yBAAyB,sCAAsC,yBAAyB,kBAAkB,yBAAyB,mBAAmB,+E;;;;;;;;;;;;;;;;;;;;;;;;ACA3tH;AAEL;AAIgB;AACF;AACqB;AACJ;AAE5E,SAAS;AACT,WAAW;AACX;;;;;;GAMG;AAMH,IAAa,kBAAkB;IAwB7B;;;;;;;OAOG;IACH,4BACU,aAA4B,EAC5B,YAA0B,EAC1B,oBAA0C,EAC1C,sBAA8C;QAH9C,kBAAa,GAAb,aAAa,CAAe;QAC5B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,2BAAsB,GAAtB,sBAAsB,CAAwB;QAnCxD,eAAU,GAAa,EAAE,CAAC;QAC1B,cAAS,GAAY,EAAE,CAAC;QACxB,sBAAiB,GAAoB,EAAE,CAAC;QACxC,wBAAmB,GAAsB,EAAE,CAAC;QAG5C,gBAAgB;QAEhB;;;;WAIG;QACH,gBAAW,GAAG,qCAAqC,CAAC;QAEpD;;;;WAIG;QACH,iBAAY,GAAG,sCAAsC,CAAC;IAgBlD,CAAC;IAEL;;;;;OAKG;IACH,qCAAQ,GAAR,UAAS,MAAc;QACrB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,MAAM;QAC5B,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAClC,IAAI,CAAC,2BAA2B,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAC/C,CAAC;IAED;;;;OAIG;IACH,6CAAgB,GAAhB;QACE,IAAI,CAAC,cAAc,GAAG,IAAI,8DAAM,EAAE,CAAC;QACnC,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED;;;;OAIG;IACH,0CAAa,GAAb;QAAA,iBAMC;QALC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE;aAC/B,SAAS,CACV,cAAI,IAAI,YAAI,CAAC,UAAU,GAAG,IAAI,EAAtB,CAAsB,EAC9B,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACnC,CAAC;IACN,CAAC;IAED;;;;OAIG;IACH,wCAAW,GAAX;QAAA,iBAMC;QALC,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;aAC5B,SAAS,CACV,cAAI,IAAI,YAAI,CAAC,SAAS,GAAG,IAAI,EAArB,CAAqB,EAC7B,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACnC,CAAC;IACN,CAAC;IAED;;;;;OAKG;IACH,6CAAgB,GAAhB,UAAiB,EAAU;QAA3B,iBAMC;QALC,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,EAAE,CAAC;aACtC,SAAS,CACV,cAAI,IAAI,YAAI,CAAC,SAAS,GAAG,IAAI,EAArB,CAAqB,EAC7B,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACnC,CAAC;IACN,CAAC;IAED,gDAAmB,GAAnB;QAAA,iBAMC;QALC,IAAI,CAAC,oBAAoB,CAAC,mBAAmB,EAAE;aAC5C,SAAS,CACV,cAAI,IAAI,YAAI,CAAC,iBAAiB,GAAG,IAAI,EAA7B,CAA6B,EACrC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACnC,CAAC;IACN,CAAC;IAED,wDAA2B,GAA3B,UAA4B,EAAU;QAAtC,iBAaC;QAZC,IAAI,CAAC,oBAAoB,CAAC,2BAA2B,CAAC,EAAE,CAAC;aACtD,SAAS,CACV,cAAI;YACF,KAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;YAC9B,EAAE,CAAC,CAAC,KAAI,CAAC,iBAAiB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACtC,KAAI,CAAC,oCAAoC,CAAC,IAAI,CAAE,CAAC,CAAE,CAAC,GAAG,CAAC,CAAC;YAC3D,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;YAChC,CAAC;QACH,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACnC,CAAC;IACN,CAAC;IAED,kDAAqB,GAArB;QAAA,iBAMC;QALC,IAAI,CAAC,sBAAsB,CAAC,qBAAqB,EAAE;aAChD,SAAS,CACV,cAAI,IAAI,YAAI,CAAC,mBAAmB,GAAG,IAAI,EAA/B,CAA+B,EACvC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACnC;IACL,CAAC;IAED,iEAAoC,GAApC,UAAqC,EAAU;QAA/C,iBAMC;QALC,IAAI,CAAC,sBAAsB,CAAC,oCAAoC,CAAC,EAAE,CAAC;aACjE,SAAS,CACV,cAAI,IAAI,YAAI,CAAC,mBAAmB,GAAG,IAAI,EAA/B,CAA+B,EACvC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACnC;IACL,CAAC;IAED;;;;;OAKG;IACH,qCAAQ,GAAR;QACE,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC/B,CAAC;IAEH,yBAAC;AAAD,CAAC;AA1JY,kBAAkB;IAL9B,wFAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,qGAAyC;QACzC,oGAA0C;KAC3C,CAAC;yDAkCyB,8EAAa,oBAAb,8EAAa,sDACd,4EAAY,oBAAZ,4EAAY,sDACJ,6FAAoB,oBAApB,6FAAoB,sDAClB,iGAAsB,oBAAtB,iGAAsB;GApC7C,kBAAkB,CA0J9B;AA1J8B;;;;;;;;;ACzB/B;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;ACXA,6DAA6D,YAAY,GAAG,eAAe,+LAA+L,uYAAuY,aAAa,uBAAuB,sCAAsC,uBAAuB,aAAa,uBAAuB,WAAW,uBAAuB,cAAc,uBAAuB,YAAY,GAAG,eAAe,ylBAAylB,mBAAmB,uBAAuB,iBAAiB,uBAAuB,oBAAoB,8gBAA8gB,yLAAyL,iBAAiB,yvBAAyvB,sPAAsP,yNAAyN,iBAAiB,uyBAAuyB,qBAAqB,oNAAoN,gKAAgK,4RAA4R,yBAAyB,wYAAwY,uBAAuB,gRAAgR,0BAA0B,0vBAA0vB,gKAAgK,oOAAoO,yBAAyB,wYAAwY,uBAAuB,gRAAgR,0BAA0B,4rBAA4rB,gKAAgK,oOAAoO,yBAAyB,wYAAwY,uBAAuB,gRAAgR,0BAA0B,igCAAigC,iBAAiB,kTAAkT,eAAe,wVAAwV,kBAAkB,sQAAsQ,YAAY,GAAG,eAAe,sIAAsI,YAAY,aAAa,mf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAh4W;AACO;AACkB;AACX;AACC;AAEb;AAEQ;AACI;AACI;AACa;AACf;AACiB;AAE5E,SAAS;AACT,WAAW;AACX;;;;;;GAMG;AAMH,IAAa,cAAc;IA8FzB;;;;;;;;;;;;OAYG;IACH,wBACU,YAA0B,EAC1B,QAAkB,EAClB,cAA8B,EAC9B,WAAwB,EACxB,aAA4B,EAC5B,aAAmC,EACnC,mBAAwC,EACxC,oBAA0C,EAC1C,MAAc;QARd,iBAAY,GAAZ,YAAY,CAAc;QAC1B,aAAQ,GAAR,QAAQ,CAAU;QAClB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,gBAAW,GAAX,WAAW,CAAa;QACxB,kBAAa,GAAb,aAAa,CAAe;QAC5B,kBAAa,GAAb,aAAa,CAAsB;QACnC,wBAAmB,GAAnB,mBAAmB,CAAqB;QACxC,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,WAAM,GAAN,MAAM,CAAQ;QAnHxB;;;;;WAKG;QACH,cAAS,GAAY,EAAE,CAAC;QAUxB;;;;;WAKG;QACH,UAAK,GAAQ,EAAE,CAAC;QAEhB;;;;;WAKG;QACH,kBAAa,GAAQ,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;QAElD;;;;;WAKG;QACH,kBAAa,GAAQ,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;QAElD;;;;;WAKG;QACH,kBAAa,GAAQ,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;QAElD;;;;WAIG;QACH,WAAM,GAAG,IAAI,8DAAM,EAAE,CAAC;QAkBtB;;;;WAIG;QACH,SAAI,GAAG,KAAK,CAAC;QAEb;;;;WAIG;QACH,eAAU,GAAG,KAAK,CAAC;QAkCjB,IAAI,CAAC,YAAY,EAAE;IACrB,CAAC;IAED;;;;;;;OAOG;IACH,qCAAY,GAAZ;QAAA,iBAMC;QALC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE;aAC/B,SAAS,CACV,iBAAO,IAAI,YAAI,CAAC,UAAU,GAAG,OAAO,EAAzB,CAAyB,EACpC,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,KAAK,CAAC,EAA/B,CAA+B,CACvC,CAAC;IACN,CAAC;IAED;;;;;OAKG;IACH,oCAAW,GAAX;QAAA,iBAMC;QALC,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE;aAC5B,SAAS,CACV,eAAK,IAAI,YAAI,CAAC,SAAS,GAAG,KAAK,EAAtB,CAAsB,EAC/B,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,KAAK,CAAC,EAA/B,CAA+B,CACvC,CAAC;IACN,CAAC;IAED;;;;;;OAMG;IACH,4CAAmB,GAAnB,UAAoB,EAAU;QAA9B,iBAMC;QALC,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,EAAE,CAAC;aACtC,SAAS,CACV,eAAK,IAAI,YAAI,CAAC,SAAS,GAAG,KAAK,EAAtB,CAAsB,EAC/B,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,KAAK,CAAC,EAA/B,CAA+B,CACvC,CAAC;IACN,CAAC;IAED;;;;;;;OAOG;IACH,iDAAwB,GAAxB,UAAyB,EAAU;QAAnC,iBAgBC;QAfC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,YAAY,CAAC,mBAAmB,CAAC,EAAE,CAAC;aACtC,SAAS,CACV,eAAK;YACH,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC;gBACtB,EAAE,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBAC9B,EAAE,CAAC,CAAC,KAAK,CAAE,GAAG,CAAE,CAAC,KAAK,CAAC,CAAC,CAAC;wBACvB,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAE,GAAG,CAAE,CAAC,CAAC;oBACpC,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC,EACD,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,KAAK,CAAC,EAA/B,CAA+B,CACvC,CAAC;QACJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC9B,CAAC;IAED;;;;;;OAMG;IACH,kCAAS,GAAT,UAAU,EAAU;QAApB,iBAMC;QALC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC;aAChC,SAAS,CACV,gBAAM,IAAI,YAAI,CAAC,MAAM,GAAG,MAAM,EAApB,CAAoB,EAC9B,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,KAAK,CAAC,EAA/B,CAA+B,CACvC,CAAC;IACN,CAAC;IAED;;;;;;OAMG;IACH,oCAAW,GAAX,UAAY,EAAU;QAAtB,iBAMC;QALC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE,CAAC;aAC9B,SAAS,CACV,eAAK,IAAI,YAAI,CAAC,KAAK,GAAG,KAAK,EAAlB,CAAkB,EAC3B,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,KAAK,CAAC,EAA/B,CAA+B,CACvC,CAAC;IACN,CAAC;IAED;;;;;;OAMG;IACH,iCAAQ,GAAR;QAAA,iBAsEC;QArEC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,yBAAyB;QACzB,IAAM,QAAQ,GAAG;YACf,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK;YAChD,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,KAAK;YACxD,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK;YAChD,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,KAAK;YAC5C,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK;YAClD,MAAM,EAAE,IAAI,CAAC,SAAS;SACvB,CAAC;QACF,yBAAyB;QACzB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,EAAE,CAAC,CAAC,CAAC;YAC5E,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,QAAQ,CAAC;iBACjC,SAAS,CACV,cAAI;gBACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;oBACjB,OAAO,CAAC,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC,CAAC;oBAClC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,EAAE;wBACpC,OAAO,EAAE,CAAE,OAAO,EAAE,eAAe,CAAE;wBACrC,OAAO,EAAE,IAAI;qBACd,CAAC,CAAC;oBACH,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACjC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBAC1B,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;wBACpC,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;wBACpC,OAAO,EAAE,IAAI;qBACd,CAAC,CAAC;oBACH,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;oBACxB,KAAI,CAAC,UAAU,EAAE,CAAC;gBACpB,CAAC;YACH,CAAC,EACD,eAAK;gBACH,OAAO,CAAC,GAAG,CAAC,UAAU,GAAG,KAAK,CAAC,CAAC;YAClC,CAAC,CACA,CAAC;QACN,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,2BAA2B;YAC3B,IAAM,WAAW,GAAG;gBAClB,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG;gBACnB,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK;gBAChD,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,KAAK;gBACxD,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK;gBAChD,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,KAAK;gBAC5C,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK;gBAClD,MAAM,EAAE,IAAI,CAAC,SAAS;aACvB,CAAC;YACF,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,WAAW,CAAC;iBACvC,SAAS,CACV,cAAI;gBACF,OAAO,CAAC,GAAG,CAAC,eAAe,GAAG,IAAI,CAAC,CAAC;gBACpC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,EAAE;oBACvC,OAAO,EAAE,CAAE,OAAO,EAAE,eAAe,CAAE;oBACrC,OAAO,EAAE,IAAI;iBACd,CAAC,CAAC;gBACH,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACpC,CAAC,EACD,eAAK;gBACH,OAAO,CAAC,GAAG,CAAC,UAAU,GAAG,KAAK,CAAC,CAAC;gBAChC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,2BAA2B,EAAE;oBACnD,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;oBACpC,OAAO,EAAE,IAAI;iBACd,CAAC,CAAC;gBACH,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,KAAI,CAAC,UAAU,EAAE,CAAC;YACpB,CAAC,CACA,CAAC;QACN,CAAC;IACH,CAAC;IAED;;;;;;;OAOG;IACH,wCAAe,GAAf,UAAgB,KAAK;QAArB,iBAyEC;QAxEC,uCAAuC;QACvC,IAAI,CAAC,aAAa,GAAG;YACnB,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK;YAC7C,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK;YACjD,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK;YACnD,KAAK,EAAE,KAAK,CAAC,GAAG;SACjB,CAAC;QACF,IAAI,CAAC,aAAa,GAAG;YACnB,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK;YAC7C,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK;YACjD,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK;YACnD,KAAK,EAAE,KAAK,CAAC,GAAG;SACjB,CAAC;QACF,IAAI,CAAC,aAAa,GAAG;YACnB,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK;YAC7C,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK;YACjD,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK;YACnD,KAAK,EAAE,KAAK,CAAC,GAAG;SACjB,CAAC;QAEF;;;;;;;;;;;;;;YAcI;QAEJ,oBAAoB;QACpB,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,CAAC;aACzD,SAAS,CACV,cAAI;YACF,OAAO,CAAC,GAAG,CAAC,uBAAuB,GAAG,KAAI,CAAC,aAAa,CAAC,CAAC;YAC1D,KAAI,CAAC,aAAa,GAAG,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;YAElD,KAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,KAAI,CAAC,aAAa,CAAC;iBACzD,SAAS,CACV,cAAI;gBACF,OAAO,CAAC,GAAG,CAAC,uBAAuB,GAAG,KAAI,CAAC,aAAa,CAAC,CAAC;gBAC1D,KAAI,CAAC,aAAa,GAAG,EAAE,CAAC;gBACxB,KAAI,CAAC,aAAa,GAAG,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;gBAElD,KAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,KAAI,CAAC,aAAa,CAAC;qBACzD,SAAS,CACV,cAAI;oBACF,OAAO,CAAC,GAAG,CAAC,uBAAuB,GAAG,KAAI,CAAC,aAAa,CAAC,CAAC;oBAC1D,KAAI,CAAC,aAAa,GAAG,EAAE,CAAC;oBACxB,KAAI,CAAC,aAAa,GAAG,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;oBAClD,KAAI,CAAC,SAAS,EAAE,CAAC;gBACnB,CAAC,EAAE,UAAC,GAAG;oBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,KAAI,CAAC,UAAU,EAAE,CAAC;gBACpB,CAAC,CACA,CAAC;YACN,CAAC,EAAE,UAAC,GAAG;gBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,KAAI,CAAC,UAAU,EAAE,CAAC;YACpB,CAAC,CACA,CAAC;QACN,CAAC,EAAE,UAAC,GAAG;YACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,CACA,CAAC;IACN,CAAC;IAED;;;;;OAKG;IACH,2CAAkB,GAAlB,UAAmB,KAAK;QAAxB,iBAkDC;QAjDC,uCAAuC;QACvC,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC;QACtE,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC;QAClE,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC;QAExE,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC;QACtE,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC;QAClE,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC;QAExE,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC;QACtE,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC;QAClE,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC;QAExE,sBAAsB;QACtB,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,IAAI,CAAC,aAAa,CAAC;aAC5D,SAAS,CACV,cAAI;YACF,OAAO,CAAC,GAAG,CAAC,wBAAwB,GAAG,KAAI,CAAC,aAAa,CAAC,CAAC;YAC3D,KAAI,CAAC,aAAa,GAAG,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;YAElD,KAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,KAAI,CAAC,aAAa,CAAC;iBAC5D,SAAS,CACV,cAAI;gBACF,OAAO,CAAC,GAAG,CAAC,wBAAwB,GAAG,KAAI,CAAC,aAAa,CAAC,CAAC;gBAC3D,KAAI,CAAC,aAAa,GAAG,EAAE,CAAC;gBACxB,KAAI,CAAC,aAAa,GAAG,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;gBAElD,KAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,KAAI,CAAC,aAAa,CAAC;qBAC5D,SAAS,CACV,cAAI;oBACF,OAAO,CAAC,GAAG,CAAC,wBAAwB,GAAG,KAAI,CAAC,aAAa,CAAC,CAAC;oBAC3D,KAAI,CAAC,aAAa,GAAG,EAAE,CAAC;oBACxB,KAAI,CAAC,aAAa,GAAG,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;oBAClD,KAAI,CAAC,SAAS,EAAE,CAAC;gBACnB,CAAC,EAAE,UAAC,GAAG;oBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,KAAI,CAAC,UAAU,EAAE,CAAC;gBACpB,CAAC,CACA,CAAC;YACN,CAAC,EAAE,UAAC,GAAG;gBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,KAAI,CAAC,UAAU,EAAE,CAAC;YACpB,CAAC,CACA,CAAC;QACN,CAAC,EAAE,UAAC,GAAG;YACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,CACA,CAAC;IACN,CAAC;IAED;;;;;;OAMG;IACH,iCAAQ,GAAR,UAAS,KAAY;QAArB,iBAkEC;QAjEC,IAAI,CAAC,oBAAoB,CAAC,0BAA0B,CAAC,KAAK,CAAC,GAAG,CAAC;aAC5D,SAAS,CACV,cAAI;YACF,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;gBACtB,eAAe;gBACf,KAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC;qBACrC,SAAS,CACV,aAAG;oBACD,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;oBAC7B,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,gBAAgB,EAAE;wBACxC,OAAO,EAAE,CAAE,OAAO,EAAE,eAAe,CAAE;wBACrC,OAAO,EAAE,IAAI;qBACd,CAAC,CAAC;oBACH,KAAI,CAAC,SAAS,EAAE,CAAC;oBACjB,kCAAkC;oBAClC,KAAI,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,KAAK,CAAC,GAAG,CAAC;yBACvD,SAAS,CACV,cAAI;wBACF,sBAAsB;wBACtB,KAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,IAAI,CAAE,CAAC,CAAE,CAAC,GAAG,CAAC;6BACvD,SAAS,CACV,cAAI;4BACF,OAAO,CAAC,GAAG,CAAC,uBAAuB,GAAG,IAAI,CAAC,CAAC;wBAC9C,CAAC,EAAE,UAAC,GAAG;4BACL,OAAO,CAAC,GAAG,CAAC,kBAAkB,GAAG,GAAG,CAAC,CAAC;wBACxC,CAAC,CACA,CAAC;wBACJ,KAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,IAAI,CAAE,CAAC,CAAE,CAAC,GAAG,CAAC;6BACvD,SAAS,CACV,cAAI;4BACF,OAAO,CAAC,GAAG,CAAC,uBAAuB,GAAG,IAAI,CAAC,CAAC;wBAC9C,CAAC,EAAE,UAAC,GAAG;4BACL,OAAO,CAAC,GAAG,CAAC,kBAAkB,GAAG,GAAG,CAAC,CAAC;wBACxC,CAAC,CACA,CAAC;wBACJ,KAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,IAAI,CAAE,CAAC,CAAE,CAAC,GAAG,CAAC;6BACvD,SAAS,CACV,cAAI;4BACF,OAAO,CAAC,GAAG,CAAC,uBAAuB,GAAG,IAAI,CAAC,CAAC;wBAC9C,CAAC,EAAE,UAAC,GAAG;4BACL,OAAO,CAAC,GAAG,CAAC,kBAAkB,GAAG,GAAG,CAAC,CAAC;wBACxC,CAAC,CACA,CAAC;oBACN,CAAC,CACA,CAAC;gBACN,CAAC,EACD,eAAK;oBACH,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;wBAChB,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,6BAA6B,EAAE;4BACrD,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;4BACpC,OAAO,EAAE,IAAI;yBACd,CAAC,CAAC;gBACP,CAAC,CACA,CAAC;YACN,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC;oBACpC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,+DAA+D,EAAE;wBACvF,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;wBACpC,OAAO,EAAE,IAAI;qBACd,CAAC,CAAC;gBACL,KAAI,CAAC,SAAS,EAAE,CAAC;YACnB,CAAC;QACH,CAAC,EAAE,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACtC,CAAC;IACN,CAAC;IAED;;;;OAIG;IACH,mCAAU,GAAV;QACE,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IAClB,CAAC;IAED;;;;;OAKG;IACH,kCAAS,GAAT;QACE,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,aAAa,CAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACrD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,aAAa,CAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACrD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,aAAa,CAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACrD,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,+DAA+D;QAC/D,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAE,WAAW,CAAE,KAAK,SAAS,CAAC,CAAC,CAAC;YACrE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC3C,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;IACH,CAAC;IAED;;;;OAIG;IACH,8BAAK,GAAL;QACE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,aAAa,GAAG,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;QAClD,IAAI,CAAC,aAAa,GAAG,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;QAClD,IAAI,CAAC,aAAa,GAAG,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;QAClD,yDAAyD;QACzD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,QAAQ,CAAE,CAAC,aAAa,CAAC;IACpD,CAAC;IAED;;;;;OAKG;IACH,iCAAQ,GAAR,UAAS,CAAC;QAAV,iBAoDC;QAnDC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;QACzB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAM,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;QACpF,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,WAAW,CAAC;QACvC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;QACpC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAE/D,IAAI,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,CAAC,CAAC,GAAG,CAAC;aACnD,SAAS,CACV,cAAI;YACF,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,2BAA2B;YAC3B,KAAI,CAAC,aAAa,GAAG,IAAI,CAAE,CAAC,CAAE,CAAC;YAC/B,KAAI,CAAC,aAAa,GAAG,IAAI,CAAE,CAAC,CAAE,CAAC;YAC/B,KAAI,CAAC,aAAa,GAAG,IAAI,CAAE,CAAC,CAAE,CAAC;YAE/B,sDAAsD;YACtD,EAAE,CAAC,CAAC,KAAI,CAAC,aAAa,KAAK,SAAS,CAAC,CAAC,CAAC;gBACrC,KAAI,CAAC,aAAa,GAAG,IAAI,0EAAY,CAAC;oBACpC,SAAS,EAAE,CAAC;oBACZ,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE;oBACxB,UAAU,EAAE,CAAC;iBACd,CAAC,CAAC;YACL,CAAC;YACD,EAAE,CAAC,CAAC,KAAI,CAAC,aAAa,KAAK,SAAS,CAAC,CAAC,CAAC;gBACrC,KAAI,CAAC,aAAa,GAAG,IAAI,0EAAY,CAAC;oBACpC,SAAS,EAAE,CAAC;oBACZ,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE;oBACxB,UAAU,EAAE,CAAC;iBACd,CAAC,CAAC;YACL,CAAC;YACD,EAAE,CAAC,CAAC,KAAI,CAAC,aAAa,KAAK,SAAS,CAAC,CAAC,CAAC;gBACrC,KAAI,CAAC,aAAa,GAAG,IAAI,0EAAY,CAAC;oBACpC,SAAS,EAAE,CAAC;oBACZ,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE;oBACxB,UAAU,EAAE,CAAC;iBACd,CAAC,CAAC;YACL,CAAC;YACD,sBAAsB;YACtB,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YACxE,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YACxE,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YACxE,0DAA0D;YAC1D,KAAI,CAAC,cAAc,EAAE,CAAC;YACtB,KAAI,CAAC,cAAc,EAAE,CAAC;YACtB,KAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC,EAAE,UAAC,GAAG;YACL,OAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC;QAChC,CAAC,CACA,CAAC;IACN,CAAC;IAED;;;;OAIG;IACH,iCAAQ,GAAR;QACE,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,aAAa,GAAG,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;QAClD,IAAI,CAAC,aAAa,GAAG,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;QAClD,IAAI,CAAC,aAAa,GAAG,EAAE,OAAO,EAAE,sEAAU,CAAE,CAAC,CAAE,EAAE,CAAC;IACpD,CAAC;IAED;;;;;OAKG;IACH,yCAAgB,GAAhB,UAAiB,KAAY;QAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;IAED;;;;OAIG;IACH,qCAAY,GAAZ;QACE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACtC,SAAS,EAAE,CAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,kEAAU,CAAC,OAAO,CAAC;oBACpD,kEAAU,CAAC,QAAQ;iBACpB,CAAC,CAAE;YACJ,aAAa,EAAE,CAAE,IAAI,CAAC,GAAG,CAAE;YAC3B,oBAAoB;YACpB,UAAU,EAAE,CAAE,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,kEAAU,CAAC,OAAO,CAAC;oBAC7D,kEAAU,CAAC,QAAQ;oBACnB,IAAI,CAAC,QAAQ;iBACd,CAAC,CAAE;YACJ,QAAQ,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAE;YACxF,WAAW,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAE;YAC9F,UAAU,EAAE,CAAE,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,kEAAU,CAAC,OAAO,CAAC;oBAC7D,kEAAU,CAAC,QAAQ;oBACnB,IAAI,CAAC,QAAQ;iBACd,CAAC,CAAE;YACJ,QAAQ,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAE;YACxF,WAAW,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAE;YAC9F,UAAU,EAAE,CAAE,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,kEAAU,CAAC,OAAO,CAAC;oBAC7D,kEAAU,CAAC,QAAQ;oBACnB,IAAI,CAAC,QAAQ;iBACd,CAAC,CAAE;YACJ,QAAQ,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAE;YACxF,WAAW,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAE;YAC9F,aAAa;YACb,SAAS,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;YAC7D,OAAO,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;YACzD,UAAU,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;YAC/D,MAAM,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,kEAAU,CAAC,OAAO,CAAC;oBACtE,kEAAU,CAAC,QAAQ;iBACpB,CAAC,CAAE;SACL,CAAC,CAAC;IACL,CAAC;IAED;;;;OAIG;IACH,mCAAU,GAAV;QACE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,WAAW,CAAE,CAAC,MAAM,EAAE,CAAC;QAChD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,eAAe,CAAE,CAAC,MAAM,EAAE,CAAC;QACpD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,YAAY,CAAE,CAAC,MAAM,EAAE,CAAC;QACjD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,YAAY,CAAE,CAAC,MAAM,EAAE,CAAC;QACjD,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,YAAY,CAAE,CAAC,MAAM,EAAE,CAAC;IACnD,CAAC;IAED;;;;OAIG;IACH,oCAAW,GAAX;QACE,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAGD,yDAAyD;IACzD;;;;OAIG;IACH,uCAAc,GAAd;QACE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,YAAY,CAAE,CAAC,KAAK,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,UAAU,CAAE,CAAC,KAAK,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;YACrH,IAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;YAC7H,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QACtE,CAAC;IACH,CAAC;IAED;;;;OAIG;IACH,uCAAc,GAAd;QACE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,YAAY,CAAE,CAAC,KAAK,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,UAAU,CAAE,CAAC,KAAK,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;YACrH,IAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;YAC7H,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QACtE,CAAC;IACH,CAAC;IAED;;;;OAIG;IACH,uCAAc,GAAd;QACE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,YAAY,CAAE,CAAC,KAAK,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,UAAU,CAAE,CAAC,KAAK,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;YACrH,IAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;YAC7H,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QACtE,CAAC;IACH,CAAC;IAED;;;;OAIG;IACH,sCAAa,GAAb;QACE,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,GAAG,GAAG;cAC/F,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,GAAG,GAAG;cACnF,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC;QACxF,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IACrE,CAAC;IAED;;;;OAIG;IACH,wCAAe,GAAf;QACE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,KAAK,EAAE,CAAC;eACnG,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;YACtD,IAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC;kBAC7G,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,CAAC;YACnD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QACzE,CAAC;IACH,CAAC;IAED;;;;OAIG;IACH,yCAAgB,GAAhB;QACE,IAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC;cAC9D,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC;cAC/C,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC;QACpD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3E,CAAC;IAED;;;;;OAKG;IACH,wCAAe,GAAf;QACE,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACvC,GAAG,IAAI,IAAI,CAAC,SAAS,CAAE,GAAG,CAAE,CAAC,SAAS,CAAC;YACzC,CAAC;QACH,CAAC;QACD,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IAED;;;;;OAKG;IACH,sCAAa,GAAb;QACE,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACvC,GAAG,IAAI,IAAI,CAAC,SAAS,CAAE,GAAG,CAAE,CAAC,OAAO,CAAC;YACvC,CAAC;QACH,CAAC;QACD,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IAED;;;;;OAKG;IACH,yCAAgB,GAAhB;QACE,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACvC,GAAG,IAAI,IAAI,CAAC,SAAS,CAAE,GAAG,CAAE,CAAC,UAAU,CAAC;YAC1C,CAAC;QACH,CAAC;QACD,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IAED,cAAc;IACd;;;;;;OAMG;IACH,iCAAQ,GAAR,UAAS,QAAQ;QACf,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,8BAA8B,CAAC,CAAC;QAC1D,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAChC,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC;gBACL,QAAQ,EAAE,IAAI;aACf,CAAC;QACJ,CAAC;IACH,CAAC;IAED;;;;;;;OAOG;IACH,iCAAQ,GAAR;QAAA,iBAgBC;QAfC,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC;aACvF,SAAS,CACV,cAAI;YACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,wEAAwE;gBACxE,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,IAAI,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;oBAClE,MAAM,CAAC,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBACnC,CAAC;YACH,CAAC;QACH,CAAC,EACD,eAAK;YACH,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;QACpB,CAAC,CACA,CAAC;QACJ,MAAM,CAAC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IACpC,CAAC;IAED;;;QAGI;IACJ;;;;;;;OAOG;IACH,iCAAQ,GAAR;QACE,mCAAmC;QACnC,sBAAsB;QACtB,mEAAmE;QACnE,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAE,WAAW,CAAE,KAAK,SAAS,CAAC,CAAC,CAAC;YACrE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAE,WAAW,CAAE,CAAC;YACpE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACzC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACjC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAE,eAAe,CAAE,CAAC,CAAC;QAC5C,CAAC;IACH,CAAC;IAEH,qBAAC;AAAD,CAAC;AAz4BY,cAAc;IAL1B,wFAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,6FAAqC;QACrC,4FAAsC;KACvC,CAAC;yDA6GwB,6EAAY,oBAAZ,6EAAY,sDAChB,iEAAQ,oBAAR,iEAAQ,sDACF,uEAAc,oBAAd,uEAAc,sDACjB,mEAAW,oBAAX,mEAAW,sDACT,8EAAa,oBAAb,8EAAa,sDACb,gFAAoB,oBAApB,gFAAoB,sDACd,2FAAmB,oBAAnB,2FAAmB,sDAClB,8FAAoB,oBAApB,8FAAoB,sDAClC,+DAAM,oBAAN,+DAAM;GApHb,cAAc,CAy4B1B;AAz4B0B;;;;;;;;;AC7B3B;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;ACXA,6DAA6D,iCAAiC,GAAG,0BAA0B,kNAAkN,4dAA4d,aAAa,sFAAsF,cAAc,wCAAwC,uBAAuB,uBAAuB,sCAAsC,uBAAuB,kBAAkB,uBAAuB,mBAAmB,uBAAuB,iCAAiC,0hBAA0hB,wBAAwB,uBAAuB,yBAAyB,siBAAsiB,yLAAyL,qCAAqC,00BAA00B,qSAAqS,qmCAAqmC,6BAA6B,6FAA6F,wSAAwS,o8CAAo8C,iCAAiC,gKAAgK,YAAY,aAAa,wjCAAwjC,qCAAqC,0TAA0T,+BAA+B,sUAAsU,gCAAgC,6FAA6F,4RAA4R,4sCAA4sC,YAAY,aAAa,wgBAAwgB,8SAA8S,uCAAuC,2BAA2B,gBAAgB,gGAAgG,YAAY,aAAa,qR;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA3mW;AACO;AACkB;AACX;AACC;AAMG;AACmB;AACJ;AACT;AAEnE,SAAS;AACT,WAAW;AACX;;;;;;;GAOG;AAMH,IAAa,wBAAwB;IA+JnC;;;;;;;;;;;;;OAaG;IACH,kCACU,cAA8B,EAC9B,oBAA0C,EAC1C,sBAA8C,EAC9C,QAAkB,EAClB,WAAwB,EACxB,aAAmC,EACnC,aAA4B,EAC5B,gBAAkC,EAClC,MAAc;QARd,mBAAc,GAAd,cAAc,CAAgB;QAC9B,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,aAAQ,GAAR,QAAQ,CAAU;QAClB,gBAAW,GAAX,WAAW,CAAa;QACxB,kBAAa,GAAb,aAAa,CAAsB;QACnC,kBAAa,GAAb,aAAa,CAAe;QAC5B,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,WAAM,GAAN,MAAM,CAAQ;QArLxB;;;;;WAKG;QACH,wBAAmB,GAAsB,EAAE,CAAC;QAE5C;;;;;WAKG;QACH,kBAAa,GAAgB,EAAE,CAAC;QAEhC;;;;;WAKG;QACH,sBAAiB,GAAoB,EAAE,CAAC;QAUxC;;;;;WAKG;QACH,kBAAa,GAAQ,EAAE,CAAC;QAExB;;;;;WAKG;QACH,oBAAe,GAAQ,EAAE,CAAC;QAE1B;;;;;WAKG;QACH,cAAS,GAAQ,EAAE,CAAC;QAmCpB;;;;WAIG;QACH,eAAU,GAAG,KAAK,CAAC;QAEnB,oBAAoB;QACpB;;;;WAIG;QACH,SAAI,GAAG,KAAK,CAAC;QAEb;;;;WAIG;QACH,qBAAgB,GAAG,KAAK,CAAC;QAkCzB,gBAAgB;QAChB;;;;WAIG;QACH,gBAAW,GAAG,qCAAqC,CAAC;QAEpD;;;;WAIG;QACH,iBAAY,GAAG,sCAAsC,CAAC;QA2BpD,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC/B,CAAC;IAED;;;;;OAKG;IACH,+CAAY,GAAZ,UAAa,EAAU;QAAvB,iBAOC;QANC,6BAA6B;QAC7B,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;aACvD,SAAS,CACV,cAAI,IAAI,YAAI,CAAC,MAAM,GAAG,IAAI,EAAlB,CAAkB,EAC1B,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACnC,CAAC;IACN,CAAC;IAED;;;;;OAKG;IACH,8DAA2B,GAA3B,UAA4B,EAAU;QAAtC,iBAMC;QALC,IAAI,CAAC,oBAAoB,CAAC,2BAA2B,CAAC,EAAE,CAAC;aACtD,SAAS,CACV,cAAI,IAAI,YAAI,CAAC,iBAAiB,GAAG,IAAI,EAA7B,CAA6B,EACrC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACnC,CAAC;IACN,CAAC;IAED;;;;;OAKG;IACH,sDAAmB,GAAnB,UAAoB,EAAU;QAA9B,iBAUC;QATC,IAAI,CAAC,oBAAoB,CAAC,uBAAuB,CAAC,EAAE,CAAC;aAClD,SAAS,CACV,cAAI;YACF,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC;YAChC,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACjC,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CACtB,CAAC;IACN,CAAC;IAED;;;;OAIG;IACH,wDAAqB,GAArB;QAAA,iBAMC;QALC,IAAI,CAAC,sBAAsB,CAAC,qBAAqB,EAAE;aAChD,SAAS,CACV,yBAAe,IAAI,YAAI,CAAC,mBAAmB,GAAG,eAAe,EAA1C,CAA0C,EAC7D,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CACtB,CAAC;IACN,CAAC;IAED;;;;;OAKG;IACH,uEAAoC,GAApC,UAAqC,EAAU;QAA/C,iBASC;QARC,IAAI,CAAC,sBAAsB,CAAC,oCAAoC,CAAC,EAAE,CAAC;aACjE,SAAS,CACV,yBAAe;YACb,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAC7B,KAAI,CAAC,mBAAmB,GAAG,eAAe,CAAC;QAC7C,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CACtB,CAAC;IACN,CAAC;IAED;;;;;OAKG;IACH,mEAAgC,GAAhC,UAAiC,EAAU;QAA3C,iBAQC;QAPC,IAAI,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,EAAE,CAAC;aACpD,SAAS,CACV,wBAAc;YACZ,KAAI,CAAC,aAAa,GAAG,cAAc,CAAC;QACtC,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CACxB,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACH,qDAAkB,GAAlB;QAAA,iBAqCC;QApCC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,UAAU,GAAG;YACf,mBAAmB,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,KAAK;YACtE,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,KAAK;YAC1D,cAAc,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,KAAK;YAC5D,eAAe,EAAE,CAAC;YAClB,aAAa,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG;SACtC,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACxB,IAAI,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,UAAU,CAAC;aACvD,SAAS,CACV,cAAI;YACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC1B,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;oBACpC,OAAO,EAAE,CAAE,OAAO,EAAE,eAAe,CAAE;oBACrC,OAAO,EAAE,IAAI;iBACd,CAAC,CAAC;gBACH,0CAA0C;gBAC1C,KAAI,CAAC,0BAA0B,CAAC,KAAI,CAAC,aAAa,EAAE,UAAU,CAAC,cAAc,CAAC,CAAC;gBAC/E,+BAA+B;gBAC/B,KAAI,CAAC,yBAAyB,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC;gBAEnD,KAAI,CAAC,SAAS,EAAE,CAAC;YACnB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,OAAO,CAAC,GAAG,CAAC,oCAAoC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC7D,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,EAAE;oBACtC,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;oBACpC,OAAO,EAAE,IAAI;iBACd,CAAC,CAAC;gBACH,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,KAAI,CAAC,iBAAiB,EAAE,CAAC;YAC3B,CAAC;QACH,CAAC,CACA,CAAC;IACN,CAAC;IAED;;;;OAIG;IACH,+CAAY,GAAZ;QAAA,iBAuCC;QAtCC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC5B,kCAAkC;QAClC,IAAI,YAAY,GAAG;YACjB,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,KAAK;YAC7D,YAAY,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,KAAK;YAC1D,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,GAAG;SAC1C,CAAC;QAEF,gBAAgB;QAChB,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,YAAY,CAAC;aAC7C,SAAS,CACV,cAAI;YACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC1B,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;oBACpC,OAAO,EAAE,CAAE,OAAO,EAAE,eAAe,CAAE;oBACrC,OAAO,EAAE,IAAI;iBACd,CAAC,CAAC;gBACH,mDAAmD;gBACnD,KAAI,CAAC,oCAAoC,CAAC,KAAI,CAAC,eAAe,EAAE,YAAY,CAAC,YAAY,CAAC,CAAC;gBAC3F,iCAAiC;gBACjC,KAAI,CAAC,2BAA2B,CAAC,KAAI,CAAC,eAAe,CAAC,CAAC;gBACvD,kCAAkC;gBAClC,KAAI,CAAC,kCAAkC,CAAC,KAAI,CAAC,aAAa,EAAE,YAAY,CAAC,YAAY,CAAC,CAAC;gBAEvF,KAAI,CAAC,SAAS,EAAE,CAAC;YACnB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,OAAO,CAAC,GAAG,CAAC,oCAAoC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC7D,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,EAAE;oBACtC,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;oBACpC,OAAO,EAAE,IAAI;iBACd,CAAC,CAAC;gBACH,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;gBACxB,KAAI,CAAC,mBAAmB,EAAE,CAAC;YAC7B,CAAC;QACH,CAAC,CACA,CAAC;IACN,CAAC;IAED;;;;;;;OAOG;IACH,wDAAqB,GAArB,UAAsB,EAAU,EAAE,cAAsB,EAAE,eAAuB;QAAjF,iBAsCC;QArCC,IAAI,CAAC,gBAAgB,CAAC,6BAA6B,CAAC,EAAE,CAAC;aACpD,SAAS,CACV,cAAI;YACF,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;gBACtB,KAAI,CAAC,sBAAsB,CAAC,qBAAqB,CAAC,EAAE,CAAC;qBAClD,SAAS,CACV,cAAI;oBACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;wBACjB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;wBAC1B,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;4BACpC,OAAO,EAAE,CAAE,OAAO,EAAE,eAAe,CAAE;4BACrC,OAAO,EAAE,IAAI;yBACd,CAAC,CAAC;wBACH,0CAA0C;wBAC1C,KAAI,CAAC,0BAA0B,CAAC,KAAI,CAAC,aAAa,EAAE,CAAC,cAAc,CAAC,CAAC;wBACrE,0CAA0C;wBAC1C,KAAI,CAAC,kCAAkC,CAAC,KAAI,CAAC,aAAa,EAAE,CAAC,eAAe,CAAC,CAAC;wBAE9E,KAAI,CAAC,SAAS,EAAE,CAAC;oBACnB,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;wBAC5C,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;4BACpC,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;4BACpC,OAAO,EAAE,IAAI;yBACd,CAAC,CAAC;oBACL,CAAC;gBACH,CAAC,CACA,CAAC;YACN,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,OAAO,CAAC,GAAG,CAAC,6CAA6C,CAAC,CAAC;gBAC3D,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,+EAA+E,EAAE;oBACvG,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;oBACpC,OAAO,EAAE,IAAI;iBACd,CAAC,CAAC;YACL,CAAC;QACH,CAAC,EAAE,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACtC,CAAC;IACN,CAAC;IAED;;;;;OAKG;IACH,6DAA0B,GAA1B,UAA2B,eAAgC;QACzD,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;IACzC,CAAC;IAED;;;;OAIG;IACH,6CAAU,GAAV;QACE,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;IAC5B,CAAC;IAED;;;;;;;;;OASG;IACH,kDAAe,GAAf,UAAgB,EAAU,EAAE,eAAuB;QAAnD,iBA6BC;QA5BC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,EAAE,CAAC;aACtC,SAAS,CACV,cAAI;YACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC1B,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;oBACpC,OAAO,EAAE,CAAE,OAAO,EAAE,eAAe,CAAE;oBACrC,OAAO,EAAE,IAAI;iBACd,CAAC,CAAC;gBACH,0CAA0C;gBAC1C,KAAI,CAAC,oCAAoC,CAAC,KAAI,CAAC,eAAe,EAAE,CAAC,eAAe,CAAC,CAAC;gBAClF,0CAA0C;gBAC1C,KAAI,CAAC,kCAAkC,CAAC,KAAI,CAAC,aAAa,EAAE,CAAC,eAAe,CAAC,CAAC;gBAC9E,wCAAwC;gBACxC,KAAI,CAAC,gCAAgC,CAAC,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;gBAEhE,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YAC1B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC5C,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;oBACpC,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;oBACpC,OAAO,EAAE,IAAI;iBACd,CAAC,CAAC;gBACH,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YAC1B,CAAC;QACH,CAAC,CACA,CAAC;IACN,CAAC;IAED;;;;;;;OAOG;IACH,uEAAoC,GAApC,UAAqC,eAAgC,EAAE,eAAuB;QAA9F,iBAiBC;QAhBC,kCAAkC;QAClC,IAAI,CAAC,eAAe,CAAC,eAAe,IAAI,MAAM,CAAC,eAAe,CAAC,CAAC;QAChE,kBAAkB;QAClB,IAAI,CAAC,sBAAsB,CAAC,qBAAqB,CAAC,eAAe,CAAC;aAC/D,SAAS,CACV,cAAI;YACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC1B,iCAAiC;gBACjC,KAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC3C,mBAAmB;YACrB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;YAC9C,CAAC;QACH,CAAC,CACA,CAAC;IACN,CAAC;IAED;;;;;;;;OAQG;IACH,8DAA2B,GAA3B,UAA4B,eAAgC;QAC1D,IAAI,sBAAsB,GAAG,KAAK,CAAC;QACnC,8CAA8C;QAC9C,EAAE,CAAC,CAAC,eAAe,CAAC,eAAe,KAAK,eAAe,CAAC,cAAc,CAAC,CAAC,CAAC;YACvE,sBAAsB,GAAG,IAAI,CAAC;QAChC,CAAC;QAED,IAAI,CAAC,sBAAsB,CAAC,2BAA2B,CAAC,eAAe,EAAE,sBAAsB,CAAC;aAC7F,SAAS,CACV,cAAI,IAAI,cAAO,CAAC,GAAG,CAAC,4BAA4B,GAAG,IAAI,CAAC,GAAG,CAAC,sBAAsB,CAAC,EAA3E,CAA2E,EACnF,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CACtB,CAAC;QACJ,6CAA6C;QAC7C,IAAI,CAAC,oCAAoC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC1D,CAAC;IAED;;;;;;;OAOG;IACH,4DAAyB,GAAzB,UAA0B,aAA4B;QAAtD,iBAgBC;QAfC,IAAI,oBAAoB,GAAY,KAAK,CAAC;QAE1C,wBAAwB;QACxB,EAAE,CAAC,CAAC,CAAC,aAAa,CAAC,iBAAiB,KAAK,aAAa,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,CAAC,iBAAiB,KAAK,aAAa,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YAC/I,oBAAoB,GAAG,IAAI,CAAC;QAC9B,CAAC;QAED,IAAI,CAAC,oBAAoB,CAAC,yBAAyB,CAAC,aAAa,EAAE,oBAAoB,CAAC;aACrF,SAAS,CACV,cAAI;YACF,OAAO,CAAC,GAAG,CAAC,iCAAiC,GAAG,IAAI,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAC/E,KAAI,CAAC,kBAAkB,EAAE,CAAC;QAC5B,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACnC;IACL,CAAC;IAED;;;;;;;OAOG;IACH,6DAA0B,GAA1B,UAA2B,aAA4B,EAAE,cAAsB;QAC7E,aAAa,CAAC,iBAAiB,IAAI,MAAM,CAAC,cAAc,CAAC,CAAC;QAC1D,IAAI,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,aAAa,CAAC;aACzD,SAAS,CACV,cAAI,IAAI,cAAO,CAAC,GAAG,CAAC,sCAAsC,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,EAA9E,CAA8E,EACtF,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACnC,CAAC;IACN,CAAC;IAED;;;;;;;OAOG;IACH,qEAAkC,GAAlC,UAAmC,aAA4B,EAAE,SAAiB;QAAlF,iBAWC;QAVC,aAAa,CAAC,eAAe,IAAI,MAAM,CAAC,SAAS,CAAC,CAAC;QACnD,IAAI,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,aAAa,CAAC;aACzD,SAAS,CACV,cAAI;YACF,OAAO,CAAC,GAAG,CAAC,6CAA6C,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YACtF,+BAA+B;YAC/B,KAAI,CAAC,yBAAyB,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC;QACrD,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACnC,CAAC;IACN,CAAC;IAED;;;;;;OAMG;IACH,qDAAkB,GAAlB;QAAA,iBAgDC;QA/CC,qBAAqB;QACrB,IAAI,aAAa,GAAY,IAAI,CAAC;QAElC,sCAAsC;QACtC,oDAAoD;QACpD,IAAI,CAAC,oBAAoB,CAAC,2BAA2B,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;aACnE,SAAS,CACV,cAAI;YACF,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,4EAA4E;YAC5E,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpB,GAAG,CAAC,CAAC,IAAI,aAAa,IAAI,IAAI,CAAC,CAAC,CAAC;oBAC/B,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;wBACvC,EAAE,CAAC,CAAC,IAAI,CAAE,aAAa,CAAE,CAAC,oBAAoB,KAAK,KAAK,CAAC,CAAC,CAAC;4BACzD,aAAa,GAAG,KAAK,CAAC;wBACxB,CAAC;oBACH,CAAC;gBACH,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,aAAa,GAAG,KAAK,CAAC;YACxB,CAAC;YACD,uBAAuB;YACvB,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,KAAI,CAAC,MAAM,EAAE,aAAa,CAAC;iBACxD,SAAS,CACV,cAAI,IAAI,cAAO,CAAC,GAAG,CAAC,4BAA4B,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,EAAlE,CAAkE,EAC1E,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC,EAA3B,CAA2B,CACjC,CAAC;QACN,CAAC,EAAE,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACtC;QAEH;;;;;;;;;;;;;;;;aAgBK;IACP,CAAC;IAED;;;;OAIG;IACH,4CAAS,GAAT;QACE,IAAI,CAAC,oCAAoC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC/B,CAAC;IAED;;;;;;OAMG;IACH,uDAAoB,GAApB;QACE,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,wDAAwD;QACxD,IAAI,mBAAmB,GAAG,CAAC,CAAC;QAC5B,IAAI,qBAAqB,GAAG,CAAC,CAAC;QAC9B,GAAG,CAAC,CAAC,IAAI,OAAO,IAAI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;YAC7C,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBACrD,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,CAAE,OAAO,CAAE,CAAC,cAAc,CAAC;YAC5E,CAAC;QACH,CAAC;QACD,iFAAiF;QACjF,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,mBAAmB,CAAC,CAAC,CAAC;YAC7D,qCAAqC;YACrC,qBAAqB,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,mBAAmB,CAAC;YACjF,+BAA+B;YAC/B,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,YAAY,CAAC,CAAC;YACpE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;YAC3F,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;YAC5D,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,WAAW,CAAC;YAC/C,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,QAAQ,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YAClF,IAAI,CAAC,eAAe,CAAC,cAAc,GAAG,qBAAqB,CAAC;YAC5D,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACnB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,gGAAgG,EAAE;gBACxH,OAAO,EAAE,CAAE,OAAO,EAAE,eAAe,CAAE;gBACrC,OAAO,EAAE,IAAI;aACd,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED;;;;;;;OAOG;IACH,iDAAc,GAAd,UAAe,eAAgC;QAC7C,IAAI,CAAC,gCAAgC,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QAC3D,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;QAC5F,IAAI,CAAC,eAAe,CAAC,aAAa,GAAG,WAAW,CAAC;QACjD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QAC9D,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;IACpB,CAAC;IAED;;;;OAIG;IACH,2CAAQ,GAAR;QACE,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC7B,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;QACtC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACtB,CAAC;IAED;;;;OAIG;IACH,+CAAY,GAAZ;QACE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACxC,mBAAmB,EAAE,CAAE,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE,kEAAU,CAAC,QAAQ,CAAE;YAClF,aAAa,EAAE,CAAE,IAAI,CAAC,GAAG,CAAE;YAC3B,cAAc,EAAE,CAAE,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE,kEAAU,CAAC,OAAO,CAAC;oBACxE,kEAAU,CAAC,QAAQ;oBACnB,IAAI,CAAC,QAAQ;iBACd,CAAC,CAAE;YACJ,aAAa,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAE;SACtG,CAAC,CAAC;IACL,CAAC;IAED;;;;OAIG;IACH,wDAAqB,GAArB;QACE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC1C,mBAAmB,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,mBAAmB,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAE;YACjH,aAAa,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,CAAC;YAC/D,cAAc,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;YACjF,YAAY,EAAE,CAAE,IAAI,CAAC,eAAe,CAAC,eAAe,EAAE,kEAAU,CAAC,OAAO,CAAC;oBACvE,kEAAU,CAAC,QAAQ;oBACnB,IAAI,CAAC,QAAQ;iBACd,CAAC,CAAE;SACL,CAAC,CAAC;IACL,CAAC;IAED;;;;OAIG;IACH,qDAAkB,GAAlB;QACE,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED;;;;OAIG;IACH,uDAAoB,GAApB;QACE,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;IAC/B,CAAC;IAED;;;;OAIG;IACH,oDAAiB,GAAjB;QACE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAE,qBAAqB,CAAE,CAAC,MAAM,EAAE,CAAC;QAC5D,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAE,eAAe,CAAE,CAAC,MAAM,EAAE,CAAC;QACtD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAE,gBAAgB,CAAE,CAAC,MAAM,EAAE,CAAC;IACzD,CAAC;IAED;;;;OAIG;IACH,sDAAmB,GAAnB;QACE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAE,eAAe,CAAE,CAAC,MAAM,EAAE,CAAC;QACxD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAE,cAAc,CAAE,CAAC,MAAM,EAAE,CAAC;IACzD,CAAC;IAED;;;;;OAKG;IACH,uDAAoB,GAApB;QACE,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,GAAG,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;YAC1C,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAClD,GAAG,IAAI,IAAI,CAAC,mBAAmB,CAAE,IAAI,CAAE,CAAC,cAAc,CAAC;YACzD,CAAC;QACH,CAAC;QACD,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IAED;;;;;OAKG;IACH,wDAAqB,GAArB;QACE,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,GAAG,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;YAC1C,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAClD,GAAG,IAAI,IAAI,CAAC,mBAAmB,CAAE,IAAI,CAAE,CAAC,eAAe,CAAC;YAC1D,CAAC;QACH,CAAC;QACD,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IAED,cAAc;IACd;;;;;;OAMG;IACH,2CAAQ,GAAR,UAAS,QAAQ;QACf,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,8BAA8B,CAAC,CAAC;QAC1D,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAChC,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC;gBACL,QAAQ,EAAE,IAAI;aACf,CAAC;QACJ,CAAC;IACH,CAAC;IAED;;;;;;;OAOG;IACH,2CAAQ,GAAR;QAAA,iBAgBC;QAfC,IAAI,CAAC,sBAAsB,CAAC,0BAA0B,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,KAAK,CAAC;aAC9H,SAAS,CACV,cAAI;YACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,0EAA0E;gBAC1E,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,KAAK,IAAI,KAAI,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,CAAC;oBAClG,MAAM,CAAC,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBACnC,CAAC;YACH,CAAC;QACH,CAAC,EACD,eAAK;YACH,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;QACpB,CAAC,CACA,CAAC;QACJ,MAAM,CAAC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IACpC,CAAC;IAED;;;;;OAKG;IACH,sDAAmB,GAAnB;QACE,IAAI,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC;QAC/F,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,KAAK,GAAG,cAAc,CAAC,CAAC,CAAC;YAClE,MAAM,CAAC,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC;QAC9C,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;IAC/C,CAAC;IAED;;;;;OAKG;IACH,iDAAc,GAAd;QACE,IAAI,gBAAgB,GAAG,IAAI,CAAC,eAAe,CAAC,cAAc,GAAG,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC;QAClG,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,KAAK,GAAG,gBAAgB,CAAC,CAAC,CAAC;YACpE,MAAM,CAAC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QACzC,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;IAC1C,CAAC;IAED;;;;;;;OAOG;IACH,2CAAQ,GAAR;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAE,SAAS,CAAE,KAAK,SAAS,CAAC,CAAC,CAAC;YACnE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAE,SAAS,CAAE,CAAC;YAChE,IAAI,CAAC,oCAAoC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACxD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACzC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAE,eAAe,CAAE,CAAC,CAAC;QAC5C,CAAC;IACH,CAAC;IAEH,+BAAC;AAAD,CAAC;AA36BY,wBAAwB;IALpC,wFAAS,CAAC;QACT,QAAQ,EAAE,sBAAsB;QAChC,mHAAgD;QAChD,kHAAiD;KAClD,CAAC;yDA+K0B,uEAAc,oBAAd,uEAAc,sDACR,6FAAoB,oBAApB,6FAAoB,sDAClB,iGAAsB,oBAAtB,iGAAsB,sDACpC,iEAAQ,oBAAR,iEAAQ,sDACL,mEAAW,oBAAX,mEAAW,sDACT,gFAAoB,oBAApB,gFAAoB,sDACpB,8EAAa,oBAAb,8EAAa,sDACV,oFAAgB,oBAAhB,oFAAgB,sDAC1B,+DAAM,oBAAN,+DAAM;GAtLb,wBAAwB,CA26BpC;AA36BoC;;;;;;;;;AC9BrC;AACA;;;AAGA;AACA,gDAAiD,wBAAwB,KAAK;;AAE9E;;;AAGA;AACA,2C;;;;;;;ACXA,8GAA8G,4mBAA4mB,aAAa,wIAAwI,cAAc,oEAAoE,qBAAqB,+BAA+B,sCAAsC,+BAA+B,mBAAmB,+BAA+B,qBAAqB,+BAA+B,mBAAmB,+BAA+B,YAAY,GAAG,eAAe,ovBAAovB,sBAAsB,+BAA+B,wBAAwB,+BAA+B,sBAAsB,qgBAAqgB,6NAA6N,iCAAiC,y3BAAy3B,0RAA0R,gTAAgT,iCAAiC,s8BAAs8B,6BAA6B,8XAA8X,+BAA+B,qVAAqV,YAAY,GAAG,eAAe,8MAA8M,YAAY,aAAa,6a;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA5vM;AACO;AACkB;AACnB;AACS;AAEb;AAEgB;AACmB;AACJ;AAE5E,SAAS;AACT,WAAW;AACX;;;;;;GAMG;AAMH,IAAa,sBAAsB;IA6EjC;;;;;;;;;;OAUG;IACH,gCACU,cAA8B,EAC9B,oBAA0C,EAC1C,sBAA8C,EAC9C,aAA4B,EAC5B,QAAkB,EAClB,WAAwB,EACxB,aAAmC;QANnC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,2BAAsB,GAAtB,sBAAsB,CAAwB;QAC9C,kBAAa,GAAb,aAAa,CAAe;QAC5B,aAAQ,GAAR,QAAQ,CAAU;QAClB,gBAAW,GAAX,WAAW,CAAa;QACxB,kBAAa,GAAb,aAAa,CAAsB;QA9F7C;;;;;WAKG;QACH,kBAAa,GAAQ,EAAE,CAAC;QAExB;;;;;WAKG;QACH,uBAAkB,GAAoB,EAAE,CAAC;QAEzC;;;;WAIG;QACH,WAAM,GAAG,IAAI,8DAAM,EAAE,CAAC;QAkBtB;;;;WAIG;QACH,SAAI,GAAG,KAAK,CAAC;QAEb;;;;WAIG;QACH,eAAU,GAAG,KAAK,CAAC;QAUnB,gBAAgB;QAChB;;;;WAIG;QACH,gBAAW,GAAG,qCAAqC,CAAC;QAEpD;;;;WAIG;QACH,iBAAY,GAAG,sCAAsC,CAAC;QAsBpD,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC7B,CAAC;IAED;;;;;OAKG;IACH,oDAAmB,GAAnB;QAAA,iBAMC;QALC,IAAI,CAAC,oBAAoB,CAAC,mBAAmB,EAAE;aAC5C,SAAS,CACV,uBAAa,IAAI,YAAI,CAAC,kBAAkB,GAAG,aAAa,EAAvC,CAAuC,EACxD,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC,EAA7B,CAA6B,CACrC,CAAC;IACN,CAAC;IAED;;;;;;OAMG;IACH,4DAA2B,GAA3B,UAA4B,EAAU;QAAtC,iBAMC;QALC,IAAI,CAAC,oBAAoB,CAAC,2BAA2B,CAAC,EAAE,CAAC;aACtD,SAAS,CACV,uBAAa,IAAI,YAAI,CAAC,kBAAkB,GAAG,aAAa,EAAvC,CAAuC,EACxD,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC,EAA7B,CAA6B,CACrC,CAAC;IACN,CAAC;IAED;;;;;;OAMG;IACH,0CAAS,GAAT,UAAU,EAAU;QAApB,iBAMC;QALC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC;aAChC,SAAS,CACV,gBAAM,IAAI,YAAI,CAAC,MAAM,GAAG,MAAM,EAApB,CAAoB,EAC9B,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC,EAA7B,CAA6B,CACrC,CAAC;IACN,CAAC;IAED;;;;;;OAMG;IACH,yCAAQ,GAAR,UAAS,OAAsB;QAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;QAC7B,IAAM,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;QAC5F,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,WAAW,CAAC;QAC/C,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;QACzF,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;IAC9D,CAAC;IAED;;;;OAIG;IACH,8CAAa,GAAb;QAAA,iBAwCC;QAvCC,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAM,UAAU,GAAkB;YAChC,GAAG,EAAE,IAAI,CAAC,aAAa,CAAC,GAAG;YAC3B,oBAAoB,EAAE,IAAI,CAAC,aAAa,CAAC,oBAAoB;YAC7D,iBAAiB,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,KAAK;YAClE,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,KAAK;YAC1D,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,SAAS;YACvC,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO;YACnC,eAAe,EAAE,IAAI,CAAC,aAAa,CAAC,eAAe;YACnD,iBAAiB,EAAE,IAAI,CAAC,aAAa,CAAC,iBAAiB;YACvD,eAAe,EAAE,IAAI,CAAC,aAAa,CAAC,eAAe;YACnD,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,MAAM;YACjC,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK;YAC/B,KAAK,EAAE,IAAI;YACX,UAAU,EAAE,IAAI,IAAI,EAAE;YACtB,WAAW,EAAE,EAAE;SAChB,CAAC;QAEF,IAAI,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,UAAU,CAAC;aACtD,SAAS,CACV,cAAI;YACF,KAAI,CAAC,SAAS,EAAE,CAAC;YACjB,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAChC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,kBAAkB,EAAE;gBAC1C,OAAO,EAAE,CAAC,OAAO,EAAE,eAAe,CAAC;gBACnC,OAAO,EAAE,IAAI;aACd,CAAC,CAAC;QACL,CAAC,EACD,eAAK;YACH,OAAO,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC;YAC/B,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,+BAA+B,EAAE;gBACvD,OAAO,EAAE,CAAC,OAAO,EAAE,cAAc,CAAC;gBAClC,OAAO,EAAE,IAAI;aACd,CAAC,CAAC;YACH,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,CACA,CAAC;IACN,CAAC;IAED;;;;;OAKG;IACH,yCAAQ,GAAR,UAAS,EAAU;QAAnB,iBAkCC;QAjCC,IAAI,CAAC,sBAAsB,CAAC,oCAAoC,CAAC,EAAE,CAAC;aACjE,SAAS,CACV,cAAI;YACF,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;gBACtB,KAAI,CAAC,oBAAoB,CAAC,mBAAmB,CAAC,EAAE,CAAC;qBAC9C,SAAS,CACV,iBAAO;oBACL,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;oBACtC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,mBAAmB,EAAE;wBAC3C,OAAO,EAAE,CAAC,OAAO,EAAE,eAAe,CAAC;wBACnC,OAAO,EAAE,IAAI;qBACd,CAAC,CAAC;oBACH,KAAI,CAAC,SAAS,EAAE,CAAC;gBACnB,CAAC,EACD,eAAK;oBACH,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACnB,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,+BAA+B,EAAE;wBACvD,OAAO,EAAE,CAAC,OAAO,EAAE,cAAc,CAAC;wBAClC,OAAO,EAAE,IAAI;qBACd,CAAC,CAAC;oBACH,KAAI,CAAC,aAAa,GAAG,EAAE,CAAC;gBAC1B,CAAC,CACA,CAAC;YACN,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;gBACtC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,8EAA8E,EAAE;oBACtG,OAAO,EAAE,CAAC,OAAO,EAAE,cAAc,CAAC;oBAClC,OAAO,EAAE,IAAI;iBACd,CAAC,CAAC;gBACH,KAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YAC1B,CAAC;QACH,CAAC,EAAE,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,EAA7B,CAA6B,CACtC,CAAC;IACN,CAAC;IAED;;;;;;OAMG;IACH,yDAAwB,GAAxB,UAAyB,aAA4B;QACnD,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IAClC,CAAC;IAED;;;;OAIG;IACH,2CAAU,GAAV;QACE,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;IAC1B,CAAC;IAED;;;;;;;OAOG;IACH,mDAAkB,GAAlB,UAAmB,MAAc;QAAjC,iBAgCC;QA/BC,IAAI,aAAa,GAAG,IAAI,CAAC;QACzB,sCAAsC;QACtC,IAAI,CAAC,oBAAoB,CAAC,2BAA2B,CAAC,MAAM,CAAC,GAAG,CAAC;aAC9D,SAAS,CACV,wBAAc;YACZ,0DAA0D;YAC1D,EAAE,CAAC,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC9B,GAAG,CAAC,CAAC,IAAM,aAAa,IAAI,cAAc,CAAC,CAAC,CAAC;oBAC3C,EAAE,CAAC,CAAC,cAAc,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;wBACjD,EAAE,CAAC,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,oBAAoB,KAAK,KAAK,CAAC,CAAC,CAAC;4BACjE,aAAa,GAAG,KAAK,CAAC;wBACxB,CAAC;oBACH,CAAC;gBACH,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,aAAa,GAAG,KAAK,CAAC;YACxB,CAAC;YAED,yFAAyF;YACzF,2DAA2D;YAC3D,sDAAsD;YACtD,EAAE,CAAC,CAAC,CAAC,aAAa,IAAI,KAAI,CAAC,MAAM,CAAC,aAAa,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,aAAa,IAAI,KAAI,CAAC,MAAM,CAAC,aAAa,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;gBACpH,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM,EAAE,aAAa,CAAC;qBACnD,SAAS,CACV,cAAI,IAAI,cAAO,CAAC,GAAG,CAAC,4BAA4B,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,EAAlE,CAAkE,EAC1E,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,mCAAmC,GAAG,GAAG,CAAC,EAAtD,CAAsD,CAC5D,CAAC;YACN,CAAC;QACH,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CACtB,CAAC;IACN,CAAC;IAED;;;;OAIG;IACH,0CAAS,GAAT;QACE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrC,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACnD,CAAC;IAED;;;;OAIG;IACH,yCAAQ,GAAR;QACE,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;IAC1B,CAAC;IAED;;;;OAIG;IACH,6CAAY,GAAZ;QACE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACxC,iBAAiB,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,iBAAiB,EAAE,kEAAU,CAAC,QAAQ,CAAC;YAC9E,aAAa,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;YACjD,eAAe,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;YAC3E,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,kEAAU,CAAC,QAAQ,CAAC;SACpF,CAAC,CAAC;IACL,CAAC;IAED;;;;OAIG;IACH,2CAAU,GAAV;QACE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,MAAM,EAAE,CAAC;QACxD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,MAAM,EAAE,CAAC;IACtD,CAAC;IAED;;;;OAIG;IACH,4CAAW,GAAX;QACE,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED;;;;;;OAMG;IACH,8CAAa,GAAb;QACE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,KAAK,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,KAAK,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;YACnH,IAAM,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC;YAC7G,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YAChF,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAChE,CAAC;IACH,CAAC;IAED;;;;;OAKG;IACH,mDAAkB,GAAlB;QACE,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,GAAG,CAAC,CAAC,IAAM,IAAI,IAAI,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;YAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACjD,GAAG,IAAI,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,eAAe,CAAC;YACvD,CAAC;QACH,CAAC;QACD,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IAED;;;;;OAKG;IACH,qDAAoB,GAApB;QACE,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,GAAG,CAAC,CAAC,IAAM,IAAI,IAAI,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;YAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACjD,GAAG,IAAI,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,iBAAiB,CAAC;YACzD,CAAC;QACH,CAAC;QACD,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IAED;;;;;OAKG;IACH,mDAAkB,GAAlB;QACE,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,GAAG,CAAC,CAAC,IAAM,IAAI,IAAI,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;YAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACjD,GAAG,IAAI,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,eAAe,CAAC;YACvD,CAAC;QACH,CAAC;QACD,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC;IAED;;;;;;;OAOG;IACH,yCAAQ,GAAR;QAAA,iBAiBC;QAhBC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,CAAC,oBAAoB,CAAC,wBAAwB,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,KAAK,CAAC;aACjH,SAAS,CACV,cAAI;YACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,4EAA4E;gBAC5E,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,KAAK,KAAK,KAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC,CAAC;oBAC7F,MAAM,CAAC,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBACnC,CAAC;YACH,CAAC;QACH,CAAC,EACD,eAAK;YACH,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;QACpB,CAAC,CACA,CAAC;QACJ,MAAM,CAAC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IACpC,CAAC;IAED;;;;;;;OAOG;IACH,yCAAQ,GAAR;QACE,qDAAqD;QACrD,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC;YACnE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;YAClE,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACjD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACjC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC7B,CAAC;IACH,CAAC;IAEH,6BAAC;AAAD,CAAC;AAjeY,sBAAsB;IALlC,wFAAS,CAAC;QACT,QAAQ,EAAE,oBAAoB;QAC9B,+GAA8C;QAC9C,8GAA6C;KAC9C,CAAC;yDA0F0B,uEAAc,oBAAd,uEAAc,sDACR,6FAAoB,oBAApB,6FAAoB,sDAClB,iGAAsB,oBAAtB,iGAAsB,sDAC/B,8EAAa,oBAAb,8EAAa,sDAClB,iEAAQ,oBAAR,iEAAQ,sDACL,mEAAW,oBAAX,mEAAW,sDACT,gFAAoB,oBAApB,gFAAoB;GA/FlC,sBAAsB,CAielC;AAjekC;;;;;;;;;AC1BnC;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;ACXA,sOAAsO,2oB;;;;;;;;;;;;;;;;;;;ACApL;AAElD;;;;;;GAMG;AAMH,IAAa,eAAe;IAE1B;IAAgB,CAAC;IAEjB,kCAAQ,GAAR;IACA,CAAC;IAEH,sBAAC;AAAD,CAAC;AAPY,eAAe;IAL3B,wFAAS,CAAC;QACT,QAAQ,EAAE,YAAY;QACtB,+FAAsC;QACtC,8FAAqC;KACtC,CAAC;;GACW,eAAe,CAO3B;AAP2B;;;;;;;;ACd5B;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;ACXA,iM;;;;;;;;;;;;;;;;;;;ACAkD;AAElD;;;;;;GAMG;AAMH,IAAa,qBAAqB;IAEhC;IAAgB,CAAC;IAEjB,wCAAQ,GAAR;IACA,CAAC;IAEH,4BAAC;AAAD,CAAC;AAPY,qBAAqB;IALjC,wFAAS,CAAC;QACT,QAAQ,EAAE,oBAAoB;QAC9B,+GAA8C;QAC9C,8GAA6C;KAC9C,CAAC;;GACW,qBAAqB,CAOjC;AAPiC;;;;;;;;ACdlC;AACA;;;AAGA;AACA;;AAEA;;;AAGA;AACA,2C;;;;;;;ACXA,+aAA+a,8TAA8T,oSAAoS,iBAAiB,g6BAAg6B,qBAAqB,iVAAiV,iBAAiB,sWAAsW,eAAe,iWAAiW,kBAAkB,iUAAiU,YAAY,GAAG,eAAe,iLAAiL,YAAY,aAAa,0a;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAxhH;AACP;AACwB;AACC;AAC/B;AAIQ;AACc;AAE3D,WAAW;AACgD;AACE;AACe;AAClB;AAE1D;;;;;;GAMG;AAMH,IAAa,qBAAqB;IAsEhC;;;;;;;;;;;OAWG;IACH,+BACU,QAAkB,EAClB,WAAwB,EACxB,cAA8B,EAC9B,MAAc,EACd,YAA0B,EAC1B,aAA4B,EAC5B,oBAA0C,EAC1C,aAAmC;QAPnC,aAAQ,GAAR,QAAQ,CAAU;QAClB,gBAAW,GAAX,WAAW,CAAa;QACxB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QACd,iBAAY,GAAZ,YAAY,CAAc;QAC1B,kBAAa,GAAb,aAAa,CAAe;QAC5B,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,kBAAa,GAAb,aAAa,CAAsB;QAzE7C;;;;;WAKG;QACH,UAAK,GAAQ,EAAE,CAAC;QAUhB;;;;WAIG;QACH,WAAM,GAAG,IAAI,8DAAM,EAAE,CAAC;QAUtB;;;;WAIG;QACH,kBAAa,GAAG,IAAI,4EAAa,EAAE,CAAC;QAUpC;;;;WAIG;QACH,eAAU,GAAG,KAAK,CAAC;QAwBjB,IAAI,CAAC,YAAY,EAAE;IACrB,CAAC;IAED;;;;;OAKG;IACH,4CAAY,GAAZ;QAAA,iBAMC;QALC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE;aAC/B,SAAS,CACV,iBAAO,IAAI,YAAI,CAAC,UAAU,GAAG,OAAO,EAAzB,CAAyB,EACpC,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC,EAA7B,CAA6B,CACrC,CAAC;IACN,CAAC;IAAA,CAAC;IAEF;;;;;;OAMG;IACH,4CAAY,GAAZ,UAAa,EAAU;QAAvB,iBAMC;QALC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAAE,CAAC;aAChC,SAAS,CACV,gBAAM,IAAI,YAAI,CAAC,MAAM,GAAG,MAAM,EAApB,CAAoB,EAC9B,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC,EAA7B,CAA6B,CACrC,CAAC;IACN,CAAC;IAAA,CAAC;IAEF;;;;;;;;OAQG;IACH,2CAAW,GAAX,UAAY,EAAU;QAAtB,iBAaC;QAZC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE,CAAC;aAC9B,SAAS,CACV,eAAK;YACH,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,6BAA6B;YAC7B,IAAI,WAAW,GAAG,KAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAI,CAAC,KAAK,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;YAClF,KAAI,CAAC,KAAK,CAAC,aAAa,GAAG,WAAW,CAAC;YACvC,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YACrC,KAAI,CAAC,YAAY,EAAE,CAAC;QACtB,CAAC,EACD,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC,EAA7B,CAA6B,CACrC,CAAC;IACN,CAAC;IAAA,CAAC;IAEF;;;;OAIG;IACH,4CAAY,GAAZ;QAAA,iBA+BC;QA9BC,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,sBAAsB;QACtB,IAAI,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;QAC7C,UAAU,CAAC,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;QACnD,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QACtC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;QAC5C,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;QACxC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;QAElC,+DAA+D;QAC/D,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,UAAU,CAAC;aACnD,SAAS,CACV,cAAI;YACF,OAAO,CAAC,GAAG,CAAC,cAAc,GAAG,IAAI,CAAC,CAAC;YACnC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBACpC,OAAO,EAAE,CAAE,OAAO,EAAE,eAAe,CAAE;gBACrC,OAAO,EAAE,IAAI;aACd,CAAC,CAAC;YACH,KAAI,CAAC,SAAS,EAAE,CAAC;QACnB,CAAC,EACD,eAAK;YACH,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,OAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC;YAC9B,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,yBAAyB,EAAE;gBACjD,OAAO,EAAE,CAAE,OAAO,EAAE,cAAc,CAAE;gBACpC,OAAO,EAAE,IAAI;aACd,CAAC,CAAC;YACH,KAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;;;;;;OAOG;IACH,kDAAkB,GAAlB,UAAmB,MAAc;QAAjC,iBA8BC;QA7BC,IAAI,cAAc,GAAY,IAAI,CAAC;QACnC,sCAAsC;QACtC,IAAI,CAAC,oBAAoB,CAAC,2BAA2B,CAAC,MAAM,CAAC,GAAG,CAAC;aAC9D,SAAS,CACV,wBAAc;YACZ,iEAAiE;YACjE,EAAE,CAAC,CAAC,cAAc,KAAK,IAAI,CAAC,CAAC,CAAC;gBAC5B,GAAG,CAAC,CAAC,IAAI,aAAa,IAAI,cAAc,CAAC,CAAC,CAAC;oBACzC,EAAE,CAAC,CAAC,cAAc,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;wBACjD,EAAE,CAAC,CAAC,cAAc,CAAE,aAAa,CAAE,CAAC,oBAAoB,KAAK,KAAK,CAAC,CAAC,CAAC;4BACnE,cAAc,GAAG,KAAK,CAAC;wBACzB,CAAC;oBACH,CAAC;gBACH,CAAC;gBAED,yFAAyF;gBACzF,2DAA2D;gBAC3D,sDAAsD;gBACtD,EAAE,CAAC,CAAC,CAAC,cAAc,IAAI,KAAI,CAAC,MAAM,CAAC,aAAa,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,cAAc,IAAI,KAAI,CAAC,MAAM,CAAC,aAAa,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;oBACtH,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC;yBACpD,SAAS,CACV,cAAI,IAAI,cAAO,CAAC,GAAG,CAAC,4BAA4B,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,EAAlE,CAAkE,EAC1E,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,mCAAmC,GAAG,GAAG,CAAC,EAAtD,CAAsD,CAC5D,CAAC;gBACN,CAAC;YACH,CAAC;QACH,CAAC,EACD,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CACtB,CAAC;IACN,CAAC;IAED;;;;;;;OAOG;IACH,wCAAQ,GAAR;QAAA,iBAaC;QAZC,IAAI,CAAC,oBAAoB,CAAC,wBAAwB,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,KAAK,CAAC;aACtH,SAAS,CACV,cAAI;YACF,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,MAAM,CAAC,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YACnC,CAAC;QACH,CAAC,EACD,eAAK;YACH,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;QACpB,CAAC,CACA,CAAC;QACJ,MAAM,CAAC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IACpC,CAAC;IAED;;;;;OAKG;IACH,yCAAS,GAAT;QAAA,iBAQC;QAPC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACrC,UAAU,CAAC;YACT,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,qBAAqB;YACrB,KAAI,CAAC,YAAY,EAAE,CAAC;YACpB,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAE,0BAA0B,EAAE,EAAE,SAAS,EAAE,KAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QACxF,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED;;;;OAIG;IACH,wCAAQ,GAAR;QACE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAE,0BAA0B,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;IACxF,CAAC;IAED;;;;;;OAMG;IACH,6CAAa,GAAb;QACE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAE,WAAW,CAAE,CAAC,KAAK,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAE,SAAS,CAAE,CAAC,KAAK,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;YACjI,IAAI,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAE,WAAW,CAAE,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAE,SAAS,CAAE,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;YACrI,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAE,YAAY,CAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YACvF,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QACxD,CAAC;IACH,CAAC;IAAA,CAAC;IAEF;;;;OAIG;IACH,4CAAY,GAAZ;QACE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC7C,iBAAiB,EAAE,CAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,kEAAU,CAAC,OAAO,CAAC;oBAC5D,kEAAU,CAAC,QAAQ;iBACpB,CAAC,CAAE;YACJ,aAAa,EAAE,CAAE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAE;YAC3C,SAAS,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;YAC7D,OAAO,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;YACzD,eAAe,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;YACpE,MAAM,EAAE,CAAE,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;SACxD,CAAC,CAAC;IACL,CAAC;IAED;;;;OAIG;IACH,0CAAU,GAAV;QACE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAE,mBAAmB,CAAE,CAAC,MAAM,EAAE,CAAC;QAC/D,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAE,eAAe,CAAE,CAAC,MAAM,EAAE,CAAC;IAC7D,CAAC;IAED;;;;OAIG;IACH,2CAAW,GAAX;QACE,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;IAClC,CAAC;IAED;;;;;;;OAOG;IACH,wCAAQ,GAAR;QACE,sBAAsB;QACtB,wBAAwB;QACxB;;;YAGI;QACJ,uCAAuC;QACvC,gCAAgC;QAChC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAE,UAAU,CAAE,KAAK,SAAS,CAAC,CAAC,CAAC;YACpE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAE,UAAU,CAAE,CAAC;YAClE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAClC,CAAC;IACH,CAAC;IAEH,4BAAC;AAAD,CAAC;AA7VY,qBAAqB;IALjC,wFAAS,CAAC;QACT,QAAQ,EAAE,mBAAmB;QAC7B,6GAA6C;QAC7C,4GAA8C;KAC/C,CAAC;yDAoFoB,iEAAQ,oBAAR,iEAAQ,sDACL,mEAAW,oBAAX,mEAAW,sDACR,uEAAc,oBAAd,uEAAc,sDACtB,+DAAM,oBAAN,+DAAM,sDACA,4EAAY,oBAAZ,4EAAY,sDACX,8EAAa,oBAAb,8EAAa,sDACN,6FAAoB,oBAApB,6FAAoB,sDAC3B,iFAAoB,oBAApB,iFAAoB;GA1FlC,qBAAqB,CA6VjC;AA7ViC;;;;;;;;;;AC7BlC;AAAA;;;;;GAKG;AALH;;;;;GAKG,CACH,IAAY,QAIX;AAJD,WAAY,QAAQ;IAClB,uCAAI;IACJ,mCAAI;IACJ,+CAAU;AACZ,CAAC,EAJW,QAAQ,KAAR,QAAQ,QAInB;;;;;;;;;ACPD;AAAA;;;;;GAKG;AACH;IAiBI;;;;OAIG;IACH,gBAAY,KAAkB;QAAlB,kCAAkB;QAC1B,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAC/B,CAAC;IACL,aAAC;AAAD,CAAC;;;;;;;;;;AClCD;AAAA;;;;;GAKG;AACH;IAOI;;;;OAIG;IACH,sBAAY,KAAkB;QAAlB,kCAAkB;QAC1B,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAC/B,CAAC;IACL,mBAAC;AAAD,CAAC;;;;;;;;;;ACrBD;AAAA;;;;;GAKG;AACH;IAgBI;;;;OAIG;IACH,uBAAY,KAAkB;QAAlB,kCAAkB;QAC1B,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAC/B,CAAC;IACL,oBAAC;AAAD,CAAC;;;;;;;;;;AC9BD;AAAA;;GAEG;AACH;;GADG,CACI,IAAM,UAAU,GAAG;IACxB,CAAC,EAAE,GAAG;IACN,CAAC,EAAE,IAAI;IACP,CAAC,EAAE,IAAI;CACR,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPyC;AACI;AAEhB;AACE;AACE;AAKnC;;GAEG;AACH,IAAM,MAAM,GAAG,iCAAiC,CAAC;AAEjD;;;;;GAKG;AAEH,IAAa,WAAW;IAEtB;;;;OAIG;IACH,qBAAoB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;IAAI,CAAC;IAEnC;;;;;OAKG;IACH,gCAAU,GAAV;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;aACzB,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,+BAAS,GAAT,UAAU,EAAU;QAClB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC;aAC9B,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,4BAAM,GAAN,UAAO,GAAQ;QACb,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC;aAC/B,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,+BAAS,GAAT,UAAU,GAAQ;QAChB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC;aACxC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,+BAAS,GAAT,UAAU,EAAU;QAClB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;aACjC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEH,kBAAC;AAAD,CAAC;AApEY,WAAW;IADvB,wFAAU,EAAE;yDAQe,2DAAI,oBAAJ,2DAAI;GAPnB,WAAW,CAoEvB;AApEuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBmB;AACI;AAEhB;AACE;AACE;AAKnC;;GAEG;AACH,IAAM,MAAM,GAAG,eAAe,CAAC;AAE/B;;;;;GAKG;AAEH,IAAa,aAAa;IAExB;;;;OAIG;IACH,uBAAoB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;IAAI,CAAC;IAEnC;;;;;OAKG;IACH,qCAAa,GAAb;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;aACzB,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,oCAAY,GAAZ,UAAa,EAAU;QACrB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC;aAC9B,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,iCAAS,GAAT,UAAU,MAAW;QACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC;aAClC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,oCAAY,GAAZ,UAAa,MAAc;QACzB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC;aAC9C,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,oCAAY,GAAZ,UAAa,EAAU;QACrB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;aACjC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;;OAOG;IACH,oCAAY,GAAZ,UAAa,MAAc,EAAE,MAAe;QAC1C,oBAAoB;QACpB,MAAM,CAAC,aAAa,GAAG,MAAM,CAAC;QAC9B,cAAc;QACd,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC;aAC9C,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEH,oBAAC;AAAD,CAAC;AApFY,aAAa;IADzB,wFAAU,EAAE;yDAQe,2DAAI,oBAAJ,2DAAI;GAPnB,aAAa,CAoFzB;AApFyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBiB;AACI;AAEhB;AACE;AACE;AAKnC;;GAEG;AACH,IAAM,MAAM,GAAG,qBAAqB,CAAC;AAErC;;;;;GAKG;AAEH,IAAa,mBAAmB;IAE9B;;;;OAIG;IACH,6BACU,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;IAChB,CAAC;IAEL;;;;;;OAMG;IACH,oDAAsB,GAAtB,UAAuB,MAAc;QACnC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,MAAM,CAAC;aAClC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,6CAAe,GAAf,UAAgB,YAAiB;QAC/B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,YAAY,CAAC;aACxC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,gDAAkB,GAAlB,UAAmB,YAA0B;QAC3C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,YAAY,CAAC,GAAG,EAAE,YAAY,CAAC;aAC1D,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,gDAAkB,GAAlB,UAAmB,EAAU;QAC3B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;aACjC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEH,0BAAC;AAAD,CAAC;AA3DY,mBAAmB;IAD/B,wFAAU,EAAE;yDASK,2DAAI,oBAAJ,2DAAI;GART,mBAAmB,CA2D/B;AA3D+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBG;AACF;AACC;AACH;AACK;AAEO;AACN;AAErC,SAAS;AACT;;GAEG;AACH,IAAM,MAAM,GAAG,aAAa;AAE5B;;;;;GAKG;AAEH,IAAa,YAAY;IAExB;;;;KAII;IACH,sBAAoB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;IAAI,CAAC;IAEpC;;;;;KAKI;IACH,kCAAW,GAAX;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;aACzB,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;QAKI;IAEL;;;;;;KAMI;IACH,0CAAmB,GAAnB,UAAoB,SAAiB;QACnC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,SAAS,GAAG,SAAS,CAAC;aACjD,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAAA,CAAC;IAEH;;;;;;KAMI;IACH,kCAAW,GAAX,UAAY,EAAU;QACpB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC;aAC9B,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;;;OAQG;IACH,uCAAgB,GAAhB,UAAiB,SAAiB,EAAE,SAAiB;QACnD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,SAAS,GAAG,SAAS,GAAG,OAAO,GAAG,SAAS,CAAC;aACvE,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEF;;;;;;KAMI;IACH,+BAAQ,GAAR,UAAS,KAAU;QACjB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC;aACjC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEF;;;;;;;KAOI;IACH,kCAAW,GAAX,UAAY,KAAU;QACpB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC;aAC5C,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEF;;;;;;KAMI;IACH,kCAAW,GAAX,UAAY,MAAc;QACxB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;aACrC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEH,mBAAC;AAAD,CAAC;AAtGY,YAAY;IADxB,wFAAU,EAAE;yDAQe,2DAAI,oBAAJ,2DAAI;GAPnB,YAAY,CAsGxB;AAtGwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBkB;AACI;AAEhB;AACE;AACE;AAKnC;;GAEG;AACH,IAAM,MAAM,GAAG,wBAAwB,CAAC;AAExC;;;;;GAKG;AAEH,IAAa,sBAAsB;IAElC;;;;KAII;IACH,gCAAoB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;IAAI,CAAC;IAEpC;;;;;KAKI;IACH,sDAAqB,GAArB;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;aACzB,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEF;;;;;;KAMI;IACH,qEAAoC,GAApC,UAAqC,OAAe;QAClD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,iBAAiB,GAAG,OAAO,CAAC;aACvD,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEF;;;;;;KAMI;IACH,sDAAqB,GAArB,UAAsB,EAAU;QAC9B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC;aAC9B,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;;;OAQG;IACH,2DAA0B,GAA1B,UAA2B,gBAAwB,EAAE,mBAAmB;QACtE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,iBAAiB,GAAG,gBAAgB,GAAG,OAAO,GAAG,mBAAmB,CAAC;aAChG,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEF;;;;;;KAMI;IACH,mDAAkB,GAAlB,UAAmB,eAAoB;QACrC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,eAAe,CAAC;aAC3C,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEF;;;;;;KAMI;IACH,sDAAqB,GAArB,UAAsB,eAAgC;QACpD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,eAAe,CAAC,GAAG,EAAE,eAAe,CAAC;aAChE,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,4DAA2B,GAA3B,UAA4B,eAAgC,EAAE,sBAAsB;QAClF,8BAA8B;QAC9B,eAAe,CAAC,sBAAsB,GAAG,sBAAsB,CAAC;QAChE,cAAc;QACd,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,eAAe,CAAC,GAAG,EAAE,eAAe,CAAC;aAChE,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEF;;;;;;KAMI;IACH,sDAAqB,GAArB,UAAsB,EAAU;QAC9B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;aACjC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEH,6BAAC;AAAD,CAAC;AA7GY,sBAAsB;IADlC,wFAAU,EAAE;yDAQe,2DAAI,oBAAJ,2DAAI;GAPnB,sBAAsB,CA6GlC;AA7GkC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBQ;AACI;AAEhB;AACE;AACE;AAKnC;;EAEE;AACF,IAAM,MAAM,GAAG,sBAAsB,CAAC;AAEtC;;;;;GAKG;AAEH,IAAa,oBAAoB;IAEhC;;;;KAII;IACH,8BAAoB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;IAAI,CAAC;IAEpC;;;;;KAKI;IACH,kDAAmB,GAAnB;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC;aACzB,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEF;;;;;;KAMI;IACH,sDAAuB,GAAvB,UAAwB,EAAU;QAChC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC;aAC9B,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEF;;;;;;KAMI;IACH,0DAA2B,GAA3B,UAA4B,SAAiB;QAC3C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,SAAS,GAAG,SAAS,CAAC;aACjD,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,yDAA0B,GAA1B,UAA2B,EAAU;QACnC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,QAAQ,GAAG,EAAE,CAAC;aACzC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;;;OAQG;IACH,uDAAwB,GAAxB,UAAyB,SAAiB,EAAE,GAAW;QACrD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,SAAS,GAAG,SAAS,GAAG,OAAO,GAAG,GAAG,CAAC;aACjE,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEF;;;;;;KAMI;IACH,+CAAgB,GAAhB,UAAiB,aAA4B;QAC3C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,aAAa,CAAC;aACzC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEF;;;;;;KAMI;IACH,kDAAmB,GAAnB,UAAoB,aAA4B;QAC9C,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,aAAa,CAAC,GAAG,EAAE,aAAa,CAAC;aAC5D,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,wDAAyB,GAAzB,UAA0B,aAA4B,EAAE,oBAAoB;QAC1E,4BAA4B;QAC5B,aAAa,CAAC,oBAAoB,GAAG,oBAAoB,CAAC;QAC1D,cAAc;QACd,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,aAAa,CAAC,GAAG,EAAE,aAAa,CAAC;aAC5D,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEF;;;;;;KAMI;IACH,kDAAmB,GAAnB,UAAoB,OAAe;QACjC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,OAAO,CAAC;aACtC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEH,2BAAC;AAAD,CAAC;AAzHY,oBAAoB;IADhC,wFAAU,EAAE;yDAQe,2DAAI,oBAAJ,2DAAI;GAPnB,oBAAoB,CAyHhC;AAzHgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBU;AACI;AAEhB;AACE;AACE;AAKnC;;GAEG;AACH,IAAM,MAAM,GAAG,kBAAkB;AAEjC;;;;;GAKG;AAEH,IAAa,gBAAgB;IAE3B;;;;OAIG;IACH,0BAAoB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;IAAI,CAAC;IAEnC;;;;;;OAMG;IACH,wDAA6B,GAA7B,UAA8B,EAAU;QACtC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC;aAC9B,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,uCAAY,GAAZ,UAAa,SAAc;QACzB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC;aACrC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,0CAAe,GAAf,UAAgB,SAAoB;QAClC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,SAAS,CAAC,GAAG,EAAE,SAAS,CAAC;aACpD,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAED;;;;;;OAMG;IACH,0CAAe,GAAf,UAAgB,EAAU;QACxB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;aACjC,GAAG,CAAC,aAAG,IAAI,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IAC5B,CAAC;IAEH,uBAAC;AAAD,CAAC;AAzDY,gBAAgB;IAD5B,wFAAU,EAAE;yDAQe,2DAAI,oBAAJ,2DAAI;GAPnB,gBAAgB,CAyD5B;AAzD4B;;;;;;;;;;ACtB7B;AAAA,mFAAmF;AACnF,8FAA8F;AAC9F,yEAAyE;AACzE,gFAAgF;AAEhF,mFALmF;AAK5E,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;;;;;;;;;;;;;;;;ACP6C;AAC4B;AACzD;AAE2B;AACY;AAEzD,EAAE,CAAC,CAAC,8EAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,4FAAc,EAAE,CAAC;AACnB,CAAC;AAED,wHAAsB,EAAE,CAAC,eAAe,CAAC,kEAAS,CAAC,CAAC","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"../../../../../src async recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src async\n// module id = ../../../../../src async recursive\n// module chunks = 1","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\n// Components\r\nimport { DashboardComponent } from './components/dashboard/dashboard.component';\r\nimport { ClientComponent } from './components/client/client.component';\r\nimport { DevisComponent } from './components/devis/devis.component';\r\nimport { FactureGlobalComponent } from './components/facture-global/facture-global.component';\r\nimport { ValiderDevisComponent } from './components/valider-devis/valider-devis.component';\r\nimport { FactureAccompteComponent } from './components/facture-accompte/facture-accompte.component';\r\nimport { BugsComponent } from './components/bugs/bugs.component';\r\nimport { PageNotFoundComponent } from './components/page-not-found/page-not-found.component';\r\n\r\n/**\r\n * routes definition\r\n */\r\nconst routes: Routes = [\r\n  // uncomment dashboard when implemented\r\n  //{ path: 'dashboard', component: DashboardComponent },\r\n  { path: 'client', component: ClientComponent },\r\n  //{ path: 'devis', component: DevisComponent },\r\n  // path Devis by client._id\r\n  { path: 'devis/client/:id_client', component: DevisComponent },\r\n  // { path: 'facture', component: FactureComponent },\r\n  // path valider Devis into facture global\r\n  { path: 'devis/client/valider-devis/:id_devis', component: ValiderDevisComponent },\r\n  // path facture d'accompte / facture mois\r\n  { path: 'facture/facture-accompte/:id_fact', component: FactureAccompteComponent },\r\n  // path bugs\r\n  { path: 'bug', component: BugsComponent },\r\n  { path: 'pageNotFound', component: PageNotFoundComponent },\r\n  // default path redirect to 'client'\r\n  { path: '', redirectTo: 'client', pathMatch: 'full' },\r\n  // Undefined page path\r\n  { path: '**', component: PageNotFoundComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [ RouterModule.forRoot(routes) ],\r\n  exports: [ RouterModule ]\r\n})\r\nexport class AppRoutingModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/app-routing.module.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = 1","module.exports = \"<app-navbar></app-navbar>\\r\\n<div class=\\\"container-fluid\\\">\\r\\n    <ngx-flash-messages></ngx-flash-messages>\\r\\n    <router-outlet></router-outlet>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = 1","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: [ './app.component.css' ]\r\n})\r\n// Root Component\r\nexport class AppComponent {\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpModule } from '@angular/http';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { DatePipe } from '@angular/common';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { MatButtonModule, MatCheckboxModule, MatProgressSpinnerModule } from '@angular/material';\r\n// Angular Flash messages\r\nimport { FlashMessagesModule } from 'ngx-flash-messages';\r\n\r\n// Routing Module\r\nimport { AppRoutingModule } from './app-routing.module';\r\n\r\n// import Components\r\nimport { AppComponent } from './app.component';\r\nimport { ClientComponent } from './components/client/client.component';\r\nimport { DevisComponent } from './components/devis/devis.component';\r\nimport { FactureGlobalComponent } from './components/facture-global/facture-global.component';\r\nimport { DashboardComponent } from './components/dashboard/dashboard.component';\r\nimport { NavbarComponent } from './components/navbar/navbar.component';\r\nimport { ValiderDevisComponent } from './components/valider-devis/valider-devis.component';\r\nimport { FactureAccompteComponent } from './components/facture-accompte/facture-accompte.component';\r\nimport { PageNotFoundComponent } from './components/page-not-found/page-not-found.component';\r\nimport { BugsComponent } from './components/bugs/bugs.component';\r\n\r\n// import Services\r\nimport { ClientService } from './service/client.service';\r\nimport { DevisService } from './service/devis.service';\r\nimport { FactureGlobalService } from './service/facture-global.service';\r\nimport { FactureAccompteService } from './service/facture-accompte.service';\r\nimport { DetailsDevisService } from './service/details-devis.service';\r\nimport { ReglementService } from './service/reglement.service';\r\nimport { BugsService } from './service/bugs.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    ClientComponent,\r\n    DevisComponent,\r\n    FactureGlobalComponent,\r\n    DashboardComponent,\r\n    NavbarComponent,\r\n    ValiderDevisComponent,\r\n    PageNotFoundComponent,\r\n    FactureAccompteComponent,\r\n    BugsComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    HttpModule,\r\n    ReactiveFormsModule,\r\n    FlashMessagesModule,\r\n    BrowserAnimationsModule,\r\n    MatProgressSpinnerModule\r\n  ],\r\n  providers: [\r\n    ClientService,\r\n    DevisService,\r\n    FactureAccompteService,\r\n    FactureGlobalService,\r\n    DetailsDevisService,\r\n    ReglementService,\r\n    DatePipe,\r\n    BugsService\r\n  ],\r\n  bootstrap: [ AppComponent ],\r\n  exports: [ ClientComponent ]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/app.module.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".italic {\\r\\n  font-style: italic;\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/bugs/bugs.component.css\n// module id = ../../../../../src/app/components/bugs/bugs.component.css\n// module chunks = 1","module.exports = \"<div class=\\\"container\\\">\\r\\n  <h2>Reporter un Bug</h2>\\r\\n  <h4>Pour reporter un bug ou proposer une amélioration, suivez la démarche suivante :</h4>\\r\\n  <ul>\\r\\n    <li>Cliquer sur le bouton \\\"Reporter un Bug\\\" pour ouvrir la page Issues du projet</li>\\r\\n    <li>Cliquer sur new Issue</li>\\r\\n    <li>Se connecter (Sign in) ou créer un compte (Sign up) sur le site github</li>\\r\\n    <li>Remplir les différents champs en décrivant le problème</li>\\r\\n    <!-- <li>Assigner un label correspondant à la demande en cliquant sur Labels à droite du texte (bug, amélioration, ...)</li> -->\\r\\n    <li class=\\\"italic\\\">Conseil : Essayer d'être précis dans la description du bug en décrivant l'action effectuée et si possible la démarche\\r\\n      pour reproduire le problème</li>\\r\\n  </ul>\\r\\n  <br>\\r\\n  <a class=\\\"btn btn-primary btn-lg\\\" target=\\\"_blank\\\" href=\\\"https://github.com/guinardpaul/GPAssocies-MEAN-App/milestone/2\\\">Reporter un Bug</a>\\r\\n\\r\\n</div>\\r\\n\\r\\n\\r\\n<!-- ============================================= -->\\r\\n<!-- NOT USED -->\\r\\n<!-- ============================================= -->\\r\\n<!-- <div class=\\\"container-fluid\\\">\\r\\n  <h4 style=\\\"text-align: center;\\\">Bugs</h4>\\r\\n  <table class=\\\"table table-striped\\\">\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th>Statut</th>\\r\\n        <th>Date création</th>\\r\\n        <th>Description</th>\\r\\n        <th>Criticité</th>\\r\\n        <th>Actions</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <tr *ngFor=\\\"let b of listBugs\\\">\\r\\n        <td>{{b.status_correction}}</td>\\r\\n        <td>{{b.date_creation | date: 'dd/MM/yyyy'}}</td>\\r\\n        <td>{{b.description}}</td>\\r\\n        <td>{{b.criticite}}</td>\\r\\n        <td>\\r\\n          <div class=\\\"btn-group-vertical\\\">\\r\\n            <button class=\\\"btn btn-success\\\" (click)=\\\"onUpdateBug(b)\\\">Modifier</button>\\r\\n            <button class=\\\"btn btn-danger\\\" (click)=\\\"deleteBug(b._id)\\\">Supprimer</button>\\r\\n          </div>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table>\\r\\n  <button class=\\\"btn btn-primary\\\" (click)=\\\"onAdd()\\\">Ajouter Bug</button>\\r\\n  <br/><br/> -->\\r\\n\\r\\n<!-- Add Bug form -->\\r\\n<!-- <div class=\\\"container-fluid\\\" *ngIf=\\\"mode\\\">\\r\\n    <span class=\\\"col-sm-3\\\"></span>\\r\\n    <div class=\\\"panel panel-info col-sm-6\\\">\\r\\n      <div class=\\\"panel-heading\\\">\\r\\n        <h4>Bug</h4>\\r\\n      </div>\\r\\n      <div class=\\\"panel-body\\\">\\r\\n        <form class=\\\"form-horizontal\\\" [formGroup]=\\\"bugForm\\\" (submit)=\\\"addBug()\\\">\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"date_creation\\\">Date création :</label>\\r\\n            <input type=\\\"date\\\" class=\\\"form-control\\\" name=\\\"date_creation\\\" id=\\\"date_creation\\\" formControlName=\\\"date_creation\\\" value=\\\"{{currentDate | date: 'yyyy-MM-dd'}}\\\"\\r\\n            />\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"description\\\">Description :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"description\\\" id=\\\"description\\\" formControlName=\\\"description\\\" value=\\\"{{bug.description}}\\\"\\r\\n            />\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"criticite\\\">Criticité :</label>\\r\\n            <select class=\\\"form-control\\\" name=\\\"criticite\\\" id=\\\"criticite\\\" formControlName=\\\"criticite\\\" required>\\r\\n              <option *ngFor=\\\"let key of keys\\\" [value]=\\\"key\\\">{{criticite[key]}}</option>\\r\\n            </select>\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <button [disabled]=\\\"!bugForm.valid || processing\\\" type=\\\"submit\\\" class=\\\"btn btn-success\\\">Ajouter Bug</button>\\r\\n            <button [disabled]=\\\"processing\\\" (click)=\\\"onCancel()\\\" class=\\\"btn btn-default\\\">Annuler</button>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n    <span class=\\\"col-sm-3\\\"></span>\\r\\n  </div> -->\\r\\n\\r\\n<!-- Update Bug form -->\\r\\n<!--   <div class=\\\"container-fluid\\\" *ngIf=\\\"modeUpdate\\\">\\r\\n    <span class=\\\"col-sm-3\\\"></span>\\r\\n    <div class=\\\"panel panel-info col-sm-6\\\">\\r\\n      <div class=\\\"panel-heading\\\">\\r\\n        <h4>Bug</h4>\\r\\n      </div>\\r\\n      <div class=\\\"panel-body\\\">\\r\\n        <form class=\\\"form-horizontal\\\" [formGroup]=\\\"bugFormUpdate\\\" (submit)=\\\"updateBug()\\\">\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"status_correction\\\">Statut :</label>\\r\\n            <select class=\\\"form-control\\\" name=\\\"status_correction\\\" id=\\\"status_correction\\\" formControlName=\\\"status_correction\\\" required>\\r\\n                  <option *ngFor=\\\"let number of numbers\\\" ([value])=\\\"number\\\">{{status_bug[number]}}</option>\\r\\n                </select>\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"date_creation\\\">Date création :</label>\\r\\n            <input type=\\\"date\\\" class=\\\"form-control\\\" name=\\\"date_creation\\\" id=\\\"date_creation\\\" formControlName=\\\"date_creation\\\" value=\\\"{{currentDate | date: 'yyyy-MM-dd'}}\\\"\\r\\n            />\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"description\\\">Description :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"description\\\" id=\\\"description\\\" formControlName=\\\"description\\\" value=\\\"{{bug.description}}\\\"\\r\\n            />\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"criticite\\\">Criticité :</label>\\r\\n            <select class=\\\"form-control\\\" name=\\\"criticite\\\" id=\\\"criticite\\\" formControlName=\\\"criticite\\\" required>\\r\\n              <option *ngFor=\\\"let key of keys\\\" ([value])=\\\"key\\\">{{criticite[key]}}</option>\\r\\n            </select>\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <button [disabled]=\\\"!bugFormUpdate.valid || processing\\\" type=\\\"submit\\\" class=\\\"btn btn-success\\\">Modifier Bug</button>\\r\\n            <button [disabled]=\\\"processing\\\" (click)=\\\"onCancel()\\\" class=\\\"btn btn-default\\\">Annuler</button>\\r\\n          </div>\\r\\n        </form>\\r\\n        <p>{{bug | json}}</p>\\r\\n      </div>\\r\\n    </div>\\r\\n    <span class=\\\"col-sm-3\\\"></span>\\r\\n  </div> -->\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/bugs/bugs.component.html\n// module id = ../../../../../src/app/components/bugs/bugs.component.html\n// module chunks = 1","import { Component, OnInit } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\n\r\n// Service\r\nimport { BugsService } from '../../service/bugs.service';\r\nimport { FlashMessagesService } from 'ngx-flash-messages';\r\n\r\n// Model\r\nimport { Bug } from '../../models/bug';\r\nimport { CRITICITE } from '../../models/criticite.enum';\r\nimport { STATUS } from '../../models/status-bug.enum';\r\n\r\n/**\r\n *\r\n * @author Paul GUINARD\r\n * @export\r\n * @class BugsComponent\r\n * @implements {OnInit}\r\n */\r\n@Component({\r\n  selector: 'app-bugs',\r\n  templateUrl: './bugs.component.html',\r\n  styleUrls: [ './bugs.component.css' ]\r\n})\r\nexport class BugsComponent implements OnInit {\r\n\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n  //=======================================\r\n  // Bug component\r\n  // NOT USED\r\n  // Use issues report on github instead\r\n  //=======================================\r\n  /*   listBugs: Bug[] = [];\r\n    bug: any = {};\r\n    id_bug: number = 0;\r\n    currentDate;\r\n    status_correction = STATUS;\r\n    criticite = CRITICITE;\r\n    numbers: any[];\r\n    keys: any[];\r\n    bugForm: FormGroup;\r\n    bugFormUpdate: FormGroup;\r\n    mode = false;\r\n    modeUpdate = false;\r\n    processing = false;\r\n   */\r\n  /**\r\n   * Creates an instance of BugsComponent.\r\n   * @param {BugsService} bugService bug service\r\n   * @param {FlashMessagesService} flashMessages Angular flash message service\r\n   * @param {FormBuilder} formBuilder reactive forms builder\r\n   * @param {DatePipe} datePipe format date\r\n   * @memberof BugsComponent\r\n   */\r\n  /*   constructor(\r\n      private bugService: BugsService,\r\n      private flashMessages: FlashMessagesService,\r\n      private formBuilder: FormBuilder,\r\n      private datePipe: DatePipe\r\n    ) {\r\n      this.generateForm();\r\n      this.generateFormUpdate();\r\n      this.numbers = Object.keys(this.status_correction).filter(Number);\r\n      this.keys = Object.keys(this.criticite).filter(Number);\r\n    } */\r\n\r\n  /**\r\n   * Get All Bugs\r\n   *\r\n   * @memberof BugsComponent\r\n   */\r\n  /*   getAllBugs() {\r\n      this.bugService.getAllBugs()\r\n        .subscribe(\r\n        data => this.listBugs = data,\r\n        error => console.log('Erreur :' + error)\r\n        );\r\n    } */\r\n\r\n  /**\r\n   * Add Bug\r\n   * Check si this.id_bug set :\r\n   * - si.id_bug === 0 : méthode Add\r\n   * - si.id_bug !== 0 : méthode Update\r\n   *\r\n   * @memberof BugsComponent\r\n   */\r\n  /*   addBug() {\r\n      this.processing = true;\r\n      this.disableForm();\r\n      let newBug = this.bugForm.value;\r\n      newBug.date_creation = this.bugForm.get('date_creation').value;\r\n      newBug.criticite = this.criticite[ this.bugForm.get('criticite').value ];\r\n      console.log(newBug);\r\n  \r\n      this.bugService.addBug(newBug)\r\n        .subscribe(\r\n        data => {\r\n          console.log('Bug saved');\r\n          this.flashMessages.show('Bug ajouté', {\r\n            classes: [ 'alert', 'alert-success' ],\r\n            timeout: 3000\r\n          });\r\n          this.onSuccess();\r\n        }, err => {\r\n          console.log('Erreur :' + err);\r\n          this.flashMessages.show('Erreur suppresion Bug', {\r\n            classes: [ 'alert', 'alert-danger' ],\r\n            timeout: 3000\r\n          });\r\n          this.enableForm();\r\n        }\r\n        );\r\n    } */\r\n\r\n  /**\r\n   * Update Bug\r\n   *\r\n   * @memberof BugsComponent\r\n   */\r\n  /*  updateBug() {\r\n     this.processing = true;\r\n     this.disableForm();\r\n     let newBug = this.bugForm.value;\r\n     newBug.date_creation = this.bugForm.get('date_creation').value;\r\n     newBug.criticite = this.criticite[ this.bugForm.get('criticite').value ];\r\n     newBug.status_correction = this.status_correction[ this.bugForm.get('status_correction').value ];\r\n     console.log(newBug);\r\n     this.bugService.updateBug(newBug)\r\n       .subscribe(\r\n       data => {\r\n         console.log('Bug updated');\r\n         this.flashMessages.show('Bug modifié', {\r\n           classes: [ 'alert', 'alert-success' ],\r\n           timeout: 3000\r\n         });\r\n         this.onSuccess();\r\n       }, err => {\r\n         console.log('Erreur :' + err);\r\n         this.flashMessages.show('Erreur modification Bug', {\r\n           classes: [ 'alert', 'alert-danger' ],\r\n           timeout: 3000\r\n         });\r\n         this.enableForm();\r\n       });\r\n \r\n   } */\r\n\r\n  /**\r\n   * Delete Bug\r\n   *\r\n   * @param {number} id bug._id\r\n   * @memberof BugsComponent\r\n   */\r\n  /*   deleteBug(id: number) {\r\n      this.bugService.deleteBug(id)\r\n        .subscribe(\r\n        data => {\r\n          console.log('Bug deleted');\r\n          this.flashMessages.show('Bug supprimé', {\r\n            classes: [ 'alert', 'alert-warning' ],\r\n            timeout: 3000\r\n          });\r\n          this.onSuccess();\r\n        }, err => console.log('Erreur :' + err)\r\n        );\r\n    } */\r\n\r\n  /**\r\n   * Display bugForm\r\n   *\r\n   * @memberof BugsComponent\r\n   */\r\n  /*  onAdd() {\r\n     // Display ony one form\r\n     this.modeUpdate = false;\r\n     this.bug = {};\r\n     this.id_bug = 0;\r\n     this.generateForm();\r\n     this.bugForm.get('date_creation').setValue(this.currentDate);\r\n     this.mode = true;\r\n   }\r\n  */\r\n  /**\r\n   * onUpdate => Display bugFormUpdate\r\n   *\r\n   * @param {Bug} bug\r\n   * @memberof BugsComponent\r\n   */\r\n  /* onUpdateBug(bug: Bug) {\r\n    // Display only one form\r\n    this.mode = false;\r\n    // Set bug value\r\n    this.generateFormUpdate();\r\n    this.id_bug = bug._id;\r\n    this.bug = bug;\r\n    this.bugForm.get('criticite').setValue(this.bug.criticite);\r\n    console.log(this.bugForm.get('criticite').value);\r\n    this.bugForm.get('status_correction').setValue(this.bug.status_correction);\r\n    console.log(this.bugForm.get('status_correction').value);\r\n    this.modeUpdate = true;\r\n  }\r\n */\r\n  /**\r\n   * onSuccess method\r\n   *\r\n   * @memberof BugsComponent\r\n   */\r\n  /*   onSuccess() {\r\n      this.generateForm();\r\n      this.generateFormUpdate();\r\n      this.id_bug = 0;\r\n      this.mode = false;\r\n      this.modeUpdate = false;\r\n      this.processing = false;\r\n      this.getAllBugs();\r\n    }\r\n   */\r\n  /**\r\n   * Cancel Bug Forms\r\n   *\r\n   * @memberof BugsComponent\r\n   */\r\n  /*   onCancel() {\r\n      this.generateForm();\r\n      this.generateFormUpdate();\r\n      this.id_bug = 0;\r\n      this.mode = false;\r\n      this.modeUpdate = false;\r\n      this.processing = false;\r\n      this.bug = {};\r\n    }\r\n   */\r\n  /**\r\n   * Generate reactive bug form\r\n   *\r\n   * @memberof BugsComponent\r\n   */\r\n  /*   generateForm() {\r\n      this.bugForm = this.formBuilder.group({\r\n        date_creation: [ this.bug.date_creation ],\r\n        description: [ this.bug.description, Validators.required ],\r\n        criticite: [ this.bug.criticite, Validators.required ]\r\n      });\r\n    } */\r\n\r\n  /*   generateFormUpdate() {\r\n      this.bugFormUpdate = this.formBuilder.group({\r\n        status_correction: [ this.bug.status_correction, Validators.required ],\r\n        date_creation: [ this.bug.date_creation ],\r\n        description: [ this.bug.description, Validators.required ],\r\n        criticite: [ this.bug.criticite, Validators.required ]\r\n      })\r\n    }\r\n   */\r\n  /**\r\n   * Enable controls\r\n   *\r\n   * @memberof BugsComponent\r\n   */\r\n  /*   enableForm() {\r\n      this.bugForm.enable();\r\n      this.bugFormUpdate.enable();\r\n    }\r\n   */\r\n  /**\r\n   * Disable controls\r\n   *\r\n   * @memberof BugsComponent\r\n   */\r\n  /*   disableForm() {\r\n      this.bugForm.disable();\r\n      this.bugFormUpdate.disable();\r\n    }\r\n   */\r\n  /**\r\n   * onInit:\r\n   * - Get All Bugs\r\n   *\r\n   * @memberof BugsComponent\r\n   */\r\n  /*   ngOnInit() {\r\n      this.getAllBugs();\r\n      this.currentDate = Date.now();\r\n    }\r\n   */\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/bugs/bugs.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/client/client.component.css\n// module id = ../../../../../src/app/components/client/client.component.css\n// module chunks = 1","module.exports = \"<div class=\\\"container-fluid\\\">\\r\\n    <table class=\\\"table table-striped\\\">\\r\\n        <thead>\\r\\n            <tr>\\r\\n                <th>Statut</th>\\r\\n                <th>Nom</th>\\r\\n                <th>Prénom</th>\\r\\n                <th>Adresse Facturation</th>\\r\\n                <th>Adresse Chantier</th>\\r\\n                <th>Email</th>\\r\\n                <th>Tél</th>\\r\\n                <th>Actions</th>\\r\\n            </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n            <tr *ngFor=\\\"let client of listClient\\\">\\r\\n                <td *ngIf=\\\"client.status_client\\\"><img src=\\\"{{status_true}}\\\" alt=\\\"true\\\"></td>\\r\\n                <td *ngIf=\\\"!client.status_client\\\"><img src=\\\"{{status_false}}\\\" alt=\\\"false\\\"></td>\\r\\n                <td>{{client.nom}}</td>\\r\\n                <td>{{client.prenom}}</td>\\r\\n                <td>{{client.adresseFact}} {{client.complAdresseFact}} <br/> {{client.cpFact}} {{client.villeFact}}</td>\\r\\n                <td>{{client.adresseChantier}} {{client.complAdresseChantier}} <br/> {{client.cpChantier}} {{client.villeChantier}}</td>\\r\\n                <td>{{client.email}}</td>\\r\\n                <td>{{client.numTel}}</td>\\r\\n                <td>\\r\\n                    <div class=\\\"btn-group-vertical\\\">\\r\\n                        <a class=\\\"btn btn-success\\\" [routerLink]=\\\"['/devis/client', client._id]\\\">Consulter</a>\\r\\n                        <button class=\\\"btn btn-warning\\\" (click)=\\\"onUpdate(client)\\\">Modifier</button>\\r\\n                        <button class=\\\"btn btn-danger\\\" data-toggle=\\\"modal\\\" data-target=\\\"#myModal\\\" (click)=\\\"getClientToDelete(client)\\\">Supprimer</button>\\r\\n                    </div>\\r\\n                </td>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n    <button class=\\\"btn btn-primary\\\" (click)=\\\"onAdd()\\\">Ajouter client</button>\\r\\n</div>\\r\\n<br/>\\r\\n\\r\\n<!-- Confirm delete Modal -->\\r\\n<div id=\\\"myModal\\\" class=\\\"modal fade\\\" role=\\\"dialog\\\">\\r\\n    <div class=\\\"modal-dialog\\\">\\r\\n        <!-- Modal content-->\\r\\n        <div class=\\\"modal-content\\\">\\r\\n            <div class=\\\"modal-header\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n                <h4 class=\\\"modal-title\\\">Confirmer suppression</h4>\\r\\n            </div>\\r\\n            <div class=\\\"modal-body\\\">\\r\\n                <p>Etes-vous sûr de vouloir supprimer {{client.nom}} {{client.prenom}} ?</p>\\r\\n            </div>\\r\\n            <div class=\\\"modal-footer\\\">\\r\\n                <button class=\\\"btn btn-danger\\\" (click)=\\\"onDelete(client._id)\\\" data-dismiss=\\\"modal\\\">Supprimer</button>\\r\\n                <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" (click)=\\\"closeModal()\\\">Annuler</button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<!-- Add/Update Client form -->\\r\\n<div class=\\\"container\\\" *ngIf=\\\"mode\\\">\\r\\n    <div class=\\\"panel-group\\\">\\r\\n        <form class=\\\"form-horizontal\\\" [formGroup]=\\\"clientForm\\\" (submit)=\\\"addClient()\\\">\\r\\n            <div class=\\\"panel-info col-sm-4\\\">\\r\\n                <div class=\\\"panel-heading\\\">Client</div>\\r\\n                <div class=\\\"panel-body\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label for=\\\"civilite\\\">Civilité :</label>\\r\\n                        <select class=\\\"form-control\\\" name=\\\"civilite\\\" id=\\\"civilite\\\" formControlName=\\\"civilite\\\">\\r\\n                            <option>Civilité...</option>\\r\\n                            <option *ngFor=\\\"let key of keys\\\" ([ngValue])=\\\"key\\\">{{civilite[key]}}</option>\\r\\n                          </select>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" [ngClass]=\\\"{'has-error': (clientForm.controls.nom.errors && clientForm.controls.nom.dirty),\\r\\n              'has-success': (!clientForm.controls.nom.errors)}\\\">\\r\\n                        <label for=\\\"nom\\\">Nom :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"nom\\\" value=\\\"{{client.nom}}\\\" id=\\\"nom\\\" formControlName=\\\"nom\\\" autofocus required\\r\\n                        />\\r\\n                        <ul class=\\\"list-group\\\">\\r\\n                            <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"clientForm.controls.nom.errors?.required && clientForm.controls.nom.dirty\\\">\\r\\n                                Ce champ est requis\\r\\n                            </li>\\r\\n                            <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"clientForm.controls.nom.errors?.nomPrenomValidation && clientForm.controls.nom.dirty\\r\\n                && !clientForm.controls.nom.errors?.required\\\">\\r\\n                                Le nom doit être composé uniquement de lettres\\r\\n                            </li>\\r\\n                        </ul>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" [ngClass]=\\\"{'has-error': (clientForm.controls.prenom.errors && clientForm.controls.prenom.dirty),\\r\\n          'has-success': (!clientForm.controls.prenom.errors)}\\\">\\r\\n                        <label for=\\\"prenom\\\">Prénom :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"prenom\\\" value=\\\"{{client.prenom}}\\\" id=\\\"prenom\\\" formControlName=\\\"prenom\\\" required\\r\\n                        />\\r\\n                        <ul class=\\\"list-group\\\">\\r\\n                            <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"clientForm.controls.prenom.errors?.required && clientForm.controls.prenom.dirty\\\">Ce champ est requis</li>\\r\\n                            <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"clientForm.controls.prenom.errors?.nomPrenomValidation && clientForm.controls.prenom.dirty\\r\\n            && !clientForm.controls.prenom.errors?.required\\\">\\r\\n                                Le prénom doit être composé uniquement de lettres\\r\\n                            </li>\\r\\n                        </ul>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" [ngClass]=\\\"{'has-error': (clientForm.controls.email.errors && clientForm.controls.email.dirty),\\r\\n      'has-success': (!clientForm.controls.email.errors)}\\\">\\r\\n                        <label for=\\\"email\\\">Email :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"email\\\" value=\\\"{{client.email}}\\\" id=\\\"email\\\" formControlName=\\\"email\\\" required\\r\\n                        />\\r\\n                        <ul class=\\\"list-group\\\">\\r\\n                            <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"clientForm.controls.email.errors?.required && clientForm.controls.email.dirty\\\">Ce champ est requis</li>\\r\\n                            <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"clientForm.controls.email.errors?.emailValidation && clientForm.controls.email.dirty\\r\\n        && !clientForm.controls.email.errors?.required\\\">\\r\\n                                L'email n'est pas valide\\r\\n                            </li>\\r\\n                        </ul>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" [ngClass]=\\\"{'has-error': (clientForm.controls.numTel.errors && clientForm.controls.numTel.dirty), 'has-success': (!clientForm.controls.numTel.errors)}\\\">\\r\\n                        <label for=\\\"numTel\\\">Tél :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"numTel\\\" value=\\\"{{client.numTel}}\\\" id=\\\"numTel\\\" formControlName=\\\"numTel\\\" />\\r\\n                        <ul class=\\\"list-group\\\">\\r\\n                            <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"clientForm.controls.numTel.errors?.numTelValidation && clientForm.controls.numTel.dirty\\\">Le tel doit être composé de chiffre, '-' ou '.'</li>\\r\\n                            <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"clientForm.controls.numTel.errors?.minlength && clientForm.controls.numTel.dirty\\r\\n      && !clientForm.controls.numTel.errors?.numTelValidation\\\">\\r\\n                                Le tel doit être composé de 10 chiffres\\r\\n                            </li>\\r\\n                        </ul>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <md-spinner *ngIf=\\\"processing\\\" style=\\\"float: left;width: 24px;height: 24px;\\\"></md-spinner>\\r\\n                        <button [disabled]=\\\"!clientForm.valid || processing\\\" type=\\\"submit\\\" class=\\\"btn btn-success\\\">Sauver</button>\\r\\n                        <button [disabled]=\\\"processing\\\" (click)=\\\"onCancel()\\\" class=\\\"btn btn-default\\\">Annuler</button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"panel-info col-sm-4\\\">\\r\\n                <div class=\\\"panel-heading\\\">Adresse Facturation</div>\\r\\n                <div class=\\\"panel-body\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label for=\\\"adresseFact\\\">Adresse :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"adresseFact\\\" value=\\\"{{client.adresseFact}}\\\" id=\\\"adresseFact\\\" formControlName=\\\"adresseFact\\\"\\r\\n                        />\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label for=\\\"complAdresseFact\\\">Complément adresse :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"complAdresseFact\\\" value=\\\"{{client.complAdresseFact}}\\\" id=\\\"complAdresseFact\\\"\\r\\n                            formControlName=\\\"complAdresseFact\\\" />\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label for=\\\"cpFact\\\">Code postal :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"cpFact\\\" value=\\\"{{client.cpFact}}\\\" id=\\\"cpFact\\\" formControlName=\\\"cpFact\\\" />\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label for=\\\"villeFact\\\">Ville :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"villeFact\\\" value=\\\"{{client.villeFact}}\\\" id=\\\"villeFact\\\" formControlName=\\\"villeFact\\\"\\r\\n                        />\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"panel-info col-sm-4\\\">\\r\\n                <div class=\\\"panel-heading\\\">Adresse Chantier</div>\\r\\n                <div class=\\\"panel-body\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label for=\\\"adresseChantier\\\">Adresse :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"adresseChantier\\\" value=\\\"{{client.adresseChantier}}\\\" id=\\\"adresseChantier\\\" formControlName=\\\"adresseChantier\\\"\\r\\n                        />\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label for=\\\"complAdresseChantier\\\">Complément adresse :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"complAdresseChantier\\\" value=\\\"{{client.complAdresseChantier}}\\\" id=\\\"complAdresseChantier\\\"\\r\\n                            formControlName=\\\"complAdresseChantier\\\" />\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label for=\\\"cpChantier\\\">Code postal :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"cpChantier\\\" value=\\\"{{client.cpChantier}}\\\" id=\\\"cpChantier\\\" formControlName=\\\"cpChantier\\\"\\r\\n                        />\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label for=\\\"villeChantier\\\">Ville :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"villeChantier\\\" value=\\\"{{client.villeChantier}}\\\" id=\\\"villeChantier\\\" formControlName=\\\"villeChantier\\\"\\r\\n                        />\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </form>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/client/client.component.html\n// module id = ../../../../../src/app/components/client/client.component.html\n// module chunks = 1","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\r\n\r\n// Models\r\nimport { Client } from '../../models/client';\r\nimport { CIVILITE } from '../../models/civilite.enum';\r\n\r\n// Services\r\nimport { ClientService } from '../../service/client.service';\r\nimport { DevisService } from '../../service/devis.service';\r\nimport { FlashMessagesService } from 'ngx-flash-messages';\r\n\r\n/**\r\n *\r\n * @author Paul GUINARD\r\n * @export ClientComponent\r\n * @class ClientComponent\r\n * @implements {OnInit}\r\n */\r\n@Component({\r\n  selector: 'app-client',\r\n  templateUrl: './client.component.html',\r\n  styleUrls: [ './client.component.css' ]\r\n})\r\nexport class ClientComponent implements OnInit {\r\n  /**\r\n   * liste clients\r\n   * \r\n   * @type {any[]}\r\n   * @memberof ClientComponent\r\n   */\r\n  listClient: any[];\r\n\r\n  /**\r\n   * client\r\n   * \r\n   * @type {*}\r\n   * @memberof ClientComponent\r\n   */\r\n  client: any = {};\r\n\r\n  /**\r\n   * id client\r\n   * \r\n   * @type {number}\r\n   * @memberof ClientComponent\r\n   */\r\n  client_id: number = null;\r\n\r\n  /**\r\n   * keys for select option\r\n   * \r\n   * @type {any[]}\r\n   * @memberof ClientComponent\r\n   */\r\n  keys: any[];\r\n\r\n  /**\r\n   * enum CIVILITE\r\n   * \r\n   * @memberof ClientComponent\r\n   */\r\n  civilite = CIVILITE;\r\n\r\n  /**\r\n   * mode form\r\n   * \r\n   * @memberof ClientComponent\r\n   */\r\n  mode = false;\r\n\r\n  /**\r\n   * on process\r\n   * \r\n   * @memberof ClientComponent\r\n   */\r\n  processing = false;\r\n\r\n  /**\r\n   * client form\r\n   * \r\n   * @type {FormGroup}\r\n   * @memberof ClientComponent\r\n   */\r\n  clientForm: FormGroup;\r\n\r\n  // Status images\r\n\r\n  /**\r\n   * image status true\r\n   * \r\n   * @memberof ClientComponent\r\n   */\r\n  status_true = '../../assets/images/status_true.png';\r\n\r\n  /**\r\n   * image status false\r\n   * \r\n   * @memberof ClientComponent\r\n   */\r\n  status_false = '../../assets/images/status_false.png';\r\n\r\n\t/**\r\n   * Creates an instance of ClientComponent.\r\n   *\r\n   * @param {ClientService} clientService client service\r\n   * @param {DevisService} devisService devis service\r\n   * @param {FormBuilder} formBuilder Reactive forms builder\r\n   * @param {FlashMessagesService} flashMessages Angular flash messages\r\n   * @memberof ClientComponent\r\n   */\r\n  constructor(\r\n    private clientService: ClientService,\r\n    private devisService: DevisService,\r\n    private formBuilder: FormBuilder,\r\n    private flashMessages: FlashMessagesService\r\n  ) {\r\n    this.generateForm();\r\n    this.keys = Object.keys(this.civilite).filter(Number);\r\n  }\r\n\r\n\t/**\r\n   * Get All Clients to display in table.\r\n   *\r\n   * @memberof ClientComponent\r\n   */\r\n  getAllClients() {\r\n    this.clientService.getAllClients()\r\n      .subscribe(\r\n      data => {\r\n        this.listClient = data;\r\n      },\r\n      error => console.log(error)\r\n      );\r\n  }\r\n\r\n\t/**\r\n   * Get One Client.\r\n\t * Method not used.\r\n   *\r\n   * @param {number} id client._id\r\n   * @memberof ClientComponent\r\n   */\r\n  getOneClient(id: number) {\r\n    this.clientService.getOneClient(id)\r\n      .subscribe(\r\n      client => this.client = client,\r\n      error => console.log('Erreur ' + error)\r\n      );\r\n  }\r\n\r\n\t/**\r\n   * ADD/UPDATE Client.\r\n\t * - Si this.client._id exists : updateClient().\r\n\t * - Si this.client._id == null || 0 : addClient().\r\n   *\r\n   * @memberof ClientComponent\r\n   */\r\n  addClient() {\r\n    this.processing = true;\r\n    this.disableForm();\r\n    this.client = this.clientForm.value;\r\n    this.client._id = this.client_id;\r\n    this.client.civilite = this.clientForm.get('civilite').value;\r\n    console.log(this.client);\r\n    // Check method to use \r\n    if (this.client_id === null || this.client_id === 0) {\r\n      this.clientService.addClient(this.client)\r\n        .subscribe(\r\n        data => {\r\n          if (!data.success) {\r\n            this.flashMessages.show(data.message, {\r\n              classes: [ 'alert', 'alert-danger' ],\r\n              timeout: 3000\r\n            });\r\n            this.processing = false;\r\n            this.enableForm();\r\n          } else {\r\n            this.flashMessages.show(data.message, {\r\n              classes: [ 'alert', 'alert-success' ],\r\n              timeout: 3000\r\n            });\r\n            console.log('Client saved' + data);\r\n            this.onSuccess();\r\n          }\r\n        }\r\n        );\r\n    } else {\r\n      this.clientService.updateClient(this.client)\r\n        .subscribe(\r\n        data => {\r\n          if (data.success) {\r\n            this.flashMessages.show('Client mis à jour', {\r\n              classes: [ 'alert', 'alert-success' ],\r\n              timeout: 3000\r\n            });\r\n            console.log('Client updated' + data);\r\n            this.onSuccess();\r\n          } else {\r\n            this.flashMessages.show('Erreur : Client non modifié', {\r\n              classes: [ 'alert', 'alert-danger' ],\r\n              timeout: 3000\r\n            });\r\n            console.log('Erreur update client :' + data);\r\n            this.processing = false;\r\n            this.enableForm();\r\n          }\r\n        },\r\n      );\r\n    }\r\n  }\r\n\r\n\t/**\r\n   * Delete client si Ne possède pas de Devis\r\n   *\r\n   * @param {number} id client._id\r\n   * @memberof ClientComponent\r\n   */\r\n  onDelete(id: number) {\r\n    this.devisService.getAllDevisByClient(id)\r\n      .subscribe(\r\n      data => {\r\n        console.log(data.length);\r\n        if (data.length === 0) {\r\n          this.clientService.deleteClient(id)\r\n            .subscribe(\r\n            () => {\r\n              console.log('Client deleted');\r\n              this.flashMessages.show('Client supprimé', {\r\n                classes: [ 'alert', 'alert-warning' ],\r\n                timeout: 3000\r\n              });\r\n              this.client = {};\r\n              this.getAllClients();\r\n            },\r\n            error => {\r\n              this.client = {};\r\n              console.log(error);\r\n              this.flashMessages.show('Erreur: Client non supprimé', {\r\n                classes: [ 'alert', 'alert-danger' ],\r\n                timeout: 3000\r\n              });\r\n            }\r\n            );\r\n        } else {\r\n          this.client = {};\r\n          console.log('Client non supprimé');\r\n          this.flashMessages.show('Suppression impossible ! le client est associé à des devis', {\r\n            classes: [ 'alert', 'alert-danger' ],\r\n            timeout: 3000\r\n          });\r\n        }\r\n      },\r\n      err => console.log('Erreur :' + err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Set client to delete on confirm\r\n   * \r\n   * @param {Client} client client body\r\n   * @memberof ClientComponent\r\n   */\r\n  getClientToDelete(client: Client) {\r\n    this.client = client;\r\n  }\r\n\r\n  /**\r\n   * on close modal\r\n   * \r\n   * @memberof ClientComponent\r\n   */\r\n  closeModal() {\r\n    this.client = {};\r\n    this.client_id = null;\r\n  }\r\n\r\n\t/**\r\n   * Success function called when request to api successfull.\r\n\t * Fetch data from database to update table.\r\n   *\r\n   * @memberof ClientComponent\r\n   */\r\n  onSuccess() {\r\n    this.generateForm();\r\n    this.processing = false;\r\n    this.enableForm();\r\n    this.mode = false;\r\n    this.client = {};\r\n    this.client_id = null;\r\n    this.getAllClients();\r\n  }\r\n\r\n\t/**\r\n   * Display clientForm\r\n   *\r\n   * @memberof ClientComponent\r\n   */\r\n  onAdd() {\r\n    this.mode = true;\r\n    this.client_id = null;\r\n    this.client = {};\r\n  }\r\n\r\n\t/**\r\n   * Display clientForm and set values to be updated\r\n   *\r\n   * @param {Client} client client body\r\n   * @memberof ClientComponent\r\n   */\r\n  onUpdate(client: Client) {\r\n    // Set this.client values (fecth _id)\r\n    this.client = client;\r\n    this.client_id = client._id;\r\n\r\n    // Set clientForm values\r\n    this.clientForm.get('civilite').setValue(client.civilite);\r\n    this.clientForm.get('nom').setValue(client.nom);\r\n    this.clientForm.get('prenom').setValue(client.prenom);\r\n    this.clientForm.get('email').setValue(client.email);\r\n    this.clientForm.get('numTel').setValue(client.numTel);\r\n    this.clientForm.get('adresseFact').setValue(client.adresseFact);\r\n    this.clientForm.get('complAdresseFact').setValue(client.complAdresseFact);\r\n    this.clientForm.get('cpFact').setValue(client.cpFact);\r\n    this.clientForm.get('villeFact').setValue(client.villeFact);\r\n    this.clientForm.get('adresseChantier').setValue(client.adresseChantier);\r\n    this.clientForm.get('complAdresseChantier').setValue(client.complAdresseChantier);\r\n    this.clientForm.get('cpChantier').setValue(client.cpChantier);\r\n    this.clientForm.get('villeChantier').setValue(client.villeChantier);\r\n\r\n    client = null;\r\n    this.mode = true;\r\n  }\r\n\r\n\t/**\r\n   * Cancel button\r\n   *\r\n   * @memberof ClientComponent\r\n   */\r\n  onCancel() {\r\n    this.mode = false;\r\n    this.client_id = null;\r\n    this.client = {};\r\n    this.generateForm();\r\n  }\r\n\r\n\t/**\r\n   * Form Generator\r\n   *\r\n   * @memberof ClientComponent\r\n   */\r\n  generateForm() {\r\n    this.clientForm = this.formBuilder.group({\r\n      civilite: '',\r\n      nom: [ '', Validators.compose([\r\n        Validators.required,\r\n        this.nomPrenomValidation\r\n      ]) ],\r\n      prenom: [ '', Validators.compose([\r\n        Validators.required,\r\n        this.nomPrenomValidation\r\n      ]) ],\r\n      email: [ '', Validators.compose([\r\n        Validators.required,\r\n        this.emailValidation\r\n      ]) ],\r\n      numTel: [ '', Validators.compose([\r\n        this.numTelValidation,\r\n        Validators.minLength(10)\r\n      ]) ],\r\n      adresseFact: '',\r\n      complAdresseFact: '',\r\n      cpFact: '',\r\n      villeFact: '',\r\n      adresseChantier: '',\r\n      complAdresseChantier: '',\r\n      cpChantier: '',\r\n      villeChantier: '',\r\n    });\r\n  }\r\n\r\n  /**\r\n   * enable form\r\n   *\r\n   * @memberof ClientComponent\r\n   */\r\n  enableForm() {\r\n    this.clientForm.enable();\r\n  }\r\n\r\n  /**\r\n   * disable form\r\n   *\r\n   * @memberof ClientComponent\r\n   */\r\n  disableForm() {\r\n    this.clientForm.disable();\r\n  }\r\n\r\n  // Input Validation\r\n  /**\r\n   * nom et prenom validation using RegExp\r\n   *\r\n   * @param {any} controls\r\n   * @returns\r\n   * @memberof ClientComponent\r\n   */\r\n  nomPrenomValidation(controls) {\r\n    const regExp = new RegExp(/[a-zA-z-_éè]+$/);\r\n    if (regExp.test(controls.value)) {\r\n      return null;\r\n    }\r\n    return {\r\n      nomPrenomValidation: true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * email validation using RegExp\r\n   *\r\n   * @param {any} controls\r\n   * @returns\r\n   * @memberof ClientComponent\r\n   */\r\n  emailValidation(controls) {\r\n    const regExp = new RegExp(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\r\n    if (regExp.test(controls.value)) {\r\n      return null;\r\n    }\r\n    return {\r\n      emailValidation: true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * num tel validation using RegExp\r\n   *\r\n   * @param {any} controls\r\n   * @returns\r\n   * @memberof ClientComponent\r\n   */\r\n  numTelValidation(controls) {\r\n    const regExp = new RegExp(/[0-9-_.]+$/);\r\n    if (regExp.test(controls.value)) {\r\n      return null;\r\n    }\r\n    return {\r\n      numTelValidation: true\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Fetch All Clients from database\r\n   *\r\n   * @memberof ClientComponent\r\n   */\r\n  ngOnInit() {\r\n    this.getAllClients();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/client/client.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"rowColor {\\r\\n  color: coral\\r\\n};\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/dashboard/dashboard.component.css\n// module id = ../../../../../src/app/components/dashboard/dashboard.component.css\n// module chunks = 1","module.exports = \"<button class=\\\"btn btn-primary\\\" (click)=\\\"annulerSelection()\\\">Voir tous les clients</button>\\r\\n<br>\\r\\n<div class=\\\"container-fluid col-sm-6 col-md-6\\\">\\r\\n  <h4 style=\\\"text-align: center;\\\">Client</h4>\\r\\n  <!-- Client table -->\\r\\n  <table class=\\\"table table-striped\\\">\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th>Statut</th>\\r\\n        <th>Nom</th>\\r\\n        <th>Prénom</th>\\r\\n        <th>Email</th>\\r\\n        <th>Tél</th>\\r\\n        <th>Sélection</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <tr *ngFor=\\\"let client of listClient\\\" [ngClass]=\\\"{'rowColor' : activeClient}\\\">\\r\\n        <td *ngIf=\\\"client.status_client\\\"><img src=\\\"{{status_true}}\\\" alt=\\\"true\\\"></td>\\r\\n        <td *ngIf=\\\"!client.status_client\\\"><img src=\\\"{{status_false}}\\\" alt=\\\"false\\\"></td>\\r\\n        <td>{{client.nom}}</td>\\r\\n        <td>{{client.prenom}}</td>\\r\\n        <td>{{client.email}}</td>\\r\\n        <td>{{client.numTel}}</td>\\r\\n        <td>\\r\\n          <div class=\\\"btn-group-vertical\\\">\\r\\n            <a class=\\\"btn btn-success\\\" (click)=\\\"onSelect(client)\\\">Selectionnez</a>\\r\\n          </div>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table>\\r\\n\\r\\n  <br>\\r\\n\\r\\n  <!-- Facture global table -->\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <h4 style=\\\"text-align: center;\\\">Factures</h4>\\r\\n    <table class=\\\"table table-striped\\\">\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th>Statut</th>\\r\\n          <th>Ref</th>\\r\\n          <th>Date</th>\\r\\n          <th>Montant total TTC</th>\\r\\n          <th>Montant facturé TTC</th>\\r\\n          <th>Montant réglé</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <tr *ngFor=\\\"let fg of listFactureGlobal\\\">\\r\\n          <td *ngIf=\\\"fg.status_factureGlobal\\\"><img src=\\\"{{status_true}}\\\" alt=\\\"true\\\"></td>\\r\\n          <td *ngIf=\\\"!fg.status_factureGlobal\\\"><img src=\\\"{{status_false}}\\\" alt=\\\"false\\\"></td>\\r\\n          <td>{{fg.ref_factureGlobal}}</td>\\r\\n          <td>{{fg.date_creation | date: 'dd/MM/yyyy'}}</td>\\r\\n          <td>{{fg.montantTtcTotal}}</td>\\r\\n          <td>{{fg.montantTtcFacture}}</td>\\r\\n          <td>{{fg.montantTtcRegle}}</td>\\r\\n        </tr>\\r\\n      </tbody>\\r\\n    </table>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<!-- Devis table -->\\r\\n<div class=\\\"container-fluid col-sm-6 col-md-6\\\">\\r\\n  <h4 style=\\\"text-align: center;\\\">Devis</h4>\\r\\n  <table class=\\\"table table-striped\\\">\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th>Ref</th>\\r\\n        <th>Date</th>\\r\\n        <th>Montant HT</th>\\r\\n        <th>Taux TVA €</th>\\r\\n        <th>Montant TTC</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <tr *ngFor=\\\"let d of listDevis\\\">\\r\\n        <td>{{d.ref_devis}}</td>\\r\\n        <td>{{d.date_creation | date: 'dd/MM/yyyy'}}</td>\\r\\n        <td>{{d.montantHt}}</td>\\r\\n        <td>{{d.tauxTva}}</td>\\r\\n        <td>{{d.montantTtc}}</td>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table>\\r\\n\\r\\n  <br>\\r\\n  <br><br>\\r\\n\\r\\n  <!-- Facture accompte table -->\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <h4 style=\\\"text-align: center;\\\">Factures d'accompte</h4>\\r\\n    <table class=\\\"table table-striped\\\">\\r\\n      <thead>\\r\\n        <tr>\\r\\n          <th>Statut</th>\\r\\n          <th>Ref</th>\\r\\n          <th>Date</th>\\r\\n          <th>Montant facturé TTC</th>\\r\\n          <th>Règlement client TTC</th>\\r\\n        </tr>\\r\\n      </thead>\\r\\n      <tbody>\\r\\n        <tr *ngFor=\\\"let f of listFactureAccompte\\\">\\r\\n          <td *ngIf=\\\"f.status_factureAccompte\\\"><img src=\\\"{{status_true}}\\\" alt=\\\"true\\\"></td>\\r\\n          <td *ngIf=\\\"!f.status_factureAccompte\\\"><img src=\\\"{{status_false}}\\\" alt=\\\"false\\\"></td>\\r\\n          <td>{{f.ref_factureAccompte}}</td>\\r\\n          <td>{{f.date_creation | date: 'dd/MM/yyyy'}}</td>\\r\\n          <td>{{f.montantFacture}}</td>\\r\\n          <td>{{f.reglementClient}}</td>\\r\\n        </tr>\\r\\n      </tbody>\\r\\n    </table>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/dashboard/dashboard.component.html\n// module id = ../../../../../src/app/components/dashboard/dashboard.component.html\n// module chunks = 1","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { Client } from '../../models/client';\r\nimport { Devis } from '../../models/devis';\r\nimport { FactureAccompte } from '../../models/factureAccompte';\r\nimport { FactureGlobal } from '../../models/factureGlobal';\r\nimport { ClientService } from '../../service/client.service';\r\nimport { DevisService } from '../../service/devis.service';\r\nimport { FactureAccompteService } from '../../service/facture-accompte.service';\r\nimport { FactureGlobalService } from '../../service/facture-global.service';\r\n\r\n// Models\r\n// Services\r\n/**\r\n *\r\n * @author Paul GUINARD\r\n * @export DashboardComponent\r\n * @class DashboardComponent\r\n * @implements {OnInit}\r\n */\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: [ './dashboard.component.css' ]\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n  listClient: Client[] = [];\r\n  listDevis: Devis[] = [];\r\n  listFactureGlobal: FactureGlobal[] = [];\r\n  listFactureAccompte: FactureAccompte[] = [];\r\n  selectedClient: Client;\r\n  activeClient: boolean;\r\n  // Status images\r\n\r\n  /**\r\n   * image status true\r\n   * \r\n   * @memberof ClientComponent\r\n   */\r\n  status_true = '../../assets/images/status_true.png';\r\n\r\n  /**\r\n   * image status false\r\n   * \r\n   * @memberof ClientComponent\r\n   */\r\n  status_false = '../../assets/images/status_false.png';\r\n\r\n\r\n  /**\r\n   * Creates an instance of DashboardComponent.\r\n   * @param {ClientService} clientService client service\r\n   * @param {DevisService} devisService devis service\r\n   * @param {FactureGlobalService} factureGlobalService facture global service \r\n   * @param {FactureAccompteService} factureAccompteService facture accompte service\r\n   * @memberof DashboardComponent\r\n   */\r\n  constructor(\r\n    private clientService: ClientService,\r\n    private devisService: DevisService,\r\n    private factureGlobalService: FactureGlobalService,\r\n    private factureAccompteService: FactureAccompteService\r\n  ) { }\r\n\r\n  /**\r\n   * on Select client\r\n   * \r\n   * @param {Client} client \r\n   * @memberof DashboardComponent\r\n   */\r\n  onSelect(client: Client) {\r\n    this.activeClient = true;\r\n    this.selectedClient = client\r\n    this.getDevisByClient(client._id);\r\n    this.getAllFactureGlobalbyClient(client._id);\r\n  }\r\n\r\n  /**\r\n   * Cancel select client\r\n   * \r\n   * @memberof DashboardComponent\r\n   */\r\n  annulerSelection() {\r\n    this.selectedClient = new Client();\r\n    this.getAllDevis();\r\n  }\r\n\r\n  /**\r\n   * Get All Client\r\n   * \r\n   * @memberof DashboardComponent\r\n   */\r\n  getAllClients() {\r\n    this.clientService.getAllClients()\r\n      .subscribe(\r\n      data => this.listClient = data,\r\n      err => console.log('Erreur :' + err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Get All Devis\r\n   * \r\n   * @memberof DashboardComponent\r\n   */\r\n  getAllDevis() {\r\n    this.devisService.getAllDevis()\r\n      .subscribe(\r\n      data => this.listDevis = data,\r\n      err => console.log('Erreur :' + err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Get All Devis by Client\r\n   * \r\n   * @param {number} id client._id\r\n   * @memberof DashboardComponent\r\n   */\r\n  getDevisByClient(id: number) {\r\n    this.devisService.getAllDevisByClient(id)\r\n      .subscribe(\r\n      data => this.listDevis = data,\r\n      err => console.log('Erreur :' + err)\r\n      );\r\n  }\r\n\r\n  getAllFactureGlobal() {\r\n    this.factureGlobalService.getAllFactureGlobal()\r\n      .subscribe(\r\n      data => this.listFactureGlobal = data,\r\n      err => console.log('Erreur :' + err)\r\n      );\r\n  }\r\n\r\n  getAllFactureGlobalbyClient(id: number) {\r\n    this.factureGlobalService.getAllFactureGlobalByClient(id)\r\n      .subscribe(\r\n      data => {\r\n        this.listFactureGlobal = data;\r\n        if (this.listFactureGlobal.length > 0) {\r\n          this.getAllFactureAccomptebyFactureGlobal(data[ 0 ]._id);\r\n        } else {\r\n          this.listFactureAccompte = [];\r\n        }\r\n      },\r\n      err => console.log('Erreur :' + err)\r\n      );\r\n  }\r\n\r\n  getAllFactureAccompte() {\r\n    this.factureAccompteService.getAllFactureAccompte()\r\n      .subscribe(\r\n      data => this.listFactureAccompte = data,\r\n      err => console.log('Erreur :' + err)\r\n      )\r\n  }\r\n\r\n  getAllFactureAccomptebyFactureGlobal(id: number) {\r\n    this.factureAccompteService.getAllFactureAccompteByFactureGlobal(id)\r\n      .subscribe(\r\n      data => this.listFactureAccompte = data,\r\n      err => console.log('Erreur :' + err)\r\n      )\r\n  }\r\n\r\n  /**\r\n   * onInit:\r\n   * - Get All Devis\r\n   * \r\n   * @memberof DashboardComponent\r\n   */\r\n  ngOnInit() {\r\n    this.getAllClients();\r\n    this.getAllDevis();\r\n    this.getAllFactureGlobal();\r\n    this.getAllFactureAccompte();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/dashboard/dashboard.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/devis/devis.component.css\n// module id = ../../../../../src/app/components/devis/devis.component.css\n// module chunks = 1","module.exports = \"<div class=\\\"container-fluid\\\">\\r\\n  <h4>{{client.nom}} {{client.prenom}}</h4>\\r\\n  <a class=\\\"btn btn-default\\\" [routerLink]=\\\"['/client']\\\">Retour page client</a>\\r\\n</div>\\r\\n<div class=\\\"container-fluid col-sm-6 col-md-6\\\">\\r\\n  <h4 style=\\\"text-align: center;\\\">Devis</h4>\\r\\n  <table class=\\\"table table-striped\\\">\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th>Ref</th>\\r\\n        <th>Date</th>\\r\\n        <th>Montant HT</th>\\r\\n        <th>Taux TVA €</th>\\r\\n        <th>Montant TTC</th>\\r\\n        <th>Client</th>\\r\\n        <th>Actions</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <tr *ngFor=\\\"let d of listDevis\\\">\\r\\n        <td>{{d.ref_devis}}</td>\\r\\n        <td>{{d.date_creation | date: 'dd/MM/yyyy'}}</td>\\r\\n        <td>{{d.montantHt}}</td>\\r\\n        <td>{{d.tauxTva}}</td>\\r\\n        <td>{{d.montantTtc}}</td>\\r\\n        <td>{{client.nom}} {{client.prenom}}</td>\\r\\n        <td>\\r\\n          <div class=\\\"btn-group-vertical\\\">\\r\\n            <a class=\\\"btn btn-success\\\" [routerLink]=\\\"['/devis/client/valider-devis', d._id]\\\">Valider</a>\\r\\n            <button class=\\\"btn btn-warning\\\" (click)=\\\"onUpdate(d)\\\">Modifier</button>\\r\\n            <button class=\\\"btn btn-danger\\\" data-toggle=\\\"modal\\\" data-target=\\\"#myModal\\\" (click)=\\\"getDevisToDelete(d)\\\">Supprimer</button>\\r\\n          </div>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr class=\\\"color-sum\\\" *ngIf=\\\"listDevis.length > 0\\\">\\r\\n        <th>Total</th>\\r\\n        <th>:</th>\\r\\n        <th>{{getSumMontantHt()}}</th>\\r\\n        <th>{{getSumTauxTva()}}</th>\\r\\n        <th>{{getSumMontantTtc()}}</th>\\r\\n        <th></th>\\r\\n        <th></th>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table>\\r\\n  <button class=\\\"btn btn-primary\\\" (click)=\\\"onAdd()\\\">Ajouter devis</button>\\r\\n\\r\\n  <br/><br/>\\r\\n\\r\\n  <!-- Confirm delete Modal -->\\r\\n  <div id=\\\"myModal\\\" class=\\\"modal fade\\\" role=\\\"dialog\\\">\\r\\n    <div class=\\\"modal-dialog\\\">\\r\\n      <!-- Modal content-->\\r\\n      <div class=\\\"modal-content\\\">\\r\\n        <div class=\\\"modal-header\\\">\\r\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n          <h4 class=\\\"modal-title\\\">Confirmer suppression</h4>\\r\\n        </div>\\r\\n        <div class=\\\"modal-body\\\">\\r\\n          <p>Etes-vous sûr de vouloir supprimer {{devis.ref_devis}} ?</p>\\r\\n        </div>\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n          <button class=\\\"btn btn-danger\\\" (click)=\\\"onDelete(devis)\\\" data-dismiss=\\\"modal\\\">Supprimer</button>\\r\\n          <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" (click)=\\\"closeModal()\\\">Annuler</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- Add/Update Devis-DetailsDevis form -->\\r\\n  <div class=\\\"container-fluid\\\" *ngIf=\\\"mode\\\">\\r\\n    <div class=\\\"panel panel-info\\\">\\r\\n      <div class=\\\"panel-heading\\\">\\r\\n        <h4>Devis</h4>\\r\\n      </div>\\r\\n      <div class=\\\"panel-body\\\">\\r\\n        <form class=\\\"form-horizontal\\\" [formGroup]=\\\"devisForm\\\" (submit)=\\\"addDevis()\\\">\\r\\n          <div class=\\\"form-group\\\" [ngClass]=\\\"{'has-error': (devisForm.controls.ref_devis.errors && devisForm.controls.ref_devis.dirty) \\r\\n          || (validationRef && devisForm.controls.ref_devis.dirty),\\r\\n          'has-success': (!devisForm.controls.ref_devis.errors && !validationRef)}\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"ref_devis\\\">Ref :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"ref_devis\\\" id=\\\"ref_devis\\\" formControlName=\\\"ref_devis\\\" value=\\\"{{devis.ref_devis}}\\\"\\r\\n              (blur)=\\\"verifRef()\\\" autofocus required />\\r\\n            <ul class=\\\"list-group\\\">\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"devisForm.controls.ref_devis.errors?.required && devisForm.controls.ref_devis.dirty\\\">\\r\\n                Ce champ est requis\\r\\n              </li>\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"validationRef\\\">\\r\\n                Ref déjà utilisée\\r\\n              </li>\\r\\n            </ul>\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"date_creation\\\">Date création :</label>\\r\\n            <input type=\\\"date\\\" class=\\\"form-control\\\" name=\\\"date_creation\\\" id=\\\"date_creation\\\" formControlName=\\\"date_creation\\\" value=\\\"{{devis.date_creation}}\\\"\\r\\n            />\\r\\n          </div>\\r\\n          <!-- =========================================================== -->\\r\\n          <!-- Details Devis -->\\r\\n          <div class=\\\"form-inline\\\" [ngClass]=\\\"{'has-error': (devisForm.controls.montantHt1.errors && devisForm.controls.montantHt1.dirty),\\r\\n          'has-success': (!devisForm.controls.montantHt1.errors)}\\\">\\r\\n            <span><h4>Détails devis</h4></span><br/>\\r\\n            <label class=\\\"control-label\\\" for=\\\"montantHt1\\\">Montant HT :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"montantHt1\\\" id=\\\"montantHt1\\\" formControlName=\\\"montantHt1\\\" value=\\\"{{detailsDevis1.montantHt}}\\\"\\r\\n              (blur)=\\\"calculMontant1()\\\" (blur)=\\\"calculMontantHt()\\\" (blur)=\\\"calculTauxTva()\\\" (blur)=\\\"calculMontantTtc()\\\" size=\\\"8\\\"\\r\\n              required />\\r\\n            <label class=\\\"control-label\\\" for=\\\"tauxTva1\\\">Taux TVA (%) :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"tauxTva1\\\" id=\\\"tauxTva1\\\" formControlName=\\\"tauxTva1\\\" value=\\\"{{detailsDevis1.tauxTva}}\\\"\\r\\n              size=\\\"8\\\" required />\\r\\n            <label class=\\\"control-label\\\" for=\\\"montantTtc1\\\">Montant TTC :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"montantTtc1\\\" id=\\\"montantTtc1\\\" formControlName=\\\"montantTtc1\\\" value=\\\"{{detailsDevis1.montantTtc}}\\\"\\r\\n              size=\\\"8\\\" />\\r\\n            <ul class=\\\"list-group\\\">\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"devisForm.controls.montantHt1.errors?.required && devisForm.controls.montantHt1.dirty\\\">\\r\\n                Ce champ est requis\\r\\n              </li>\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"devisForm.controls.montantHt1.errors?.isNumber && devisForm.controls.montantHt1.dirty && !devisForm.controls.montantHt1.errors?.required\\\">\\r\\n                Le montant doit être positif et doit posséder au maximum 4 chiffres après la virgule\\r\\n              </li>\\r\\n            </ul>\\r\\n          </div>\\r\\n          <br/>\\r\\n          <div class=\\\"form-inline\\\" [ngClass]=\\\"{'has-error': (devisForm.controls.montantHt2.errors && devisForm.controls.montantHt2.dirty),\\r\\n          'has-success': (!devisForm.controls.montantHt2.errors)}\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"montantHt2\\\">Montant HT :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"montantHt2\\\" id=\\\"montantHt2\\\" formControlName=\\\"montantHt2\\\" value=\\\"{{detailsDevis2.montantHt}}\\\"\\r\\n              (blur)=\\\"calculMontant2()\\\" (blur)=\\\"calculMontantHt()\\\" (blur)=\\\"calculTauxTva()\\\" (blur)=\\\"calculMontantTtc()\\\" size=\\\"8\\\"\\r\\n              required />\\r\\n            <label class=\\\"control-label\\\" for=\\\"tauxTva2\\\">Taux TVA (%) :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"tauxTva2\\\" id=\\\"tauxTva2\\\" formControlName=\\\"tauxTva2\\\" value=\\\"{{detailsDevis2.tauxTva}}\\\"\\r\\n              size=\\\"8\\\" required />\\r\\n            <label class=\\\"control-label\\\" for=\\\"montantTtc2\\\">Montant TTC :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"montantTtc2\\\" id=\\\"montantTtc2\\\" formControlName=\\\"montantTtc2\\\" value=\\\"{{detailsDevis2.montantTtc}}\\\"\\r\\n              size=\\\"8\\\" />\\r\\n            <ul class=\\\"list-group\\\">\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"devisForm.controls.montantHt2.errors?.required && devisForm.controls.montantHt2.dirty\\\">\\r\\n                Ce champ est requis\\r\\n              </li>\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"devisForm.controls.montantHt2.errors?.isNumber && devisForm.controls.montantHt2.dirty && !devisForm.controls.montantHt2.errors?.required\\\">\\r\\n                Ce n'est pas un nombre\\r\\n              </li>\\r\\n            </ul>\\r\\n          </div>\\r\\n          <br/>\\r\\n          <div class=\\\"form-inline\\\" [ngClass]=\\\"{'has-error': (devisForm.controls.montantHt3.errors && devisForm.controls.montantHt3.dirty),\\r\\n          'has-success': (!devisForm.controls.montantHt3.errors)}\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"montantHt3\\\">Montant HT :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"montantHt3\\\" id=\\\"montantHt3\\\" formControlName=\\\"montantHt3\\\" value=\\\"{{detailsDevis3.montantHt}}\\\"\\r\\n              (blur)=\\\"calculMontant3()\\\" (blur)=\\\"calculMontantHt()\\\" (blur)=\\\"calculTauxTva()\\\" (blur)=\\\"calculMontantTtc()\\\" size=\\\"8\\\"\\r\\n              required />\\r\\n            <label class=\\\"control-label\\\" for=\\\"tauxTva3\\\">Taux TVA (%) :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"tauxTva3\\\" id=\\\"tauxTva3\\\" formControlName=\\\"tauxTva3\\\" value=\\\"{{detailsDevis3.tauxTva}}\\\"\\r\\n              size=\\\"8\\\" required />\\r\\n            <label class=\\\"control-label\\\" for=\\\"montantTtc3\\\">Montant TTC :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"montantTtc3\\\" id=\\\"montantTtc3\\\" formControlName=\\\"montantTtc3\\\" value=\\\"{{detailsDevis3.montantTtc}}\\\"\\r\\n              size=\\\"8\\\" />\\r\\n            <ul class=\\\"list-group\\\">\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"devisForm.controls.montantHt3.errors?.required && devisForm.controls.montantHt3.dirty\\\">\\r\\n                Ce champ est requis\\r\\n              </li>\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"devisForm.controls.montantHt3.errors?.isNumber && devisForm.controls.montantHt3.dirty && !devisForm.controls.montantHt3.errors?.required\\\">\\r\\n                Ce n'est pas un nombre\\r\\n              </li>\\r\\n            </ul>\\r\\n          </div>\\r\\n          <!-- =========================================================== -->\\r\\n          <!-- Devis input set by blur fonction -->\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"montantHt\\\">Montant HT :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"montantHt\\\" id=\\\"montantHt\\\" formControlName=\\\"montantHt\\\" value=\\\"{{devis.montantHt}}\\\"\\r\\n              required />\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"tauxTva\\\">Taux TVA (€) :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"tauxTva\\\" id=\\\"tauxTva\\\" formControlName=\\\"tauxTva\\\" value=\\\"{{devis.tauxTva}}\\\" (blur)=\\\"calculMontant()\\\"\\r\\n              required />\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"montantTtc\\\">Montant TTC :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"montantTtc\\\" id=\\\"montantTtc\\\" formControlName=\\\"montantTtc\\\" value=\\\"{{devis.montantTtc}}\\\"\\r\\n            />\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"client\\\">Client :</label>\\r\\n            <input type=\\\"text\\\" name=\\\"client\\\" id=\\\"client\\\" formControlName=\\\"client\\\" value=\\\"{{client.nom}} {{client.prenom}}\\\" />\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <md-spinner *ngIf=\\\"processing\\\" style=\\\"float: left;width: 24px;height: 24px;\\\"></md-spinner>\\r\\n            <button [disabled]=\\\"!devisForm.valid || processing\\\" type=\\\"submit\\\" class=\\\"btn btn-success\\\">Sauver</button>\\r\\n            <button [disabled]=\\\"processing\\\" class=\\\"btn btn-default\\\" (click)=\\\"onCancel()\\\">Annuler</button>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"container-fluid col-sm-6 col-md-6\\\">\\r\\n  <!-- Facture global component -->\\r\\n  <app-facture-global></app-facture-global>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/devis/devis.component.html\n// module id = ../../../../../src/app/components/devis/devis.component.html\n// module chunks = 1","import { DatePipe } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FlashMessagesService } from 'ngx-flash-messages';\r\n\r\nimport { Client } from '../../models/client';\r\nimport { Devis } from '../../models/devis';\r\nimport { CONST_TAUX } from '../../models/taux.const';\r\nimport { DetailsDevis } from '../../models/detailsDevis';\r\nimport { ClientService } from '../../service/client.service';\r\nimport { DetailsDevisService } from '../../service/details-devis.service';\r\nimport { DevisService } from '../../service/devis.service';\r\nimport { FactureGlobalService } from '../../service/facture-global.service';\r\n\r\n// Models\r\n// Services\r\n/**\r\n *\r\n * @author Paul GUINARD\r\n * @export DevisComponent\r\n * @class DevisComponent\r\n * @implements {OnInit}\r\n */\r\n@Component({\r\n  selector: 'app-devis',\r\n  templateUrl: './devis.component.html',\r\n  styleUrls: [ './devis.component.css' ]\r\n})\r\nexport class DevisComponent implements OnInit {\r\n  /**\r\n   * list devis\r\n   * \r\n   * @type {Devis[]}\r\n   * @memberof DevisComponent\r\n   */\r\n  listDevis: Devis[] = [];\r\n\r\n  /**\r\n   * list clients\r\n   * \r\n   * @type {Client[]}\r\n   * @memberof DevisComponent\r\n   */\r\n  listClient: Client[];\r\n\r\n  /**\r\n   * devis\r\n   * \r\n   * @type {*}\r\n   * @memberof DevisComponent\r\n   */\r\n  devis: any = {};\r\n\r\n  /**\r\n   * DetailsDevis1\r\n   * \r\n   * @type {*}\r\n   * @memberof DevisComponent\r\n   */\r\n  detailsDevis1: any = { tauxTva: CONST_TAUX[ 1 ] };\r\n\r\n  /**\r\n   * DetailsDevis2\r\n   * \r\n   * @type {*}\r\n   * @memberof DevisComponent\r\n   */\r\n  detailsDevis2: any = { tauxTva: CONST_TAUX[ 2 ] };\r\n\r\n  /**\r\n   * DetailsDevis3\r\n   * \r\n   * @type {*}\r\n   * @memberof DevisComponent\r\n   */\r\n  detailsDevis3: any = { tauxTva: CONST_TAUX[ 3 ] };\r\n\r\n  /**\r\n   * client\r\n   * \r\n   * @memberof DevisComponent\r\n   */\r\n  client = new Client();\r\n\r\n  /**\r\n   * validation ref devis\r\n   * \r\n   * @type {boolean}\r\n   * @memberof DevisComponent\r\n   */\r\n  validationRef: boolean;\r\n\r\n  /**\r\n   * client id\r\n   * \r\n   * @type {number}\r\n   * @memberof DevisComponent\r\n   */\r\n  id_client: number;\r\n\r\n  /**\r\n   * mode form\r\n   * \r\n   * @memberof DevisComponent\r\n   */\r\n  mode = false;\r\n\r\n  /**\r\n   * on process\r\n   * \r\n   * @memberof DevisComponent\r\n   */\r\n  processing = false;\r\n\r\n  /**\r\n   * devis form\r\n   * \r\n   * @type {FormGroup}\r\n   * @memberof DevisComponent\r\n   */\r\n  devisForm: FormGroup;\r\n\r\n  /**\r\n   * Creates an instance of DevisComponent.\r\n   * @param {DevisService} devisService devis service\r\n   * @param {DatePipe} datepipe format date\r\n   * @param {ActivatedRoute} activatedRoute request route params\r\n   * @param {FormBuilder} formBuilder reactive forms builder\r\n   * @param {ClientService} clientService client service\r\n   * @param {FlashMessagesService} flashMessages angular flash messages\r\n   * @param {DetailsDevisService} detailsDevisService Details Devis service\r\n   * @param {FactureGlobalService} factureGlobalService Facture global service\r\n   * @param {Router} router router\r\n   * @memberof DevisComponent\r\n   */\r\n  constructor(\r\n    private devisService: DevisService,\r\n    private datepipe: DatePipe,\r\n    private activatedRoute: ActivatedRoute,\r\n    private formBuilder: FormBuilder,\r\n    private clientService: ClientService,\r\n    private flashMessages: FlashMessagesService,\r\n    private detailsDevisService: DetailsDevisService,\r\n    private factureGlobalService: FactureGlobalService,\r\n    private router: Router\r\n  ) {\r\n    this.generateForm()\r\n  }\r\n\r\n  /**\r\n   * Get ALL Client.\r\n\t * Method used for <select options>.\r\n\t * Used for Select Option on add/update Devis Form.\r\n   * NOT USED\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  getAllClient() {\r\n    this.clientService.getAllClients()\r\n      .subscribe(\r\n      clients => this.listClient = clients,\r\n      error => console.log('Erreur :' + error)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * GET ALL DEVIS.\r\n\t * Method used when params['id_client'] NOT set into url.\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  getAllDevis() {\r\n    this.devisService.getAllDevis()\r\n      .subscribe(\r\n      devis => this.listDevis = devis,\r\n      error => console.log('Erreur :' + error)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * GET ALL DEVIS BY CLIENT.\r\n\t * Method used when params['id_client'] set into url.\r\n   *\r\n   * @param {number} id client._id\r\n   * @memberof DevisComponent\r\n   */\r\n  getAllDevisByClient(id: number) {\r\n    this.devisService.getAllDevisByClient(id)\r\n      .subscribe(\r\n      devis => this.listDevis = devis,\r\n      error => console.log('Erreur :' + error)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * GET ALL VALID DEVIS BY CLIENT:\r\n   * - Method used when params['id_client'] set into url\r\n   * - return Devis valid\r\n   * \r\n   * @param {number} id client._id\r\n   * @memberof DevisComponent\r\n   */\r\n  getAllValidDevisByClient(id: number) {\r\n    this.listDevis = [];\r\n    this.devisService.getAllDevisByClient(id)\r\n      .subscribe(\r\n      devis => {\r\n        for (var dev in devis) {\r\n          if (devis.hasOwnProperty(dev)) {\r\n            if (devis[ dev ].valid) {\r\n              this.listDevis.push(devis[ dev ]);\r\n            }\r\n          }\r\n        }\r\n      },\r\n      error => console.log('Erreur :' + error)\r\n      );\r\n    console.log(this.listDevis);\r\n  }\r\n\r\n  /**\r\n   * GET ONE CLIENT by ID\r\n\t * Set current Client informations for view.\r\n   *\r\n   * @param {number} id client._id\r\n   * @memberof DevisComponent\r\n   */\r\n  getClient(id: number) {\r\n    this.clientService.getOneClient(id)\r\n      .subscribe(\r\n      client => this.client = client,\r\n      error => console.log('Erreur :' + error)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * GET ONE DEVIS by ID\r\n\t * Method not used.\r\n   *\r\n   * @param {number} id devis._id\r\n   * @memberof DevisComponent\r\n   */\r\n  getOneDevis(id: number) {\r\n    this.devisService.getOneDevis(id)\r\n      .subscribe(\r\n      devis => this.devis = devis,\r\n      error => console.log('Erreur :' + error)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * ADD/UPDATE DEVIS.\r\n\t * - Si this.devis._id exists : updateDevis().\r\n\t * - Si this.devis._id == null || 0 : addDevis().\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  addDevis() {\r\n    this.processing = true;\r\n    this.disableForm();\r\n    // Set Devis data to save\r\n    const newDevis = {\r\n      ref_devis: this.devisForm.get('ref_devis').value,\r\n      date_creation: this.devisForm.get('date_creation').value,\r\n      montantHt: this.devisForm.get('montantHt').value,\r\n      tauxTva: this.devisForm.get('tauxTva').value,\r\n      montantTtc: this.devisForm.get('montantTtc').value,\r\n      client: this.id_client,\r\n    };\r\n    // Check si Add ou Update\r\n    if (this.devis._id == null || this.devis._id === 0 || this.devis._id === '') {\r\n      this.devisService.addDevis(newDevis)\r\n        .subscribe(\r\n        data => {\r\n          if (data.success) {\r\n            console.log('Devis saved' + data);\r\n            this.flashMessages.show('Devis créé', {\r\n              classes: [ 'alert', 'alert-success' ],\r\n              timeout: 3000\r\n            });\r\n            this.addDetailsDevis(data.obj);\r\n          } else {\r\n            console.log(data.message);\r\n            this.flashMessages.show(data.message, {\r\n              classes: [ 'alert', 'alert-danger' ],\r\n              timeout: 3000\r\n            });\r\n            this.processing = false;\r\n            this.enableForm();\r\n          }\r\n        },\r\n        error => {\r\n          console.log('Erreur :' + error);\r\n        }\r\n        );\r\n    } else {\r\n      // Set Devis data to update\r\n      const udpateDevis = {\r\n        _id: this.devis._id,\r\n        ref_devis: this.devisForm.get('ref_devis').value,\r\n        date_creation: this.devisForm.get('date_creation').value,\r\n        montantHt: this.devisForm.get('montantHt').value,\r\n        tauxTva: this.devisForm.get('tauxTva').value,\r\n        montantTtc: this.devisForm.get('montantTtc').value,\r\n        client: this.id_client,\r\n      };\r\n      this.devisService.updateDevis(udpateDevis)\r\n        .subscribe(\r\n        data => {\r\n          console.log('Devis updated' + data);\r\n          this.flashMessages.show('Devis modifié', {\r\n            classes: [ 'alert', 'alert-success' ],\r\n            timeout: 3000\r\n          });\r\n          this.updateDetailsDevis(data.obj);\r\n        },\r\n        error => {\r\n          console.log('Erreur :' + error);\r\n          this.flashMessages.show('Erreur modification devis', {\r\n            classes: [ 'alert', 'alert-danger' ],\r\n            timeout: 3000\r\n          });\r\n          this.processing = false;\r\n          this.enableForm();\r\n        }\r\n        );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * onAddDevis() success :\r\n   * - set detailsDevis.devis = devis._id : get from data.obj\r\n   * - save all DetailsDevis to database\r\n   *\r\n   * @param {any} devis devis data\r\n   * @memberof DevisComponent\r\n   */\r\n  addDetailsDevis(devis) {\r\n    // Set DetailsDevis data from devisForm\r\n    this.detailsDevis1 = {\r\n      tauxTva: this.devisForm.get('tauxTva1').value,\r\n      montantHt: this.devisForm.get('montantHt1').value,\r\n      montantTtc: this.devisForm.get('montantTtc1').value,\r\n      devis: devis._id\r\n    };\r\n    this.detailsDevis2 = {\r\n      tauxTva: this.devisForm.get('tauxTva2').value,\r\n      montantHt: this.devisForm.get('montantHt2').value,\r\n      montantTtc: this.devisForm.get('montantTtc2').value,\r\n      devis: devis._id\r\n    };\r\n    this.detailsDevis3 = {\r\n      tauxTva: this.devisForm.get('tauxTva3').value,\r\n      montantHt: this.devisForm.get('montantHt3').value,\r\n      montantTtc: this.devisForm.get('montantTtc3').value,\r\n      devis: devis._id\r\n    };\r\n\r\n    /* for (var detailsDevis in this.listDetailsDevis) {\r\n      if (this.listDetailsDevis.hasOwnProperty(detailsDevis)) {\r\n        var element = this.listDetailsDevis[ detailsDevis ];\r\n        this.detailsDevisService.addDetailsDevis(this.listDetailsDevis[detailsDevis])\r\n        .subscribe(\r\n          data => {\r\n            console.log('Details Devis saved ' + this.detailsDevis1);\r\n            this.onSuccess();\r\n          }, (err) => {\r\n            console.log(err);\r\n            this.enableForm();\r\n          }\r\n        );\r\n      }\r\n    } */\r\n\r\n    // Save DetailsDevis\r\n    this.detailsDevisService.addDetailsDevis(this.detailsDevis1)\r\n      .subscribe(\r\n      data => {\r\n        console.log('Details Devis saved :' + this.detailsDevis1);\r\n        this.detailsDevis1 = { tauxTva: CONST_TAUX[ 1 ] };\r\n\r\n        this.detailsDevisService.addDetailsDevis(this.detailsDevis2)\r\n          .subscribe(\r\n          data => {\r\n            console.log('Details Devis saved :' + this.detailsDevis2);\r\n            this.detailsDevis2 = {};\r\n            this.detailsDevis2 = { tauxTva: CONST_TAUX[ 2 ] };\r\n\r\n            this.detailsDevisService.addDetailsDevis(this.detailsDevis3)\r\n              .subscribe(\r\n              data => {\r\n                console.log('Details Devis saved :' + this.detailsDevis3);\r\n                this.detailsDevis3 = {};\r\n                this.detailsDevis3 = { tauxTva: CONST_TAUX[ 3 ] };\r\n                this.onSuccess();\r\n              }, (err) => {\r\n                console.log(err);\r\n                this.enableForm();\r\n              }\r\n              );\r\n          }, (err) => {\r\n            console.log(err);\r\n            this.enableForm();\r\n          }\r\n          );\r\n      }, (err) => {\r\n        console.log(err);\r\n        this.enableForm();\r\n      }\r\n      );\r\n  }\r\n\r\n  /**\r\n   *\r\n   * update DetailsDevis\r\n   * @param {any} devis devis\r\n   * @memberof DevisComponent\r\n   */\r\n  updateDetailsDevis(devis) {\r\n    // Set DetailsDevis data from devisForm\r\n    this.detailsDevis1.montantHt = this.devisForm.get('montantHt1').value;\r\n    this.detailsDevis1.tauxTva = this.devisForm.get('tauxTva1').value;\r\n    this.detailsDevis1.montantTtc = this.devisForm.get('montantTtc1').value;\r\n\r\n    this.detailsDevis2.montantHt = this.devisForm.get('montantHt2').value;\r\n    this.detailsDevis2.tauxTva = this.devisForm.get('tauxTva2').value;\r\n    this.detailsDevis2.montantTtc = this.devisForm.get('montantTtc2').value;\r\n\r\n    this.detailsDevis3.montantHt = this.devisForm.get('montantHt3').value;\r\n    this.detailsDevis3.tauxTva = this.devisForm.get('tauxTva3').value;\r\n    this.detailsDevis3.montantTtc = this.devisForm.get('montantTtc3').value;\r\n\r\n    // Update DetailsDevis\r\n    this.detailsDevisService.updateDetailsDevis(this.detailsDevis1)\r\n      .subscribe(\r\n      data => {\r\n        console.log('Details Devis update :' + this.detailsDevis1);\r\n        this.detailsDevis1 = { tauxTva: CONST_TAUX[ 1 ] };\r\n\r\n        this.detailsDevisService.updateDetailsDevis(this.detailsDevis2)\r\n          .subscribe(\r\n          data => {\r\n            console.log('Details Devis update :' + this.detailsDevis2);\r\n            this.detailsDevis2 = {};\r\n            this.detailsDevis2 = { tauxTva: CONST_TAUX[ 2 ] };\r\n\r\n            this.detailsDevisService.updateDetailsDevis(this.detailsDevis3)\r\n              .subscribe(\r\n              data => {\r\n                console.log('Details Devis update :' + this.detailsDevis3);\r\n                this.detailsDevis3 = {};\r\n                this.detailsDevis3 = { tauxTva: CONST_TAUX[ 3 ] };\r\n                this.onSuccess();\r\n              }, (err) => {\r\n                console.log(err);\r\n                this.enableForm();\r\n              }\r\n              );\r\n          }, (err) => {\r\n            console.log(err);\r\n            this.enableForm();\r\n          }\r\n          );\r\n      }, (err) => {\r\n        console.log(err);\r\n        this.enableForm();\r\n      }\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Delete devis and DetailsDevis associé fetch from database by getDetailsDevisByDevis() method SI :\r\n   * - le client ne possède pas de facture global\r\n   *\r\n   * @param {Devis} devis devis data\r\n   * @memberof DevisComponent\r\n   */\r\n  onDelete(devis: Devis) {\r\n    this.factureGlobalService.getAllFactureGlobalByDevis(devis._id)\r\n      .subscribe(\r\n      data => {\r\n        console.log(data);\r\n        if (data.length === 0) {\r\n          // Delete Devis\r\n          this.devisService.deleteDevis(devis._id)\r\n            .subscribe(\r\n            msg => {\r\n              console.log('Devis deleted');\r\n              this.flashMessages.show('Devis supprimé', {\r\n                classes: [ 'alert', 'alert-warning' ],\r\n                timeout: 3000\r\n              });\r\n              this.onSuccess();\r\n              // Fetch DetailsDevis by Devis._id\r\n              this.detailsDevisService.getDetailsDevisByDevis(devis._id)\r\n                .subscribe(\r\n                data => {\r\n                  // Delete detailsDevis\r\n                  this.detailsDevisService.deleteDetailsDevis(data[ 0 ]._id)\r\n                    .subscribe(\r\n                    data => {\r\n                      console.log('detailsDevis1 deleted' + data);\r\n                    }, (err) => {\r\n                      console.log('Erreur deleted :' + err);\r\n                    }\r\n                    );\r\n                  this.detailsDevisService.deleteDetailsDevis(data[ 1 ]._id)\r\n                    .subscribe(\r\n                    data => {\r\n                      console.log('detailsDevis2 deleted' + data);\r\n                    }, (err) => {\r\n                      console.log('Erreur deleted :' + err);\r\n                    }\r\n                    );\r\n                  this.detailsDevisService.deleteDetailsDevis(data[ 2 ]._id)\r\n                    .subscribe(\r\n                    data => {\r\n                      console.log('detailsDevis3 deleted' + data);\r\n                    }, (err) => {\r\n                      console.log('Erreur deleted :' + err);\r\n                    }\r\n                    );\r\n                }\r\n                );\r\n            },\r\n            error => {\r\n              console.log(error),\r\n                this.flashMessages.show('Erreur : Devis non supprimé', {\r\n                  classes: [ 'alert', 'alert-danger' ],\r\n                  timeout: 3000\r\n                });\r\n            }\r\n            );\r\n        } else {\r\n          console.log('Impossible de supprimer'),\r\n            this.flashMessages.show('Suppression impossible ! Le devis est associé à des factures.', {\r\n              classes: [ 'alert', 'alert-danger' ],\r\n              timeout: 3000\r\n            });\r\n          this.onSuccess();\r\n        }\r\n      }, err => console.log('Erreur :' + err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * on close modal\r\n   * \r\n   * @memberof DevisComponent\r\n   */\r\n  closeModal() {\r\n    this.devis = {};\r\n  }\r\n\r\n  /**\r\n   * Function success for all request to service.\r\n\t * Reset table by fetching data from database.\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  onSuccess() {\r\n    this.mode = false;\r\n    this.generateForm();\r\n    this.devis = {};\r\n    this.processing = false;\r\n    this.devisForm.controls[ 'montantTtc1' ].setValue(0);\r\n    this.devisForm.controls[ 'montantTtc2' ].setValue(0);\r\n    this.devisForm.controls[ 'montantTtc3' ].setValue(0);\r\n    this.enableForm();\r\n    // Différente route à utiliser une fois le dashboard implémenté\r\n    if (this.activatedRoute.snapshot.params[ 'id_client' ] !== undefined) {\r\n      this.getAllDevisByClient(this.id_client);\r\n    } else {\r\n      this.getAllDevis();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Display devisForm\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  onAdd() {\r\n    this.mode = true;\r\n    this.generateForm();\r\n    this.devis = {};\r\n    this.detailsDevis1 = { tauxTva: CONST_TAUX[ 1 ] };\r\n    this.detailsDevis2 = { tauxTva: CONST_TAUX[ 2 ] };\r\n    this.detailsDevis3 = { tauxTva: CONST_TAUX[ 3 ] };\r\n    // Set controls['client'] touched for Validators.required\r\n    this.devisForm.controls[ 'client' ].markAsTouched;\r\n  }\r\n\r\n  /**\r\n   * Display devisForm and set devis values to update\r\n   *\r\n   * @param {any} d devis body\r\n   * @memberof DevisComponent\r\n   */\r\n  onUpdate(d) {\r\n    this.getClient(d.client);\r\n    this.devis = d;\r\n    const latest_date = this.datepipe.transform(this.devis.date_creation, 'yyyy-MM-dd');\r\n    this.devis.date_creation = latest_date;\r\n    this.devis.client = this.client._id;\r\n    this.mode = true;\r\n    this.devisForm.get('ref_devis').setValue(this.devis.ref_devis);\r\n\r\n    this.detailsDevisService.getDetailsDevisByDevis(d._id)\r\n      .subscribe(\r\n      data => {\r\n        console.log(data);\r\n        // Fetch data from database\r\n        this.detailsDevis1 = data[ 0 ];\r\n        this.detailsDevis2 = data[ 1 ];\r\n        this.detailsDevis3 = data[ 2 ];\r\n\r\n        // Si detailsDevis undefined => set new DetailsDevis()\r\n        if (this.detailsDevis1 === undefined) {\r\n          this.detailsDevis1 = new DetailsDevis({\r\n            montantHt: 0,\r\n            tauxTva: CONST_TAUX[ 1 ],\r\n            montantTtc: 0\r\n          });\r\n        }\r\n        if (this.detailsDevis2 === undefined) {\r\n          this.detailsDevis2 = new DetailsDevis({\r\n            montantHt: 0,\r\n            tauxTva: CONST_TAUX[ 2 ],\r\n            montantTtc: 0\r\n          });\r\n        }\r\n        if (this.detailsDevis3 === undefined) {\r\n          this.detailsDevis3 = new DetailsDevis({\r\n            montantHt: 0,\r\n            tauxTva: CONST_TAUX[ 3 ],\r\n            montantTtc: 0\r\n          });\r\n        }\r\n        // Set devisForm value\r\n        this.devisForm.get('montantHt1').setValue(this.detailsDevis1.montantHt);\r\n        this.devisForm.get('montantHt2').setValue(this.detailsDevis2.montantHt);\r\n        this.devisForm.get('montantHt3').setValue(this.detailsDevis3.montantHt);\r\n        // force le calcul des (blur) montantTTC des Détails Devis\r\n        this.calculMontant1();\r\n        this.calculMontant2();\r\n        this.calculMontant3();\r\n      }, (err) => {\r\n        console.log('Erreur :' + err);\r\n      }\r\n      );\r\n  }\r\n\r\n  /**\r\n   * onCancel form\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  onCancel() {\r\n    this.mode = false;\r\n    this.generateForm();\r\n    this.devis = {};\r\n    this.detailsDevis1 = { tauxTva: CONST_TAUX[ 1 ] };\r\n    this.detailsDevis2 = { tauxTva: CONST_TAUX[ 2 ] };\r\n    this.detailsDevis3 = { tauxTva: CONST_TAUX[ 3 ] };\r\n  }\r\n\r\n  /**\r\n   * Set devis to delete on confirm\r\n   * \r\n   * @param {Devis} devis devis body\r\n   * @memberof DevisComponent\r\n   */\r\n  getDevisToDelete(devis: Devis) {\r\n    this.devis = devis;\r\n  }\r\n\r\n  /**\r\n   * Generate Reactive Form\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  generateForm() {\r\n    this.devisForm = this.formBuilder.group({\r\n      ref_devis: [ this.devis.ref_devis, Validators.compose([\r\n        Validators.required\r\n      ]) ],\r\n      date_creation: [ Date.now ],\r\n      // DetailsDevis data\r\n      montantHt1: [ this.detailsDevis1.montantHt, Validators.compose([\r\n        Validators.required,\r\n        this.isNumber\r\n      ]) ],\r\n      tauxTva1: [ { value: this.detailsDevis1.tauxTva, disabled: true }, Validators.required ],\r\n      montantTtc1: [ { value: this.detailsDevis1.montantTtc, disabled: true }, Validators.required ],\r\n      montantHt2: [ this.detailsDevis2.montantHt, Validators.compose([\r\n        Validators.required,\r\n        this.isNumber\r\n      ]) ],\r\n      tauxTva2: [ { value: this.detailsDevis2.tauxTva, disabled: true }, Validators.required ],\r\n      montantTtc2: [ { value: this.detailsDevis2.montantTtc, disabled: true }, Validators.required ],\r\n      montantHt3: [ this.detailsDevis3.montantHt, Validators.compose([\r\n        Validators.required,\r\n        this.isNumber\r\n      ]) ],\r\n      tauxTva3: [ { value: this.detailsDevis3.tauxTva, disabled: true }, Validators.required ],\r\n      montantTtc3: [ { value: this.detailsDevis3.montantTtc, disabled: true }, Validators.required ],\r\n      // Devis data\r\n      montantHt: [ { value: this.devis.montantHt, disabled: true }],\r\n      tauxTva: [ { value: this.devis.tauxTva, disabled: true }],\r\n      montantTtc: [ { value: this.devis.montantTtc, disabled: true }],\r\n      client: [ { value: this.id_client, disabled: true }, Validators.compose([\r\n        Validators.required\r\n      ]) ],\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Enable form controls\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  enableForm() {\r\n    this.devisForm.controls[ 'ref_devis' ].enable();\r\n    this.devisForm.controls[ 'date_creation' ].enable();\r\n    this.devisForm.controls[ 'montantHt1' ].enable();\r\n    this.devisForm.controls[ 'montantHt2' ].enable();\r\n    this.devisForm.controls[ 'montantHt3' ].enable();\r\n  }\r\n\r\n  /**\r\n   * Disable form controls\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  disableForm() {\r\n    this.devisForm.disable();\r\n  }\r\n\r\n\r\n  /* (blur) CALCUL MONTANT TTC DetailsDevis & Devis data */\r\n  /**\r\n   * Calcul montantTtc1 using tauxTva1 and montantHt1 values of validerDevisForm and send new montantTtc1\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  calculMontant1() {\r\n    if (!(this.devisForm.controls[ 'montantHt1' ].value === '') && !(this.devisForm.controls[ 'tauxTva1' ].value === '')) {\r\n      const montantTTC = Number(this.devisForm.get('montantHt1').value) * (1 + Number(this.devisForm.get('tauxTva1').value) / 100);\r\n      this.devisForm.get('montantTtc1').setValue((montantTTC).toFixed(2));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calcul montantTtc2 using tauxTva2 and montantHt2 values of validerDevisForm and send new montantTtc2\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  calculMontant2() {\r\n    if (!(this.devisForm.controls[ 'montantHt2' ].value === '') && !(this.devisForm.controls[ 'tauxTva2' ].value === '')) {\r\n      const montantTTC = Number(this.devisForm.get('montantHt2').value) * (1 + Number(this.devisForm.get('tauxTva2').value) / 100);\r\n      this.devisForm.get('montantTtc2').setValue((montantTTC).toFixed(2));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calcul montantTtc3 using tauxTva3 and montantHt3 values of validerDevisForm and send new montantTtc3\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  calculMontant3() {\r\n    if (!(this.devisForm.controls[ 'montantHt3' ].value === '') && !(this.devisForm.controls[ 'tauxTva3' ].value === '')) {\r\n      const montantTTC = Number(this.devisForm.get('montantHt3').value) * (1 + Number(this.devisForm.get('tauxTva3').value) / 100);\r\n      this.devisForm.get('montantTtc3').setValue((montantTTC).toFixed(2));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calcul tauxTva using tauxTva1, tauxTva2 and tauxTva3 values of validerDevisForm and send new tauxTva\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  calculTauxTva() {\r\n    const tauxTva = this.devisForm.get('montantHt1').value * this.devisForm.get('tauxTva1').value / 100\r\n      + this.devisForm.get('montantHt2').value * this.devisForm.get('tauxTva2').value / 100\r\n      + this.devisForm.get('montantHt3').value * this.devisForm.get('tauxTva3').value / 100;\r\n    this.devisForm.get('tauxTva').setValue(Number(tauxTva).toFixed(2));\r\n  }\r\n\r\n  /**\r\n   * Calcul MontantHt using MontantHt1, MontantHt2 and MontantHt3 values of validerDevisForm and send new MontantHt\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  calculMontantHt() {\r\n    if (!(this.devisForm.get('montantHt1').value === '') && !(this.devisForm.get('montantHt2').value === '')\r\n      && !(this.devisForm.get('montantHt3').value === '')) {\r\n      const montantHT = Number(this.devisForm.get('montantHt1').value) + Number(this.devisForm.get('montantHt2').value)\r\n        + Number(this.devisForm.get('montantHt3').value);\r\n      this.devisForm.get('montantHt').setValue(Number(montantHT).toFixed(2));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calcul MontantTtc using MontantTtc1, MontantTtc2 and MontantTtc3 values of validerDevisForm and send new MontantTtc\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  calculMontantTtc() {\r\n    const montantTtc = Number(this.devisForm.get('montantTtc1').value)\r\n      + Number(this.devisForm.get('montantTtc2').value)\r\n      + Number(this.devisForm.get('montantTtc3').value);\r\n    this.devisForm.get('montantTtc').setValue(Number(montantTtc).toFixed(2));\r\n  }\r\n\r\n  /**\r\n   * somme montant HT\r\n   * \r\n   * @returns {string} somme\r\n   * @memberof DevisComponent\r\n   */\r\n  getSumMontantHt(): string {\r\n    let sum = 0;\r\n    for (var dev in this.listDevis) {\r\n      if (this.listDevis.hasOwnProperty(dev)) {\r\n        sum += this.listDevis[ dev ].montantHt;\r\n      }\r\n    }\r\n    return sum.toFixed(2);\r\n  }\r\n\r\n  /**\r\n   * somme taux TVA\r\n   * \r\n   * @returns {string} somme\r\n   * @memberof DevisComponent\r\n   */\r\n  getSumTauxTva(): string {\r\n    let sum = 0;\r\n    for (var dev in this.listDevis) {\r\n      if (this.listDevis.hasOwnProperty(dev)) {\r\n        sum += this.listDevis[ dev ].tauxTva;\r\n      }\r\n    }\r\n    return sum.toFixed(2);\r\n  }\r\n\r\n  /**\r\n   * somme montant TTC\r\n   * \r\n   * @returns {string} somme\r\n   * @memberof DevisComponent\r\n   */\r\n  getSumMontantTtc(): string {\r\n    let sum = 0;\r\n    for (var dev in this.listDevis) {\r\n      if (this.listDevis.hasOwnProperty(dev)) {\r\n        sum += this.listDevis[ dev ].montantTtc;\r\n      }\r\n    }\r\n    return sum.toFixed(2);\r\n  }\r\n\r\n  // VALIDATIONS\r\n  /**\r\n   * Validation for number\r\n   * \r\n   * @param {*} n string to check\r\n   * @returns \r\n   * @memberof DevisComponent\r\n   */\r\n  isNumber(controls) {\r\n    const regExp = new RegExp(/^[0-9]{0,20}(\\.[0-9]{0,4})?$/);\r\n    if (regExp.test(controls.value)) {\r\n      return null;\r\n    } else {\r\n      return {\r\n        isNumber: true\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * (blur) listener : Verification de la ref_devis.\r\n   * - si data.success === true && ref != devis.ref => ref_devis utilisée => validationRef = true,\r\n   * - si data.success === false => ref_devis non utilisée => validationRef = false\r\n   *\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  verifRef() {\r\n    this.devisService.getOneDevisByRef(this.client._id, this.devisForm.get('ref_devis').value)\r\n      .subscribe(\r\n      data => {\r\n        if (data.success) {\r\n          // onUpdate(devis) : Vérif si ref dans l'input !== ref initial du devis \r\n          if (this.devisForm.get('ref_devis').value != this.devis.ref_devis) {\r\n            return this.validationRef = true;\r\n          }\r\n        }\r\n      },\r\n      error => {\r\n        console.log(error)\r\n      }\r\n      );\r\n    return this.validationRef = false;\r\n  }\r\n\r\n  /* getAllValidDevis() {\r\n    this.devisService.getAllValidDevis()\r\n      .subscribe(data => this.listDevis = data);\r\n  } */\r\n  /**\r\n   * OnInit :\r\n\t * check if params['id_client'] set into url.\r\n\t * - set this.id_client = params['id_client'].\r\n\t * - get Client using this.id_client.\r\n   *\r\n   * @memberof DevisComponent\r\n   */\r\n  ngOnInit() {\r\n    // used for <select> client options\r\n    //this.getAllClient();\r\n    // différentes routes à utiliser quand le dashboard sera implémenté\r\n    if (this.activatedRoute.snapshot.params[ 'id_client' ] !== undefined) {\r\n      this.id_client = this.activatedRoute.snapshot.params[ 'id_client' ];\r\n      this.getAllDevisByClient(this.id_client);\r\n      this.getClient(this.id_client);\r\n    } else {\r\n      this.router.navigate([ '/pageNotFound' ]);\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/devis/devis.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/facture-accompte/facture-accompte.component.css\n// module id = ../../../../../src/app/components/facture-accompte/facture-accompte.component.css\n// module chunks = 1","module.exports = \"<div class=\\\"container-fluid\\\">\\r\\n  <h4>{{factureGlobal.ref_factureGlobal}} {{factureGlobal.montantTtc}}</h4>\\r\\n  <a class=\\\"btn btn-default\\\" [routerLink]=\\\"['/devis/client/', factureGlobal.client]\\\">Retour page Devis/Factures</a>\\r\\n</div>\\r\\n<div class=\\\"container-fluid\\\">\\r\\n  <h4 style=\\\"text-align: center;\\\">Factures d'accompte</h4>\\r\\n  <table class=\\\"table table-striped\\\">\\r\\n    <thead>\\r\\n      <tr>\\r\\n        <th>Statut</th>\\r\\n        <th>Ref</th>\\r\\n        <th>Date</th>\\r\\n        <th>Montant facturé TTC</th>\\r\\n        <th>Règlement client TTC</th>\\r\\n        <th>Facture</th>\\r\\n        <th>Actions</th>\\r\\n      </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n      <tr *ngFor=\\\"let f of listFactureAccompte\\\">\\r\\n        <td *ngIf=\\\"f.status_factureAccompte\\\"><img src=\\\"{{status_true}}\\\" alt=\\\"true\\\"></td>\\r\\n        <td *ngIf=\\\"!f.status_factureAccompte\\\"><img src=\\\"{{status_false}}\\\" alt=\\\"false\\\"></td>\\r\\n        <td>{{f.ref_factureAccompte}}</td>\\r\\n        <td>{{f.date_creation | date: 'dd/MM/yyyy'}}</td>\\r\\n        <td>{{f.montantFacture}}</td>\\r\\n        <td>{{f.reglementClient}}</td>\\r\\n        <td>{{factureGlobal.ref_factureGlobal}}</td>\\r\\n        <td>\\r\\n          <div class=\\\"btn-group-vertical\\\">\\r\\n            <button class=\\\"btn btn-success\\\" (click)=\\\"onAddReglement(f)\\\">Règlements</button>\\r\\n            <button class=\\\"btn btn-danger\\\" data-toggle=\\\"modal\\\" data-target=\\\"#myModal\\\" (click)=\\\"getFactureAccompteToDelete(f)\\\">Supprimer</button>\\r\\n          </div>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr class=\\\"color-sum\\\" *ngIf=\\\"listFactureAccompte.length > 0\\\">\\r\\n        <th>Total</th>\\r\\n        <th>:</th>\\r\\n        <th></th>\\r\\n        <th>{{getSumMontantFacture()}}</th>\\r\\n        <th>{{getSumReglementClient()}}</th>\\r\\n        <th></th>\\r\\n        <th></th>\\r\\n      </tr>\\r\\n    </tbody>\\r\\n  </table>\\r\\n  <button class=\\\"btn btn-primary\\\" (click)=\\\"onAddFactureAccompte()\\\">Ajouter facture d'accompte</button>\\r\\n  <br/><br/>\\r\\n\\r\\n  <!-- Confirm delete Modal -->\\r\\n  <div id=\\\"myModal\\\" class=\\\"modal fade\\\" role=\\\"dialog\\\">\\r\\n    <div class=\\\"modal-dialog\\\">\\r\\n      <!-- Modal content-->\\r\\n      <div class=\\\"modal-content\\\">\\r\\n        <div class=\\\"modal-header\\\">\\r\\n          <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n          <h4 class=\\\"modal-title\\\">Confirmer suppression</h4>\\r\\n        </div>\\r\\n        <div class=\\\"modal-body\\\">\\r\\n          <p>Etes-vous sûr de vouloir supprimer {{factureAccompte.ref_factureAccompte}} ?</p>\\r\\n        </div>\\r\\n        <div class=\\\"modal-footer\\\">\\r\\n          <button class=\\\"btn btn-danger\\\" (click)=\\\"deleteFactureAccompte(factureAccompte._id, factureAccompte.montantFacture, factureAccompte.reglementClient)\\\"\\r\\n            data-dismiss=\\\"modal\\\">Supprimer</button>\\r\\n          <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" (click)=\\\"closeModal()\\\">Annuler</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- addFactureAccompte Form -->\\r\\n  <div class=\\\"container\\\" *ngIf=\\\"mode\\\">\\r\\n    <div class=\\\"panel panel-info\\\">\\r\\n      <div class=\\\"panel-heading\\\">\\r\\n        <h4>Facture d'accompte</h4>\\r\\n      </div>\\r\\n      <div class=\\\"panel-body\\\">\\r\\n        <form class=\\\"form-horizontal\\\" [formGroup]=\\\"factureForm\\\">\\r\\n          <div class=\\\"form-group\\\" [ngClass]=\\\"{'has-error': (factureForm.controls.ref_factureAccompte.errors && factureForm.controls.ref_factureAccompte.dirty)\\r\\n          || (validationRef && factureForm.controls.ref_factureAccompte.dirty),\\r\\n          'has-success': (!factureForm.controls.ref_factureAccompte.errors && !validationRef)}\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"ref_factureAccompte\\\">Ref :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"ref_factureAccompte\\\" id=\\\"ref_factureAccompte\\\" formControlName=\\\"ref_factureAccompte\\\"\\r\\n              (blur)=\\\"verifRef()\\\" autofocus required />\\r\\n            <ul class=\\\"list-group\\\">\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"factureForm.controls.ref_factureAccompte.errors?.required && factureForm.controls.ref_factureAccompte.dirty\\\">\\r\\n                Ce champ est requis\\r\\n              </li>\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"validationRef && factureForm.controls.ref_factureAccompte.dirty\\\">\\r\\n                Ref déjà utilisée\\r\\n              </li>\\r\\n            </ul>\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"date_creation\\\">Date création :</label>\\r\\n            <input type=\\\"date\\\" class=\\\"form-control\\\" name=\\\"date_creation\\\" id=\\\"date_creation\\\" formControlName=\\\"date_creation\\\" value=\\\"{{factureGlobal.date_creation}}\\\"\\r\\n            />\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\" [ngClass]=\\\"{'has-error': (factureForm.controls.montantFacture.errors && factureForm.controls.montantFacture.dirty)\\r\\n           || (validationMontantFacture && factureForm.controls.montantFacture.dirty),\\r\\n          'has-success': (!factureForm.controls.montantFacture.errors && !validationMontantFacture)}\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"montantFacture\\\">Montant facturé :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"montantFacture\\\" id=\\\"montantFacture\\\" formControlName=\\\"montantFacture\\\" (blur)=\\\"verifMontantFacture()\\\"\\r\\n              required />\\r\\n            <ul class=\\\"list-group\\\">\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"factureForm.controls.montantFacture.errors?.required && factureForm.controls.montantFacture.dirty\\\">\\r\\n                Ce champ est requis\\r\\n              </li>\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"factureForm.controls.montantFacture.errors?.isNumber && factureForm.controls.montantFacture.dirty && !factureForm.controls.montantFacture.errors?.required\\\">\\r\\n                Le montant doit être positif et doit posséder au maximum 4 chiffres après la virgule\\r\\n              </li>\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"validationMontantFacture\\\">\\r\\n                Le montant est supérieur au montant facturé TTC de la facture\\r\\n              </li>\\r\\n            </ul>\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"factureGlobal\\\">factureGlobal :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"factureGlobal\\\" id=\\\"factureGlobal\\\" formControlName=\\\"factureGlobal\\\" value=\\\"{{factureGlobal.ref_factureGlobal}}\\\"\\r\\n              required />\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <md-spinner *ngIf=\\\"processing\\\" style=\\\"float: left;width: 24px;height: 24px;\\\"></md-spinner>\\r\\n            <button [disabled]=\\\"!factureForm.valid || processing || validationMontantFacture\\\" (click)=\\\"addFactureAccompte()\\\" class=\\\"btn btn-success\\\">Créer facture d'accompte</button>\\r\\n            <button [disabled]=\\\"processing\\\" (click)=\\\"onCancel()\\\" class=\\\"btn btn-default\\\">Annuler</button>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <!-- addReglement form -->\\r\\n  <div class=\\\"container\\\" *ngIf=\\\"modeAddReglement\\\">\\r\\n    <div class=\\\"panel panel-info col-sm-6\\\">\\r\\n      <div class=\\\"panel-heading\\\">\\r\\n        <h4>Ajouter règlement</h4>\\r\\n      </div>\\r\\n      <div class=\\\"panel-body\\\">\\r\\n        <form class=\\\"form-horizontal\\\" [formGroup]=\\\"reglementForm\\\">\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"ref_factureAccompte\\\">Ref Facture d'accompte :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"ref_factureAccompte\\\" id=\\\"ref_factureAccompte\\\" formControlName=\\\"ref_factureAccompte\\\"\\r\\n              value=\\\"{{factureAccompte.ref_factureAccompte}}\\\" required />\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"date_creation\\\">Date création :</label>\\r\\n            <input type=\\\"date\\\" class=\\\"form-control\\\" name=\\\"date_creation\\\" id=\\\"date_creation\\\" formControlName=\\\"date_creation\\\" value=\\\"{{factureAccompte.date_creation}}\\\"\\r\\n            />\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"montantFacture\\\">Montant facturé :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"montantFacture\\\" id=\\\"montantFacture\\\" formControlName=\\\"montantFacture\\\" value=\\\"{{factureAccompte.montantFacture}}\\\"\\r\\n            />\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\" [ngClass]=\\\"{'has-error': (reglementForm.controls.reglementTtc.errors && reglementForm.controls.reglementTtc.dirty)\\r\\n          || (validationReglement && reglementForm.controls.reglementTtc.dirty),\\r\\n         'has-success': (!reglementForm.controls.reglementTtc.errors && !validationReglement)}\\\">\\r\\n            <label class=\\\"control-label\\\" for=\\\"reglementTtc\\\">Règlement client :</label>\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"reglementTtc\\\" id=\\\"reglementTtc\\\" formControlName=\\\"reglementTtc\\\" (blur)=\\\"verifReglement()\\\"\\r\\n              autofocus required />\\r\\n            <ul class=\\\"list-group\\\">\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"reglementForm.controls.reglementTtc.errors?.required && reglementForm.controls.reglementTtc.dirty\\\">\\r\\n                Ce champ est requis\\r\\n              </li>\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"reglementForm.controls.reglementTtc.errors?.isNumber && reglementForm.controls.reglementTtc.dirty && !reglementForm.controls.reglementTtc.errors?.required\\\">\\r\\n                Ce n'est pas un nombre positif\\r\\n              </li>\\r\\n              <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"validationReglement\\\">\\r\\n                Le règlement est supérieur au montant facturé\\r\\n              </li>\\r\\n            </ul>\\r\\n          </div>\\r\\n          <div class=\\\"form-group\\\">\\r\\n            <md-spinner *ngIf=\\\"processing\\\" style=\\\"float: left;width: 24px;height: 24px;\\\"></md-spinner>\\r\\n            <button [disabled]=\\\"!reglementForm.valid || processing || validationReglement\\\" (click)=\\\"addReglement()\\\" class=\\\"btn btn-success\\\">Ajouter règlement</button>\\r\\n            <button [disabled]=\\\"processing\\\" (click)=\\\"onCancel()\\\" class=\\\"btn btn-default\\\">Annuler</button>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <!-- Reglement Table -->\\r\\n    <div class=\\\"col-sm-6\\\" *ngIf=\\\"listReglement.length > 0\\\">\\r\\n      <h4 style=\\\"text-align: center;\\\">Règlements</h4>\\r\\n      <table class=\\\"table table-striped\\\">\\r\\n        <thead>\\r\\n          <th>Date création</th>\\r\\n          <th>Règlement client</th>\\r\\n          <th>Actions</th>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n          <tr *ngFor=\\\"let r of listReglement\\\">\\r\\n            <td>{{r.date_reglement | date :'dd/MM/yyyy'}}</td>\\r\\n            <td>{{r.reglementTtc}}</td>\\r\\n            <td>\\r\\n              <md-spinner *ngIf=\\\"processing\\\" style=\\\"float: left;width: 24px;height: 24px;\\\"></md-spinner>\\r\\n              <button [disabled]=\\\"processing\\\" class=\\\"btn btn-danger\\\" (click)=\\\"deleteReglement(r._id, r.reglementTtc)\\\">Supprimer</button>\\r\\n            </td>\\r\\n          </tr>\\r\\n        </tbody>\\r\\n      </table>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/facture-accompte/facture-accompte.component.html\n// module id = ../../../../../src/app/components/facture-accompte/facture-accompte.component.html\n// module chunks = 1","import { DatePipe } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FlashMessagesService } from 'ngx-flash-messages';\r\n\r\nimport { Client } from '../../models/client';\r\nimport { FactureAccompte } from '../../models/factureAccompte';\r\nimport { FactureGlobal } from '../../models/factureGlobal';\r\nimport { Reglement } from '../../models/reglement';\r\nimport { ClientService } from '../../service/client.service';\r\nimport { FactureAccompteService } from '../../service/facture-accompte.service';\r\nimport { FactureGlobalService } from '../../service/facture-global.service';\r\nimport { ReglementService } from '../../service/reglement.service';\r\n\r\n// Models\r\n// Services\r\n/**\r\n * Component used for facture accompte and reglement\r\n * \r\n * @author Paul GUINARD\r\n * @export\r\n * @class FactureAccompteComponent\r\n * @implements {OnInit}\r\n */\r\n@Component({\r\n  selector: 'app-facture-accompte',\r\n  templateUrl: './facture-accompte.component.html',\r\n  styleUrls: [ './facture-accompte.component.css' ]\r\n})\r\nexport class FactureAccompteComponent implements OnInit {\r\n  /**\r\n   * list factures accomptes\r\n   * \r\n   * @type {FactureAccompte[]}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  listFactureAccompte: FactureAccompte[] = [];\r\n\r\n  /**\r\n   * list reglements\r\n   * \r\n   * @type {Reglement[]}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  listReglement: Reglement[] = [];\r\n\r\n  /**\r\n   * list factures global\r\n   * \r\n   * @type {FactureGlobal[]}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  listFactureGlobal: FactureGlobal[] = [];\r\n\r\n  /**\r\n   * facture global id\r\n   * \r\n   * @type {number}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  id_fact: number;\r\n\r\n  /**\r\n   * facture global\r\n   * \r\n   * @type {*}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  factureGlobal: any = {};\r\n\r\n  /**\r\n   * facture accompte\r\n   * \r\n   * @type {*}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  factureAccompte: any = {};\r\n\r\n  /**\r\n   * reglement\r\n   * \r\n   * @type {*}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  reglement: any = {};\r\n\r\n  /**\r\n   * client\r\n   * \r\n   * @type {Client}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  client: Client;\r\n\r\n  // Validation form\r\n  /**\r\n   * validation ref facture accompte\r\n   * \r\n   * @type {boolean}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  validationRef: boolean;\r\n\r\n  /**\r\n   * validation montant facture accompte\r\n   * \r\n   * @type {boolean}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  validationMontantFacture: boolean;\r\n\r\n  /**\r\n   * validation reglement facture accompte\r\n   * \r\n   * @type {boolean}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  validationReglement: boolean;\r\n\r\n  /**\r\n   * on process\r\n   * \r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  processing = false;\r\n\r\n  // Mode display form\r\n  /**\r\n   * mode form facture accompte\r\n   * \r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  mode = false;\r\n\r\n  /**\r\n   * mode form reglement\r\n   * \r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  modeAddReglement = false;\r\n\r\n  /**\r\n   * montant TTC total\r\n   * \r\n   * @type {number}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  montantTTCTotal: number;\r\n\r\n  /**\r\n   * montant TTC facturé\r\n   * \r\n   * @type {number}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  montantTTCFacture: number;\r\n\r\n  /**\r\n   * facture form\r\n   * \r\n   * @type {FormGroup}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  factureForm: FormGroup;\r\n\r\n  /**\r\n   * reglement form\r\n   * \r\n   * @type {FormGroup}\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  reglementForm: FormGroup;\r\n\r\n  // Status images\r\n  /**\r\n   * image status true\r\n   * \r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  status_true = '../../assets/images/status_true.png';\r\n\r\n  /**\r\n   * image status false\r\n   * \r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  status_false = '../../assets/images/status_false.png';\r\n\r\n  /**\r\n   * Creates an instance of FactureAccompteComponent.\r\n   * \r\n   * @param {ActivatedRoute} activatedRoute request routes param\r\n   * @param {FactureGlobalService} factureGlobalService facture global service\r\n   * @param {FactureAccompteService} factureAccompteService facture Accompte service\r\n   * @param {DatePipe} datePipe format date\r\n   * @param {FormBuilder} formBuilder reactive form builder\r\n   * @param {FlashMessagesService} flashMessages Angular flash messages\r\n   * @param {ClientService} clientService client service\r\n   * @param {ReglementService} reglementService reglement service\r\n   * @param {Router} router router\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private factureGlobalService: FactureGlobalService,\r\n    private factureAccompteService: FactureAccompteService,\r\n    private datePipe: DatePipe,\r\n    private formBuilder: FormBuilder,\r\n    private flashMessages: FlashMessagesService,\r\n    private clientService: ClientService,\r\n    private reglementService: ReglementService,\r\n    private router: Router\r\n  ) {\r\n    this.generateForm();\r\n    this.generateReglementForm();\r\n  }\r\n\r\n  /**\r\n   * Get Client to be updated\r\n   *\r\n   * @param {number} id client._id\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  getOneClient(id: number) {\r\n    // Fetch Client from database\r\n    this.clientService.getOneClient(this.factureGlobal.client)\r\n      .subscribe(\r\n      data => this.client = data,\r\n      err => console.log('Erreur :' + err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Get All Facture Global by Client\r\n   * \r\n   * @param {number} id client id\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  getAllFactureGlobalByClient(id: number) {\r\n    this.factureGlobalService.getAllFactureGlobalByClient(id)\r\n      .subscribe(\r\n      data => this.listFactureGlobal = data,\r\n      err => console.log('Erreur :' + err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Get One Facture Global\r\n   *\r\n   * @param {number} id factureGlobal._id\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  getOneFactureGlobal(id: number) {\r\n    this.factureGlobalService.getOneFactureGlobalById(id)\r\n      .subscribe(\r\n      data => {\r\n        this.factureGlobal = data;\r\n        console.log(this.factureGlobal);\r\n        this.getOneClient(data.client);\r\n      },\r\n      err => console.log(err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Get All Facture Mois\r\n   *\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  getAllFactureAccompte() {\r\n    this.factureAccompteService.getAllFactureAccompte()\r\n      .subscribe(\r\n      factureAccompte => this.listFactureAccompte = factureAccompte,\r\n      err => console.log(err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Get All Facture Mois By Facture Global\r\n   *\r\n   * @param {number} id factureGlobal._id\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  getAllFactureAccompteByFactureGlobal(id: number) {\r\n    this.factureAccompteService.getAllFactureAccompteByFactureGlobal(id)\r\n      .subscribe(\r\n      factureAccompte => {\r\n        console.log(factureAccompte);\r\n        this.listFactureAccompte = factureAccompte;\r\n      },\r\n      err => console.log(err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Get All Reglement by factureAccompte\r\n   *\r\n   * @param {number} id factureAccompte._id\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  getAllReglementByFactureAccompte(id: number) {\r\n    this.reglementService.getReglementByFactureAccompte(id)\r\n      .subscribe(\r\n      listReglements => {\r\n        this.listReglement = listReglements;\r\n      },\r\n      err => console.log(err),\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Add Facture Accompte\r\n   *\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  addFactureAccompte() {\r\n    this.processing = true;\r\n    this.disableFactureForm();\r\n    let newFacture = {\r\n      ref_factureAccompte: this.factureForm.get('ref_factureAccompte').value,\r\n      date_creation: this.factureForm.get('date_creation').value,\r\n      montantFacture: this.factureForm.get('montantFacture').value,\r\n      reglementClient: 0,\r\n      factureGlobal: this.factureGlobal._id,\r\n    };\r\n    console.log(newFacture);\r\n    this.factureAccompteService.addFactureAccompte(newFacture)\r\n      .subscribe(\r\n      data => {\r\n        if (data.success) {\r\n          console.log(data.message);\r\n          this.flashMessages.show(data.message, {\r\n            classes: [ 'alert', 'alert-success' ],\r\n            timeout: 3000\r\n          });\r\n          // Update facture global montantTtcFacture\r\n          this.updateMontantFactureGlobal(this.factureGlobal, newFacture.montantFacture);\r\n          // Update facture global status\r\n          this.updateStatusFactureGlobal(this.factureGlobal);\r\n\r\n          this.onSuccess();\r\n        } else {\r\n          console.log('Erreur creation facture accompte :' + data.err);\r\n          this.flashMessages.show('data.message', {\r\n            classes: [ 'alert', 'alert-danger' ],\r\n            timeout: 3000\r\n          });\r\n          this.processing = false;\r\n          this.enableFactureForm();\r\n        }\r\n      }\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Add reglement\r\n   *\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  addReglement() {\r\n    this.processing = true;\r\n    this.disableReglementForm();\r\n    // Récupère Reglement data du form\r\n    let newReglement = {\r\n      date_reglement: this.reglementForm.get('date_creation').value,\r\n      reglementTtc: this.reglementForm.get('reglementTtc').value,\r\n      factureAccompte: this.factureAccompte._id\r\n    };\r\n\r\n    // add Reglement\r\n    this.reglementService.addReglement(newReglement)\r\n      .subscribe(\r\n      data => {\r\n        if (data.success) {\r\n          console.log(data.message);\r\n          this.flashMessages.show(data.message, {\r\n            classes: [ 'alert', 'alert-success' ],\r\n            timeout: 3000\r\n          });\r\n          // update Facture accompte with new reglementClient\r\n          this.updateReglementClientFactureAccompte(this.factureAccompte, newReglement.reglementTtc);\r\n          // update facture Accompte Status\r\n          this.updateStatusFactureAccompte(this.factureAccompte);\r\n          // update facture global reglement\r\n          this.updateReglementClientFactureGlobal(this.factureGlobal, newReglement.reglementTtc);\r\n\r\n          this.onSuccess();\r\n        } else {\r\n          console.log('Erreur creation facture accompte :' + data.err);\r\n          this.flashMessages.show('data.message', {\r\n            classes: [ 'alert', 'alert-danger' ],\r\n            timeout: 3000\r\n          });\r\n          this.processing = false;\r\n          this.enableReglementForm();\r\n        }\r\n      }\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Delete Facture Accompte si NE possède pas de Reglement\r\n   *\r\n   * @param {number} id factureAccompte._id\r\n   * @param {number} montantFacture factureAccomte montantTtcFacture\r\n   * @param {number} reglementClient factureAccomte montantTtcRegle\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  deleteFactureAccompte(id: number, montantFacture: number, reglementClient: number) {\r\n    this.reglementService.getReglementByFactureAccompte(id)\r\n      .subscribe(\r\n      data => {\r\n        if (data.length === 0) {\r\n          this.factureAccompteService.deleteFactureAccompte(id)\r\n            .subscribe(\r\n            data => {\r\n              if (data.success) {\r\n                console.log(data.message);\r\n                this.flashMessages.show(data.message, {\r\n                  classes: [ 'alert', 'alert-warning' ],\r\n                  timeout: 3000\r\n                });\r\n                // Update Facture global montantTtcFacture\r\n                this.updateMontantFactureGlobal(this.factureGlobal, -montantFacture);\r\n                // Update facture global reglementTtcTotal\r\n                this.updateReglementClientFactureGlobal(this.factureGlobal, -reglementClient);\r\n\r\n                this.onSuccess();\r\n              } else {\r\n                console.log(data.message + ' :' + data.err);\r\n                this.flashMessages.show(data.message, {\r\n                  classes: [ 'alert', 'alert-danger' ],\r\n                  timeout: 3000\r\n                });\r\n              }\r\n            }\r\n            );\r\n        } else {\r\n          console.log('Impossible de supprimer la facture accompte');\r\n          this.flashMessages.show('Suppression impossible ! La facture d\\'accompte est associée à des règlements', {\r\n            classes: [ 'alert', 'alert-danger' ],\r\n            timeout: 3000\r\n          });\r\n        }\r\n      }, err => console.log('Erreur :' + err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Set facture accompte to delete\r\n   * \r\n   * @param {FactureAccompte} factureAccompte facture accompte body\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  getFactureAccompteToDelete(factureAccompte: FactureAccompte) {\r\n    this.factureAccompte = factureAccompte;\r\n  }\r\n\r\n  /**\r\n   * on close modal\r\n   * \r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  closeModal() {\r\n    this.factureAccompte = {};\r\n  }\r\n\r\n  /**\r\n   * Delete reglement :\r\n   * - Update reglementClient facture global\r\n   * - Update status facture global\r\n   * - Update status client\r\n   * \r\n   * @param {number} id reglement._id\r\n   * @param {number} reglementClient reglement.reglementTtc \r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  deleteReglement(id: number, reglementClient: number) {\r\n    this.processing = true;\r\n    this.reglementService.deleteReglement(id)\r\n      .subscribe(\r\n      data => {\r\n        if (data.success) {\r\n          console.log(data.message);\r\n          this.flashMessages.show(data.message, {\r\n            classes: [ 'alert', 'alert-warning' ],\r\n            timeout: 3000\r\n          });\r\n          // Update facture accompte reglementClient\r\n          this.updateReglementClientFactureAccompte(this.factureAccompte, -reglementClient);\r\n          // Update facture global reglementTtcTotal\r\n          this.updateReglementClientFactureGlobal(this.factureGlobal, -reglementClient);\r\n          // Get all reglement by facture accompte\r\n          this.getAllReglementByFactureAccompte(this.factureAccompte._id);\r\n\r\n          this.processing = false;\r\n        } else {\r\n          console.log(data.message + ' :' + data.err);\r\n          this.flashMessages.show(data.message, {\r\n            classes: [ 'alert', 'alert-danger' ],\r\n            timeout: 3000\r\n          });\r\n          this.processing = false;\r\n        }\r\n      }\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Update reglement client facture accompte si :\r\n   * - réglement créé\r\n   *\r\n   * @param {number} reglementClient reglement client\r\n   * @param {FactureAccompte} factureAccompte facture accompte body\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  updateReglementClientFactureAccompte(factureAccompte: FactureAccompte, reglementClient: number) {\r\n    // Set new reglementClient montant\r\n    this.factureAccompte.reglementClient += Number(reglementClient);\r\n    // Request service\r\n    this.factureAccompteService.updateFactureAccompte(factureAccompte)\r\n      .subscribe(\r\n      data => {\r\n        if (data.success) {\r\n          console.log(data.message);\r\n          // Update status facture accompte\r\n          this.updateStatusFactureAccompte(data.obj);\r\n          //this.onSuccess();\r\n        } else {\r\n          console.log(data.message + ' :' + data.err);\r\n        }\r\n      }\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Update status factureAccompte si :\r\n   * - modification reglement == success\r\n   * - factureAccompte.reglementClient === factureAccompte.montantFacture\r\n   * - factureAccompte.status_factureAccompte !== true\r\n   *\r\n   * @param {FactureAccompte} factureAccompte facture accompte body\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  updateStatusFactureAccompte(factureAccompte: FactureAccompte) {\r\n    let status_factureAccompte = false;\r\n    // Check if montantFacture === reglementClient\r\n    if (factureAccompte.reglementClient === factureAccompte.montantFacture) {\r\n      status_factureAccompte = true;\r\n    }\r\n\r\n    this.factureAccompteService.updateStatusFactureAccompte(factureAccompte, status_factureAccompte)\r\n      .subscribe(\r\n      data => console.log('Status facture accompte = ' + data.obj.status_factureAccompte),\r\n      err => console.log(err)\r\n      );\r\n    // Get all facture accompte by facture global\r\n    this.getAllFactureAccompteByFactureGlobal(this.id_fact);\r\n  }\r\n\r\n  /**\r\n   * Update status factureGlobal si :\r\n   * - each montantFacturé factureAccompte === montantTtcTotal factureGlobal\r\n   * - each status factureAccompte === true\r\n   *\r\n   * @param {FactureGlobal} factureGlobal\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  updateStatusFactureGlobal(factureGlobal: FactureGlobal) {\r\n    let status_factureGlobal: boolean = false;\r\n\r\n    // Check montant facture\r\n    if ((factureGlobal.montantTtcFacture === factureGlobal.montantTtcTotal) && (factureGlobal.montantTtcFacture === factureGlobal.montantTtcRegle)) {\r\n      status_factureGlobal = true;\r\n    }\r\n\r\n    this.factureGlobalService.updateStatusFactureGlobal(factureGlobal, status_factureGlobal)\r\n      .subscribe(\r\n      data => {\r\n        console.log('Status facture global updated :' + data.obj.status_factureGlobal);\r\n        this.updateStatusClient();\r\n      },\r\n      err => console.log('Erreur :' + err)\r\n      )\r\n  }\r\n\r\n  /**\r\n   * Update FactureGlobal montantTtcFacturé si:\r\n   * - FactureAccompte success (add/update/delete).\r\n   *\r\n   * @param {FactureGlobal} factureGlobal\r\n   * @param {number} montantFacture\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  updateMontantFactureGlobal(factureGlobal: FactureGlobal, montantFacture: number) {\r\n    factureGlobal.montantTtcFacture += Number(montantFacture);\r\n    this.factureGlobalService.updateFactureGlobal(factureGlobal)\r\n      .subscribe(\r\n      data => console.log('updateMontantFactureGlobal réussi : ' + data.obj.montantTtcTotal),\r\n      err => console.log('Erreur :' + err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Update FactureGlobal montantTtcReglé si:\r\n   * - Reglement success (add/update/delete).\r\n   *\r\n   * @param {FactureGlobal} factureGlobal\r\n   * @param {number} Reglement\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  updateReglementClientFactureGlobal(factureGlobal: FactureGlobal, reglement: number) {\r\n    factureGlobal.montantTtcRegle += Number(reglement);\r\n    this.factureGlobalService.updateFactureGlobal(factureGlobal)\r\n      .subscribe(\r\n      data => {\r\n        console.log('updateReglementClientFactureGlobal réussi :' + data.obj.montantTtcRegle);\r\n        // update facture Global Status\r\n        this.updateStatusFactureGlobal(this.factureGlobal);\r\n      },\r\n      err => console.log('Erreur :' + err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Update Status Client si :\r\n   * - update/delete FactureGlobal => Success.\r\n   * - AllFactureGlobalByClient.status === true\r\n   *\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  updateStatusClient() {\r\n    // init status_client\r\n    let status_client: boolean = true;\r\n\r\n    // Fetch Facture Globals from Database\r\n    //this.getAllFactureGlobalByClient(this.client._id);\r\n    this.factureGlobalService.getAllFactureGlobalByClient(this.client._id)\r\n      .subscribe(\r\n      data => {\r\n        console.log(data);\r\n        // Si list non vide : check each factureGlobal.status dans listFactureGlobal\r\n        if (data.length > 0) {\r\n          for (var factureGlobal in data) {\r\n            if (data.hasOwnProperty(factureGlobal)) {\r\n              if (data[ factureGlobal ].status_factureGlobal === false) {\r\n                status_client = false;\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          status_client = false;\r\n        }\r\n        // Update Status client\r\n        this.clientService.updateStatus(this.client, status_client)\r\n          .subscribe(\r\n          data => console.log('Status client mis à jour :' + data.obj.status_client),\r\n          err => console.log('Erreur' + err)\r\n          );\r\n      }, err => console.log('Erreur :' + err)\r\n      )\r\n\r\n    /*  // Si status_client === true && client.status_client === false\r\n     if (status_client && this.client.status_client === false) {\r\n       this.clientService.updateStatus(this.client, status_client)\r\n         .subscribe(\r\n         data => console.log('Status client mis à jour :' + data.obj.status_client),\r\n         err => console.log('Erreur mis à jour status client :' + err)\r\n         );\r\n     }\r\n \r\n     // Si status_client === false && client.status_client === true\r\n     if (!(status_client) && this.client.status_client === true) {\r\n       this.clientService.updateStatus(this.client, status_client)\r\n         .subscribe(\r\n         data => console.log('Status client mis à jour :' + data.obj.status_client),\r\n         err => console.log('Erreur mis à jour status client :' + err)\r\n         );\r\n     } */\r\n  }\r\n\r\n  /**\r\n   * Method to fetch modified data from database and display into table.\r\n   *\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  onSuccess() {\r\n    this.getAllFactureAccompteByFactureGlobal(this.id_fact);\r\n    this.mode = false;\r\n    this.modeAddReglement = false;\r\n    this.processing = false;\r\n    this.factureAccompte = {};\r\n    this.reglement = {};\r\n    this.generateForm();\r\n    this.generateReglementForm();\r\n  }\r\n\r\n  /**\r\n   * onAdd Facture accompte\r\n   * affiche le form seulement si l'ajout d'une facture d'accompte est possible\r\n   * cad somme montant facturé < montantTotalTtc facture global\r\n   *\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  onAddFactureAccompte() {\r\n    this.modeAddReglement = false;\r\n    // Calcul la somme montantFacture des facture d'accompte\r\n    let sommeMontantFacture = 0;\r\n    let montantFactureRestant = 0;\r\n    for (var facture in this.listFactureAccompte) {\r\n      if (this.listFactureAccompte.hasOwnProperty(facture)) {\r\n        sommeMontantFacture += this.listFactureAccompte[ facture ].montantFacture;\r\n      }\r\n    }\r\n    // Vérif si somme des Montants Facturés est égale montant TTC total de la facture\r\n    if (this.factureGlobal.montantTtcTotal > sommeMontantFacture) {\r\n      // Calcul montant facturé max restant\r\n      montantFactureRestant = this.factureGlobal.montantTtcTotal - sommeMontantFacture;\r\n      // Generate form and set values\r\n      this.generateForm();\r\n      let latest_date = this.datePipe.transform(Date.now(), 'yyyy-MM-dd');\r\n      this.factureForm.get('ref_factureAccompte').setValue(this.factureGlobal.ref_factureGlobal);\r\n      this.factureForm.get('date_creation').setValue(latest_date);\r\n      this.factureGlobal.date_creation = latest_date;\r\n      this.factureForm.get('montantFacture').setValue(montantFactureRestant.toFixed(2));\r\n      this.factureAccompte.montantFacture = montantFactureRestant;\r\n      this.mode = true;\r\n    } else {\r\n      this.flashMessages.show('Création impossible : le montant total de la facture est égal à la somme des montants facturés', {\r\n        classes: [ 'alert', 'alert-warning' ],\r\n        timeout: 6000\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * onUpdate:\r\n   * - generate ReglementForm\r\n   * - get All reglement by FactureAccompte._id\r\n   *\r\n   * @param {FactureAccompte} factureAccompte FactureAccompte\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  onAddReglement(factureAccompte: FactureAccompte) {\r\n    this.getAllReglementByFactureAccompte(factureAccompte._id);\r\n    this.reglement = {};\r\n    this.generateReglementForm();\r\n    this.factureAccompte = factureAccompte;\r\n    let latest_date = this.datePipe.transform(this.factureAccompte.date_creation, 'yyyy-MM-dd');\r\n    this.factureAccompte.date_creation = latest_date;\r\n    this.reglementForm.get('date_creation').setValue(latest_date);\r\n    this.modeAddReglement = true;\r\n    this.mode = false;\r\n  }\r\n\r\n  /**\r\n   * Cancel button\r\n   *\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  onCancel() {\r\n    this.generateForm();\r\n    this.generateReglementForm();\r\n    this.mode = false;\r\n    this.modeAddReglement = false;\r\n    this.validationMontantFacture = false;\r\n    this.validationRef = false;\r\n    this.validationReglement = false;\r\n    this.factureAccompte = {};\r\n    this.reglement = {};\r\n  }\r\n\r\n  /**\r\n   * Generate form add facture accompte\r\n   *\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  generateForm() {\r\n    this.factureForm = this.formBuilder.group({\r\n      ref_factureAccompte: [ this.factureGlobal.ref_factureGlobal, Validators.required ],\r\n      date_creation: [ Date.now ],\r\n      montantFacture: [ this.factureAccompte.montantFacture, Validators.compose([\r\n        Validators.required,\r\n        this.isNumber\r\n      ]) ],\r\n      factureGlobal: [ { value: this.factureAccompte.factureGlobal, disabled: true }, Validators.required ]\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Generate form add reglement\r\n   *\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  generateReglementForm() {\r\n    this.reglementForm = this.formBuilder.group({\r\n      ref_factureAccompte: [ { value: this.factureAccompte.ref_factureAccompte, disabled: true }, Validators.required ],\r\n      date_creation: [ { value: this.factureAccompte.date_creation }],\r\n      montantFacture: [ { value: this.factureAccompte.montantFacture, disabled: true }],\r\n      reglementTtc: [ this.factureAccompte.reglementClient, Validators.compose([\r\n        Validators.required,\r\n        this.isNumber\r\n      ]) ]\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Disable facture accompte form controls\r\n   * \r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  disableFactureForm() {\r\n    this.factureForm.disable();\r\n  }\r\n\r\n  /**\r\n   * Disable reglement form controls\r\n   * \r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  disableReglementForm() {\r\n    this.reglementForm.disable();\r\n  }\r\n\r\n  /**\r\n   * Enable Facture accompte form controls on error\r\n   * \r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  enableFactureForm() {\r\n    this.factureForm.controls[ 'ref_factureAccompte' ].enable();\r\n    this.factureForm.controls[ 'date_creation' ].enable();\r\n    this.factureForm.controls[ 'montantFacture' ].enable();\r\n  }\r\n\r\n  /**\r\n   * Enable reglement form controls on error\r\n   * \r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  enableReglementForm() {\r\n    this.reglementForm.controls[ 'date_creation' ].enable();\r\n    this.reglementForm.controls[ 'reglementTtc' ].enable();\r\n  }\r\n\r\n  /**\r\n   * Somme montantFacture\r\n   * \r\n   * @returns {string} somme\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  getSumMontantFacture(): string {\r\n    let sum = 0;\r\n    for (var fact in this.listFactureAccompte) {\r\n      if (this.listFactureAccompte.hasOwnProperty(fact)) {\r\n        sum += this.listFactureAccompte[ fact ].montantFacture;\r\n      }\r\n    }\r\n    return sum.toFixed(2);\r\n  }\r\n\r\n  /**\r\n   * Somme reglementClient\r\n   * \r\n   * @returns {string} somme\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  getSumReglementClient(): string {\r\n    let sum = 0;\r\n    for (var fact in this.listFactureAccompte) {\r\n      if (this.listFactureAccompte.hasOwnProperty(fact)) {\r\n        sum += this.listFactureAccompte[ fact ].reglementClient;\r\n      }\r\n    }\r\n    return sum.toFixed(2);\r\n  }\r\n\r\n  // VALIDATIONS\r\n  /**\r\n   * Check if controls.value is a number\r\n   * \r\n   * @param {any} controls value to check\r\n   * @returns \r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  isNumber(controls) {\r\n    const regExp = new RegExp(/^[0-9]{0,20}(\\.[0-9]{0,4})?$/);\r\n    if (regExp.test(controls.value)) {\r\n      return null;\r\n    } else {\r\n      return {\r\n        isNumber: true\r\n      };\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   * (blur) listener : Verification de la ref_factureAccompte.\r\n   * - si data.success === true && ref != factureAccompte.ref => ref_factureAccompte utilisée => validationRef = true,\r\n   * - si data.success === false => ref_factureAccompte non utilisée => validationRef = false\r\n   * @returns {boolean} set validationRef\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  verifRef(): boolean {\r\n    this.factureAccompteService.getOneFactureAccompteByRef(this.factureGlobal._id, this.factureForm.get('ref_factureAccompte').value)\r\n      .subscribe(\r\n      data => {\r\n        if (data.success) {\r\n          // onUpdate : Vérif si ref dans l'input == ref initial du factureAccompte \r\n          if (this.factureForm.get('ref_factureAccompte').value != this.factureAccompte.ref_factureAccompte) {\r\n            return this.validationRef = true;\r\n          }\r\n        }\r\n      },\r\n      error => {\r\n        console.log(error)\r\n      }\r\n      );\r\n    return this.validationRef = false;\r\n  }\r\n\r\n  /**\r\n   * (blur) listener : Vérification du montantFacturé de la facture accompte\r\n   * \r\n   * @returns {boolean} set validationMontantFacture\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  verifMontantFacture(): boolean {\r\n    let montantRestant = this.factureGlobal.montantTtcTotal - this.factureGlobal.montantTtcFacture;\r\n    if (this.factureForm.get('montantFacture').value > montantRestant) {\r\n      return this.validationMontantFacture = true;\r\n    }\r\n    return this.validationMontantFacture = false;\r\n  }\r\n\r\n  /**\r\n   * (blur) listener : Vérifiaction du reglement de la facture accompte\r\n   * \r\n   * @returns {boolean} set validationReglement\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  verifReglement(): boolean {\r\n    let reglementRestant = this.factureAccompte.montantFacture - this.factureAccompte.reglementClient;\r\n    if (this.reglementForm.get('reglementTtc').value > reglementRestant) {\r\n      return this.validationReglement = true;\r\n    }\r\n    return this.validationReglement = false;\r\n  }\r\n\r\n  /**\r\n   * OnInit :\r\n   * check if params['id_fact'] set into url.\r\n   * - set this.id_fact = params['id_fact'].\r\n   * - get Devis using this.id_fact.\r\n   *\r\n   * @memberof FactureAccompteComponent\r\n   */\r\n  ngOnInit() {\r\n    if (this.activatedRoute.snapshot.params[ 'id_fact' ] !== undefined) {\r\n      this.id_fact = this.activatedRoute.snapshot.params[ 'id_fact' ];\r\n      this.getAllFactureAccompteByFactureGlobal(this.id_fact);\r\n      this.getOneFactureGlobal(this.id_fact);\r\n    } else {\r\n      this.router.navigate([ '/pageNotFound' ]);\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/facture-accompte/facture-accompte.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".container-factGlobal {\\r\\n  margin-top: -21px;\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/facture-global/facture-global.component.css\n// module id = ../../../../../src/app/components/facture-global/facture-global.component.css\n// module chunks = 1","module.exports = \"<div class=\\\"container-fluid  container-factGlobal\\\">\\r\\n    <h4 style=\\\"text-align: center;\\\">Factures</h4>\\r\\n    <table class=\\\"table table-striped\\\">\\r\\n        <thead>\\r\\n            <tr>\\r\\n                <th>Statut</th>\\r\\n                <th>Ref</th>\\r\\n                <th>Date</th>\\r\\n                <th>Montant total TTC</th>\\r\\n                <th>Montant facturé TTC</th>\\r\\n                <th>Montant réglé</th>\\r\\n                <th>Client</th>\\r\\n                <th>Actions</th>\\r\\n            </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n            <tr *ngFor=\\\"let f of listFactureGlobals\\\">\\r\\n                <td *ngIf=\\\"f.status_factureGlobal\\\">\\r\\n                    <img src=\\\"{{status_true}}\\\" alt=\\\"true\\\">\\r\\n                </td>\\r\\n                <td *ngIf=\\\"!f.status_factureGlobal\\\">\\r\\n                    <img src=\\\"{{status_false}}\\\" alt=\\\"false\\\">\\r\\n                </td>\\r\\n                <td>{{f.ref_factureGlobal}}</td>\\r\\n                <td>{{f.date_creation | date: 'dd/MM/yyyy'}}</td>\\r\\n                <td>{{f.montantTtcTotal}}</td>\\r\\n                <td>{{f.montantTtcFacture}}</td>\\r\\n                <td>{{f.montantTtcRegle}}</td>\\r\\n                <td>{{client.nom}} {{client.prenom}}</td>\\r\\n                <td>\\r\\n                    <div class=\\\"btn-group-vertical\\\">\\r\\n                        <a class=\\\"btn btn-success\\\" [routerLink]=\\\"['/facture/facture-accompte', f._id]\\\">Consulter</a>\\r\\n                        <button class=\\\"btn btn-warning\\\" (click)=\\\"onUpdate(f)\\\">Modifier</button>\\r\\n                        <button class=\\\"btn btn-danger\\\" data-toggle=\\\"modal\\\" data-target=\\\"#myModal1\\\" (click)=\\\"getFactureGlobalToDelete(f)\\\">Supprimer</button>\\r\\n                    </div>\\r\\n                </td>\\r\\n            </tr>\\r\\n            <tr class=\\\"color-sum\\\" *ngIf=\\\"listFactureGlobals.length > 0\\\">\\r\\n                <th>Total</th>\\r\\n                <th>:</th>\\r\\n                <th></th>\\r\\n                <th>{{getSumMontantTotal()}}</th>\\r\\n                <th>{{getSumMontantFacture()}}</th>\\r\\n                <th>{{getSumMontantRegle()}}</th>\\r\\n                <th></th>\\r\\n                <th></th>\\r\\n            </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n    <br/>\\r\\n    <br/>\\r\\n\\r\\n    <!-- Confirm delete Modal -->\\r\\n    <div id=\\\"myModal1\\\" class=\\\"modal fade\\\" role=\\\"dialog\\\">\\r\\n        <div class=\\\"modal-dialog\\\">\\r\\n            <!-- Modal content-->\\r\\n            <div class=\\\"modal-content\\\">\\r\\n                <div class=\\\"modal-header\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n                    <h4 class=\\\"modal-title\\\">Confirmer suppression</h4>\\r\\n                </div>\\r\\n                <div class=\\\"modal-body\\\">\\r\\n                    <p>Etes-vous sûr de vouloir supprimer {{factureGlobal.ref_factureGlobal}} ?</p>\\r\\n                </div>\\r\\n                <div class=\\\"modal-footer\\\">\\r\\n                    <button class=\\\"btn btn-danger\\\" (click)=\\\"onDelete(factureGlobal._id)\\\" data-dismiss=\\\"modal\\\">Supprimer</button>\\r\\n                    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" (click)=\\\"closeModal()\\\">Annuler</button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <!-- Update facture global form -->\\r\\n    <div class=\\\"container-fluid\\\" *ngIf=\\\"mode\\\">\\r\\n        <div class=\\\"panel panel-info\\\">\\r\\n            <div class=\\\"panel-heading\\\">\\r\\n                <h4>Facture Global</h4>\\r\\n            </div>\\r\\n            <div class=\\\"panel-body\\\">\\r\\n                <form class=\\\"form-horizontal\\\" [formGroup]=\\\"factureForm\\\" (submit)=\\\"updateFacture()\\\">\\r\\n                    <div class=\\\"form-group\\\" [ngClass]=\\\"{'has-error': (factureForm.controls.ref_factureGlobal.errors && factureForm.controls.ref_factureGlobal.dirty) || (validationRef && factureForm.controls.ref_factureGlobal.dirty),\\r\\n                    'has-success': (!factureForm.controls.ref_factureGlobal.errors && !validationRef)}\\\">\\r\\n                        <label class=\\\"control-label\\\" for=\\\"ref_factureGlobal\\\">Ref :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"ref_factureGlobal\\\" id=\\\"ref_factureGlobal\\\" formControlName=\\\"ref_factureGlobal\\\"\\r\\n                            value=\\\"{{factureGlobal.ref_factureGlobal}}\\\" (blur)=\\\"verifRef()\\\" autofocus required />\\r\\n                        <ul class=\\\"list-group\\\">\\r\\n                            <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"factureForm.controls.ref_factureGlobal.errors?.required && factureForm.controls.ref_factureGlobal.dirty\\\">\\r\\n                                Ce champ est requis\\r\\n                            </li>\\r\\n                            <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"validationRef\\\">\\r\\n                                Ref déjà utilisée\\r\\n                            </li>\\r\\n                        </ul>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"control-label\\\" for=\\\"date_creation\\\">Date création :</label>\\r\\n                        <input type=\\\"date\\\" class=\\\"form-control\\\" name=\\\"date_creation\\\" id=\\\"date_creation\\\" formControlName=\\\"date_creation\\\" value=\\\"{{factureGlobal.date_creation}}\\\"\\r\\n                        />\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"control-label\\\" for=\\\"montantTtcTotal\\\">Montant TTC :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"montantTtcTotal\\\" id=\\\"montantTtcTotal\\\" formControlName=\\\"montantTtcTotal\\\" value=\\\"{{factureGlobal.montantTtcTotal}}\\\"\\r\\n                        />\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <label class=\\\"control-label\\\" for=\\\"client\\\">Client :</label>\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"client\\\" id=\\\"client\\\" formControlName=\\\"client\\\" value=\\\"{{client.nom}} {{client.prenom}}\\\"\\r\\n                            required />\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <md-spinner *ngIf=\\\"processing\\\" style=\\\"float: left;width: 24px;height: 24px;\\\"></md-spinner>\\r\\n                        <button [disabled]=\\\"!factureForm.valid || processing || validationRef\\\" type=\\\"submit\\\" class=\\\"btn btn-success\\\">Modifier</button>\\r\\n                        <button [disabled]=\\\"processing\\\" class=\\\"btn btn-default\\\" (click)=\\\"onCancel()\\\">Annuler</button>\\r\\n                    </div>\\r\\n                </form>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/facture-global/facture-global.component.html\n// module id = ../../../../../src/app/components/facture-global/facture-global.component.html\n// module chunks = 1","import { DatePipe } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { FlashMessagesService } from 'ngx-flash-messages';\r\n\r\nimport { Client } from '../../models/client';\r\nimport { FactureGlobal } from '../../models/factureGlobal';\r\nimport { ClientService } from '../../service/client.service';\r\nimport { FactureAccompteService } from '../../service/facture-accompte.service';\r\nimport { FactureGlobalService } from '../../service/facture-global.service';\r\n\r\n// Models\r\n// Services\r\n/**\r\n *\r\n * @author Paul GUINARD\r\n * @export\r\n * @class FactureGlobalComponent\r\n * @implements {OnInit}\r\n */\r\n@Component({\r\n  selector: 'app-facture-global',\r\n  templateUrl: './facture-global.component.html',\r\n  styleUrls: ['./facture-global.component.css']\r\n})\r\nexport class FactureGlobalComponent implements OnInit {\r\n  /**\r\n   * facture global\r\n   * \r\n   * @type {*}\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  factureGlobal: any = {};\r\n\r\n  /**\r\n   * list factures globals\r\n   * \r\n   * @type {FactureGlobal[]}\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  listFactureGlobals: FactureGlobal[] = [];\r\n\r\n  /**\r\n   * client\r\n   * \r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  client = new Client();\r\n\r\n  /**\r\n   * client id\r\n   * \r\n   * @type {number}\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  id_client: number;\r\n\r\n  /**\r\n   * validation ref facture global\r\n   * \r\n   * @type {boolean}\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  validationRef: boolean;\r\n\r\n  /**\r\n   * \r\n   * mode form\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  mode = false;\r\n\r\n  /**\r\n   * on process\r\n   * \r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  processing = false;\r\n\r\n  /**\r\n   * facture global form\r\n   * \r\n   * @type {FormGroup}\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  factureForm: FormGroup;\r\n\r\n  // Status images\r\n  /**\r\n   * image status true\r\n   * \r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  status_true = '../../assets/images/status_true.png';\r\n\r\n  /**\r\n   * image status false\r\n   * \r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  status_false = '../../assets/images/status_false.png';\r\n\r\n  /**\r\n   * Creates an instance of FactureGlobalComponent.\r\n   * @param {ActivatedRoute} activatedRoute request routes params\r\n   * @param {FactureGlobalService} factureGlobalService facture global service\r\n   * @param {FactureAccompteService} factureAccompteService facture accompte service\r\n   * @param {ClientService} clientService client service\r\n   * @param {DatePipe} datePipe format date\r\n   * @param {FormBuilder} formBuilder Reactive form builder\r\n   * @param {FlashMessagesService} flashMessages Angular flash message\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private factureGlobalService: FactureGlobalService,\r\n    private factureAccompteService: FactureAccompteService,\r\n    private clientService: ClientService,\r\n    private datePipe: DatePipe,\r\n    private formBuilder: FormBuilder,\r\n    private flashMessages: FlashMessagesService\r\n  ) {\r\n    this.generateForm();\r\n    this.validationRef = false;\r\n  }\r\n\r\n  /**\r\n   * Get all Facture Global.\r\n   * Method used when no params set into url.\r\n   *\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  getAllFactureGlobal() {\r\n    this.factureGlobalService.getAllFactureGlobal()\r\n      .subscribe(\r\n      factureGlobal => this.listFactureGlobals = factureGlobal,\r\n      error => console.log('Error ' + error)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Get All Facture Global By Client._id.\r\n   * Method used when params client._id set into url.\r\n   *\r\n   * @param {number} id client._id\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  getAllFactureGlobalByClient(id: number) {\r\n    this.factureGlobalService.getAllFactureGlobalByClient(id)\r\n      .subscribe(\r\n      factureGlobal => this.listFactureGlobals = factureGlobal,\r\n      error => console.log('Error ' + error)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Get One Client by Id.\r\n   * Method used to display client.nom, client.prenom in table and form.\r\n   *\r\n   * @param {number} id client._id\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  getClient(id: number) {\r\n    this.clientService.getOneClient(id)\r\n      .subscribe(\r\n      client => this.client = client,\r\n      error => console.log('Error ' + error)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Display factureForm.\r\n   * Set factureForm.value = facture global data to update.\r\n   *\r\n   * @param {FactureGlobal} facture facture global body\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  onUpdate(facture: FactureGlobal) {\r\n    this.mode = true;\r\n    this.factureGlobal = facture;\r\n    const latest_date = this.datePipe.transform(this.factureGlobal.date_creation, 'yyyy-MM-dd');\r\n    this.factureGlobal.date_creation = latest_date;\r\n    this.factureForm.get('ref_factureGlobal').setValue(this.factureGlobal.ref_factureGlobal);\r\n    this.factureForm.get('date_creation').setValue(latest_date);\r\n  }\r\n\r\n  /**\r\n   * Update Facture global\r\n   *\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  updateFacture() {\r\n    this.disableForm();\r\n    this.processing = true;\r\n    const newFacture: FactureGlobal = {\r\n      _id: this.factureGlobal._id,\r\n      status_factureGlobal: this.factureGlobal.status_factureGlobal,\r\n      ref_factureGlobal: this.factureForm.get('ref_factureGlobal').value,\r\n      date_creation: this.factureForm.get('date_creation').value,\r\n      montantHt: this.factureGlobal.montantHt,\r\n      tauxTva: this.factureGlobal.tauxTva,\r\n      montantTtcTotal: this.factureGlobal.montantTtcTotal,\r\n      montantTtcFacture: this.factureGlobal.montantTtcFacture,\r\n      montantTtcRegle: this.factureGlobal.montantTtcRegle,\r\n      client: this.factureGlobal.client,\r\n      devis: this.factureGlobal.devis,\r\n      valid: true,\r\n      updated_at: new Date(),\r\n      description: ''\r\n    };\r\n\r\n    this.factureGlobalService.updateFactureGlobal(newFacture)\r\n      .subscribe(\r\n      data => {\r\n        this.onSuccess();\r\n        console.log('Facture Modifiée');\r\n        this.flashMessages.show('Facture modifiée', {\r\n          classes: ['alert', 'alert-success'],\r\n          timeout: 3000\r\n        });\r\n      },\r\n      error => {\r\n        console.log('Erreur ' + error);\r\n        this.flashMessages.show('Erreur : Facture non modifiée', {\r\n          classes: ['alert', 'alert-danger'],\r\n          timeout: 3000\r\n        });\r\n        this.processing = false;\r\n        this.enableForm();\r\n      }\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Delete Facture Global by Id.\r\n   *\r\n   * @param {number} id factureGlobal._id\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  onDelete(id: number) {\r\n    this.factureAccompteService.getAllFactureAccompteByFactureGlobal(id)\r\n      .subscribe(\r\n      data => {\r\n        if (data.length === 0) {\r\n          this.factureGlobalService.deleteFactureGlobal(id)\r\n            .subscribe(\r\n            facture => {\r\n              console.log('Facture Global deleted');\r\n              this.flashMessages.show('Facture supprimée', {\r\n                classes: ['alert', 'alert-warning'],\r\n                timeout: 3000\r\n              });\r\n              this.onSuccess();\r\n            },\r\n            error => {\r\n              console.log(error);\r\n              this.flashMessages.show('Erreur: Facture non supprimée', {\r\n                classes: ['alert', 'alert-danger'],\r\n                timeout: 3000\r\n              });\r\n              this.factureGlobal = {};\r\n            }\r\n            );\r\n        } else {\r\n          console.log('Suppression impossible');\r\n          this.flashMessages.show('Suppression impossible ! La facture est associée à des factures d\\'accomptes', {\r\n            classes: ['alert', 'alert-danger'],\r\n            timeout: 3000\r\n          });\r\n          this.factureGlobal = {};\r\n        }\r\n      }, err => console.log('Erreur :' + err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Store Facture global data to delete. \r\n   * Confirm modal implementation\r\n   * \r\n   * @param {FactureGlobal} factureGlobal facture global body\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  getFactureGlobalToDelete(factureGlobal: FactureGlobal) {\r\n    this.factureGlobal = factureGlobal;\r\n    console.log(this.factureGlobal);\r\n  }\r\n\r\n  /**\r\n   * on close modal\r\n   * \r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  closeModal() {\r\n    this.factureGlobal = {};\r\n  }\r\n\r\n  /**\r\n   * Update Status Client si :\r\n   * - update/delete FactureGlobal => Success.\r\n   * - AllFactureGlobalByClient.status === true\r\n   * \r\n   * @param {Client} client \r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  updateStatusClient(client: Client) {\r\n    let status_client = true;\r\n    // Fetch Facture Globals from Database\r\n    this.factureGlobalService.getAllFactureGlobalByClient(client._id)\r\n      .subscribe(\r\n      FactureGlobals => {\r\n        // Check each factureGlobal.status dans listFactureGlobals\r\n        if (FactureGlobals.length > 0) {\r\n          for (const factureGlobal in FactureGlobals) {\r\n            if (FactureGlobals.hasOwnProperty(factureGlobal)) {\r\n              if (FactureGlobals[factureGlobal].status_factureGlobal === false) {\r\n                status_client = false;\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          status_client = false;\r\n        }\r\n\r\n        // Check difference entre status_facture et status_client avant de requêter à la database\r\n        // si status_facture === true && status_client !== true || \r\n        // status_facture === false && status_client !== false\r\n        if ((status_client && this.client.status_client !== true) || (!status_client && this.client.status_client === true)) {\r\n          this.clientService.updateStatus(client, status_client)\r\n            .subscribe(\r\n            data => console.log('Status client mis à jour :' + data.obj.status_client),\r\n            err => console.log('Erreur mis à jour status client :' + err)\r\n            );\r\n        }\r\n      },\r\n      err => console.log(err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * Method to fetch modified data from database and display into table.\r\n   *\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  onSuccess() {\r\n    this.updateStatusClient(this.client);\r\n    this.generateForm();\r\n    this.mode = false;\r\n    this.factureGlobal = {};\r\n    this.processing = false;\r\n    this.getAllFactureGlobalByClient(this.id_client);\r\n  }\r\n\r\n  /**\r\n   * on cancel form\r\n   * \r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  onCancel() {\r\n    this.mode = false;\r\n    this.processing = false;\r\n    this.generateForm();\r\n    this.factureGlobal = {};\r\n  }\r\n\r\n  /**\r\n   * Generate Reactive Form\r\n   *\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  generateForm() {\r\n    this.factureForm = this.formBuilder.group({\r\n      ref_factureGlobal: [this.factureGlobal.ref_factureGlobal, Validators.required],\r\n      date_creation: [this.factureGlobal.date_creation],\r\n      montantTtcTotal: [{ value: this.factureGlobal.montantTtc, disabled: true }],\r\n      client: [{ value: this.factureGlobal.client, disabled: true }, Validators.required]\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Enable form controls\r\n   *\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  enableForm() {\r\n    this.factureForm.controls['ref_factureGlobal'].enable();\r\n    this.factureForm.controls['date_creation'].enable();\r\n  }\r\n\r\n  /**\r\n   * Disable form controls\r\n   *\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  disableForm() {\r\n    this.factureForm.disable();\r\n  }\r\n\r\n  /**\r\n   * NOT USED\r\n   * (blur) listenner.\r\n   * Calcul montantTTC using tauxTva and montantHt values of factureForm and send new montantTtc.\r\n   *\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  calculMontant() {\r\n    if (!(this.factureForm.controls['montantHt'].value === '') && !(this.factureForm.controls['tauxTva'].value === '')) {\r\n      const montantTTC = this.factureForm.controls['montantHt'].value + this.factureForm.controls['tauxTva'].value;\r\n      this.factureForm.controls['montantTtc'].setValue(Number(montantTTC).toFixed(2));\r\n      this.factureGlobal.montantTtc = Number(montantTTC).toFixed(2);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * somme montant total\r\n   * \r\n   * @returns {string} somme\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  getSumMontantTotal(): string {\r\n    let sum = 0;\r\n    for (const fact in this.listFactureGlobals) {\r\n      if (this.listFactureGlobals.hasOwnProperty(fact)) {\r\n        sum += this.listFactureGlobals[fact].montantTtcTotal;\r\n      }\r\n    }\r\n    return sum.toFixed(2);\r\n  }\r\n\r\n  /**\r\n   * somme montant facturé\r\n   * \r\n   * @returns {string} somme\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  getSumMontantFacture(): string {\r\n    let sum = 0;\r\n    for (const fact in this.listFactureGlobals) {\r\n      if (this.listFactureGlobals.hasOwnProperty(fact)) {\r\n        sum += this.listFactureGlobals[fact].montantTtcFacture;\r\n      }\r\n    }\r\n    return sum.toFixed(2);\r\n  }\r\n\r\n  /**\r\n   * somme montant réglé\r\n   * \r\n   * @returns {string} somme\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  getSumMontantRegle(): string {\r\n    let sum = 0;\r\n    for (const fact in this.listFactureGlobals) {\r\n      if (this.listFactureGlobals.hasOwnProperty(fact)) {\r\n        sum += this.listFactureGlobals[fact].montantTtcRegle;\r\n      }\r\n    }\r\n    return sum.toFixed(2);\r\n  }\r\n\r\n  /**\r\n   * \r\n   * (blur) listener : Verification de la ref_factureGlobal.\r\n   * - si data.success === true && ref != factureGlobal.ref => ref_factureGlobal utilisée => validationRef = true,\r\n   * - si data.success === false => ref_factureGlobal non utilisée => validationRef = false\r\n   *\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  verifRef() {\r\n    this.validationRef = false;\r\n    this.factureGlobalService.getOneFactureGlobalByRef(this.client._id, this.factureForm.get('ref_factureGlobal').value)\r\n      .subscribe(\r\n      data => {\r\n        if (data.success) {\r\n          // onUpdate : Vérif si ref dans l'input == ref initial de la facture global \r\n          if (this.factureForm.get('ref_factureGlobal').value !== this.factureGlobal.ref_factureGlobal) {\r\n            return this.validationRef = true;\r\n          }\r\n        }\r\n      },\r\n      error => {\r\n        console.log(error)\r\n      }\r\n      );\r\n    return this.validationRef = false;\r\n  }\r\n\r\n  /**\r\n   * OnInit :\r\n   * check if params['id_client'] set into url.\r\n   * - set this.id_client = params['id_client'].\r\n   * - get Devis using this.id_client.\r\n   *\r\n   * @memberof FactureGlobalComponent\r\n   */\r\n  ngOnInit() {\r\n    // différentes routes à implémenter pour le dashboard\r\n    if (this.activatedRoute.snapshot.params['id_client'] !== undefined) {\r\n      this.id_client = this.activatedRoute.snapshot.params['id_client'];\r\n      this.getAllFactureGlobalByClient(this.id_client);\r\n      this.getClient(this.id_client);\r\n    } else {\r\n      this.getAllFactureGlobal();\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/facture-global/facture-global.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/navbar/navbar.component.css\n// module id = ../../../../../src/app/components/navbar/navbar.component.css\n// module chunks = 1","module.exports = \"<nav class=\\\"navbar navbar-inverse\\\">\\r\\n    <div class=\\\"container-fluid\\\">\\r\\n        <div class=\\\"navbar-header\\\">\\r\\n            <a class=\\\"navbar-brand\\\" routerLink=\\\"client\\\"><img style=\\\"margin-top: -12px;\\\" src=\\\"../../../assets/images/GP.png\\\" alt=\\\"G & P\\\"></a>\\r\\n        </div>\\r\\n        <ul class=\\\"nav navbar-nav\\\">\\r\\n            <!-- <li routerLinkActive=\\\"active\\\"><a routerLink=\\\"dashboard\\\">Dashboard</a></li> -->\\r\\n            <li routerLinkActive=\\\"active\\\"><a routerLink=\\\"client\\\">Client</a></li>\\r\\n            <!-- <li routerLinkActive=\\\"active\\\"><a routerLink=\\\"devis\\\">Devis / Facture</a></li>\\r\\n            <li routerLinkActive=\\\"active\\\"><a [routerLink]=\\\"['facture/facture-accompte']\\\">Facture</a></li> -->\\r\\n            <li routerLinkActive=\\\"active\\\"><a routerLink=\\\"bug\\\">Bug</a></li>\\r\\n        </ul>\\r\\n    </div>\\r\\n</nav>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/navbar/navbar.component.html\n// module id = ../../../../../src/app/components/navbar/navbar.component.html\n// module chunks = 1","import { Component, OnInit } from '@angular/core';\r\n\r\n/**\r\n * \r\n * @author Paul GUINARD\r\n * @export\r\n * @class NavbarComponent\r\n * @implements {OnInit}\r\n */\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.css']\r\n})\r\nexport class NavbarComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/navbar/navbar.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/page-not-found/page-not-found.component.css\n// module id = ../../../../../src/app/components/page-not-found/page-not-found.component.css\n// module chunks = 1","module.exports = \"<div class=\\\"container\\\" style=\\\"text-align: center\\\">\\r\\n    <h2>ERREUR : Page Not Found</h2>\\r\\n    <a routerLink=\\\"/client\\\" class=\\\"btn btn-primary\\\">Retour</a>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/page-not-found/page-not-found.component.html\n// module id = ../../../../../src/app/components/page-not-found/page-not-found.component.html\n// module chunks = 1","import { Component, OnInit } from '@angular/core';\r\n\r\n/**\r\n * \r\n * @author Paul GUINARD\r\n * @export\r\n * @class PageNotFoundComponent\r\n * @implements {OnInit}\r\n */\r\n@Component({\r\n  selector: 'app-page-not-found',\r\n  templateUrl: './page-not-found.component.html',\r\n  styleUrls: ['./page-not-found.component.css']\r\n})\r\nexport class PageNotFoundComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/page-not-found/page-not-found.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/valider-devis/valider-devis.component.css\n// module id = ../../../../../src/app/components/valider-devis/valider-devis.component.css\n// module chunks = 1","module.exports = \"<span class=\\\"col-sm-3\\\"></span>\\r\\n<div class=\\\"container col-sm-6\\\">\\r\\n    <div class=\\\"panel panel-info\\\">\\r\\n        <div class=\\\"panel-heading\\\">\\r\\n            <h4>Valider Devis</h4>\\r\\n        </div>\\r\\n        <div class=\\\"panel-body\\\">\\r\\n            <form class=\\\"form-horizontal\\\" [formGroup]=\\\"validerDevisForm\\\" (submit)=\\\"validerDevis()\\\">\\r\\n                <div class=\\\"form-group\\\" [ngClass]=\\\"{'has-error': (validerDevisForm.controls.ref_factureGlobal.errors && validerDevisForm.controls.ref_factureGlobal.dirty) \\r\\n                || (validationRef && validerDevisForm.controls.ref_factureGlobal.dirty),\\r\\n                'has-success': (!validerDevisForm.controls.ref_factureGlobal.errors && !validationRef)}\\\">\\r\\n                    <label class=\\\"control-label\\\" for=\\\"ref_factureGlobal\\\">Ref :</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"ref_factureGlobal\\\" id=\\\"ref_factureGlobal\\\" formControlName=\\\"ref_factureGlobal\\\"\\r\\n                        value=\\\"{{devis.ref_devis}}\\\" (blur)=\\\"verifRef()\\\" autofocus required />\\r\\n                    <ul class=\\\"list-group\\\">\\r\\n                        <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"validationRef\\\">\\r\\n                            Ref déjà utilisée\\r\\n                        </li>\\r\\n                        <li class=\\\"list-group-item list-group-item-danger\\\" *ngIf=\\\"validerDevisForm.controls.ref_factureGlobal.errors?.required && validerDevisForm.controls.ref_factureGlobal.dirty\\\">\\r\\n                            Ce champ est requis\\r\\n                        </li>\\r\\n                    </ul>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"control-label\\\" for=\\\"date_creation\\\">Date création :</label>\\r\\n                    <input type=\\\"date\\\" class=\\\"form-control\\\" name=\\\"date_creation\\\" id=\\\"date_creation\\\" formControlName=\\\"date_creation\\\" value=\\\"{{devis.date_creation}}\\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"control-label\\\" for=\\\"montantHt\\\">Montant HT :</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"montantHt\\\" id=\\\"montantHt\\\" formControlName=\\\"montantHt\\\" value=\\\"{{devis.montantHt}}\\\"\\r\\n                        (blur)=\\\"calculMontant()\\\" />\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"control-label\\\" for=\\\"tauxTva\\\">Taux TVA :</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"tauxTva\\\" id=\\\"tauxTva\\\" formControlName=\\\"tauxTva\\\" value=\\\"{{devis.tauxTva}}\\\" />\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"control-label\\\" for=\\\"montantTtcTotal\\\">Montant Total Facture TTC :</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"montantTtcTotal\\\" id=\\\"montantTtcTotal\\\" formControlName=\\\"montantTtcTotal\\\" value=\\\"{{devis.montantTtc}}\\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"control-label\\\" for=\\\"client\\\">Client :</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"client\\\" id=\\\"client\\\" formControlName=\\\"client\\\" value=\\\"{{client.nom}} {{client.prenom}}\\\"\\r\\n                    />\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <md-spinner *ngIf=\\\"processing\\\" style=\\\"float: left;width: 24px;height: 24px;\\\"></md-spinner>\\r\\n                    <button [disabled]=\\\"!validerDevisForm.valid || processing || validationRef\\\" type=\\\"submit\\\" class=\\\"btn btn-success\\\">Sauver</button>\\r\\n                    <button [disabled]=\\\"processing\\\" class=\\\"btn btn-default\\\" (click)=\\\"onCancel()\\\">Annuler</button>\\r\\n                </div>\\r\\n            </form>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<span class=\\\"col-sm-3\\\"></span>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/valider-devis/valider-devis.component.html\n// module id = ../../../../../src/app/components/valider-devis/valider-devis.component.html\n// module chunks = 1","import { Component, OnInit } from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport 'rxjs/add/operator/switchMap';\r\n\r\n// Models\r\nimport { Devis } from '../../models/devis';\r\nimport { Client } from '../../models/client';\r\nimport { FactureGlobal } from '../../models/factureGlobal';\r\n\r\n// Services\r\nimport { DevisService } from '../../service/devis.service';\r\nimport { ClientService } from '../../service/client.service';\r\nimport { FactureGlobalService } from '../../service/facture-global.service';\r\nimport { FlashMessagesService } from 'ngx-flash-messages';\r\n\r\n/**\r\n *\r\n * @author Paul GUINARD\r\n * @export\r\n * @class ValiderDevisComponent\r\n * @implements {OnInit}\r\n */\r\n@Component({\r\n  selector: 'app-valider-devis',\r\n  templateUrl: './valider-devis.component.html',\r\n  styleUrls: [ './valider-devis.component.css' ]\r\n})\r\nexport class ValiderDevisComponent implements OnInit {\r\n  /**\r\n   * list clients\r\n   * \r\n   * @type {Client[]}\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  listClient: Client[];\r\n\r\n  /**\r\n   * list factures globals\r\n   * \r\n   * @type {FactureGlobal[]}\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  listFactureGlobals: FactureGlobal[];\r\n\r\n  /**\r\n   * devis\r\n   * \r\n   * @type {*}\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  devis: any = {};\r\n\r\n  /**\r\n   * id devis\r\n   * \r\n   * @type {number}\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  id_devis: number;\r\n\r\n  /**\r\n   * client\r\n   * \r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  client = new Client();\r\n\r\n  /**\r\n   * validation ref facture global\r\n   * \r\n   * @type {boolean}\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  validationRef: boolean;\r\n\r\n  /**\r\n   * facture global\r\n   * \r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  factureGlobal = new FactureGlobal();\r\n\r\n  /**\r\n   * valider devis form\r\n   * \r\n   * @type {FormGroup}\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  validerDevisForm: FormGroup;\r\n\r\n  /**\r\n   * on process\r\n   * \r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  processing = false;\r\n\r\n  /**\r\n   * Creates an instance of ValiderDevisComponent.\r\n   * @param {DatePipe} datePipe format date\r\n   * @param {FormBuilder} formBuilder reactive form builder\r\n   * @param {ActivatedRoute} activatedRoute request routes params\r\n   * @param {Router} router redirect to route\r\n   * @param {DevisService} devisService devis service\r\n   * @param {ClientService} clientService client service\r\n   * @param {FactureGlobalService} factureGlobalService facture global service\r\n   * @param {FlashMessagesService} flashMessages Angular flash messages\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  constructor(\r\n    private datePipe: DatePipe,\r\n    private formBuilder: FormBuilder,\r\n    private activatedRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private devisService: DevisService,\r\n    private clientService: ClientService,\r\n    private factureGlobalService: FactureGlobalService,\r\n    private flashMessages: FlashMessagesService\r\n  ) {\r\n    this.generateForm()\r\n  }\r\n\r\n  /**\r\n   * Get ALL Client.\r\n\t * Used for Select Option on add/update Devis Form\r\n   *\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  getAllClient() {\r\n    this.clientService.getAllClients()\r\n      .subscribe(\r\n      clients => this.listClient = clients,\r\n      error => console.log('Error ' + error)\r\n      );\r\n  };\r\n\r\n  /**\r\n   * GET ONE CLIENT.\r\n\t * Used to display client.nom & client.prenom to the form\r\n   *\r\n   * @param {number} id client._id\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  getOneClient(id: number) {\r\n    this.clientService.getOneClient(id)\r\n      .subscribe(\r\n      client => this.client = client,\r\n      error => console.log('Error ' + error)\r\n      );\r\n  };\r\n\r\n  /**\r\n   * GET ONE DEVIS.\r\n   * une fois le devis obtenu de la database :\r\n   * - set date_creation au format géré par input type=\"date\".\r\n   * - cherche client à partir de l'id du devis.client.\r\n   *\r\n   * @param {number} id devis._id\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  getOneDevis(id: number) {\r\n    this.devisService.getOneDevis(id)\r\n      .subscribe(\r\n      devis => {\r\n        this.devis = devis;\r\n        // Change devis.date_creation\r\n        let latest_date = this.datePipe.transform(this.devis.date_creation, 'yyyy-MM-dd');\r\n        this.devis.date_creation = latest_date;\r\n        this.getOneClient(this.devis.client);\r\n        this.generateForm();\r\n      },\r\n      error => console.log('Error ' + error)\r\n      );\r\n  };\r\n\r\n  /**\r\n   * Create Facture Global using this.devis data\r\n   *\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  validerDevis() {\r\n    this.disableForm();\r\n    this.processing = true;\r\n    // Set newFacture body\r\n    var newFacture = this.validerDevisForm.value;\r\n    newFacture.montantTtcTotal = this.devis.montantTtc;\r\n    newFacture.client = this.devis.client;\r\n    newFacture.montantHt = this.devis.montantHt;\r\n    newFacture.tauxTva = this.devis.tauxTva;\r\n    newFacture.devis = this.devis._id;\r\n\r\n    // Send body to addFactureGlobal method in factureGlobalService\r\n    this.factureGlobalService.addFactureGlobal(newFacture)\r\n      .subscribe(\r\n      data => {\r\n        console.log('Devis Validé' + data);\r\n        this.flashMessages.show(data.message, {\r\n          classes: [ 'alert', 'alert-success' ],\r\n          timeout: 3000\r\n        });\r\n        this.onSuccess();\r\n      },\r\n      error => {\r\n        this.processing = false;\r\n        console.log('Error ' + error);\r\n        this.flashMessages.show('Erreur création facture', {\r\n          classes: [ 'alert', 'alert-danger' ],\r\n          timeout: 3000\r\n        });\r\n        this.enableForm();\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Update Status Client si :\r\n   * - valider Devis => Success.\r\n   * - AllFactureGlobalByClient.status === true\r\n   * \r\n   * @param {Client} client \r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  updateStatusClient(client: Client) {\r\n    let status_facture: boolean = true;\r\n    // Fetch Facture Globals from Database\r\n    this.factureGlobalService.getAllFactureGlobalByClient(client._id)\r\n      .subscribe(\r\n      FactureGlobals => {\r\n        // Check each factureGlobal.status dans listFactureGlobals       \r\n        if (FactureGlobals !== null) {\r\n          for (var factureGlobal in FactureGlobals) {\r\n            if (FactureGlobals.hasOwnProperty(factureGlobal)) {\r\n              if (FactureGlobals[ factureGlobal ].status_factureGlobal === false) {\r\n                status_facture = false;\r\n              }\r\n            }\r\n          }\r\n\r\n          // Check difference entre status_facture et status_client avant de requêter à la database\r\n          // si status_facture === true && status_client !== true || \r\n          // status_facture === false && status_client !== false\r\n          if ((status_facture && this.client.status_client !== true) || (!status_facture && this.client.status_client === true)) {\r\n            this.clientService.updateStatus(client, status_facture)\r\n              .subscribe(\r\n              data => console.log('Status client mis à jour :' + data.obj.status_client),\r\n              err => console.log('Erreur mis à jour status client :' + err)\r\n              );\r\n          }\r\n        }\r\n      },\r\n      err => console.log(err)\r\n      );\r\n  }\r\n\r\n  /**\r\n   * \r\n   * (blur) listener : Verification de la ref_factureGlobal.\r\n   * - si data.success === true => ref_factureGlobal utilisée => validationRef = true,\r\n   * - si data.success === false => ref_factureGlobal non utilisée => validationRef = false\r\n   *\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  verifRef() {\r\n    this.factureGlobalService.getOneFactureGlobalByRef(this.client._id, this.validerDevisForm.get('ref_factureGlobal').value)\r\n      .subscribe(\r\n      data => {\r\n        if (data.success) {\r\n          return this.validationRef = true;\r\n        }\r\n      },\r\n      error => {\r\n        console.log(error)\r\n      }\r\n      );\r\n    return this.validationRef = false;\r\n  }\r\n\r\n  /**\r\n   * function success after request to service.\r\n   * Redirect to route path '/devis/client/:id_client'\r\n   *\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  onSuccess() {\r\n    this.updateStatusClient(this.client);\r\n    setTimeout(() => {\r\n      this.processing = false;\r\n      // this.enableForm();\r\n      this.generateForm();\r\n      this.router.navigate([ '/devis/client/:id_client', { id_client: this.devis.client }]);\r\n    }, 1000);\r\n  }\r\n\r\n  /**\r\n   * on cancel form\r\n   * \r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  onCancel() {\r\n    this.router.navigate([ '/devis/client/:id_client', { id_client: this.devis.client }]);\r\n  }\r\n\r\n  /**\r\n   * NOT USED\r\n   * \r\n   * Calcul montantTTC using tauxTva and montantHt values of validerDevisForm and send new montantTtc\r\n   *\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  calculMontant() {\r\n    if (!(this.validerDevisForm.controls[ 'montantHt' ].value === '') && !(this.validerDevisForm.controls[ 'tauxTva' ].value === '')) {\r\n      let montantTTC = this.validerDevisForm.controls[ 'montantHt' ].value * (1 + this.validerDevisForm.controls[ 'tauxTva' ].value / 100);\r\n      this.validerDevisForm.controls[ 'montantTtc' ].setValue(Number(montantTTC).toFixed(2));\r\n      this.devis.montantTtc = Number(montantTTC).toFixed(2);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Generate Reactive form\r\n   *\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  generateForm() {\r\n    this.validerDevisForm = this.formBuilder.group({\r\n      ref_factureGlobal: [ this.devis.ref_devis, Validators.compose([\r\n        Validators.required\r\n      ]) ],\r\n      date_creation: [ this.devis.date_creation ],\r\n      montantHt: [ { value: this.devis.montantHt, disabled: true }],\r\n      tauxTva: [ { value: this.devis.tauxTva, disabled: true }],\r\n      montantTtcTotal: [ { value: this.devis.montantTtc, disabled: true }],\r\n      client: [ { value: this.devis.client, disabled: true }]\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Enable form\r\n   * \r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  enableForm() {\r\n    this.validerDevisForm.controls[ 'ref_factureGLobal' ].enable();\r\n    this.validerDevisForm.controls[ 'date_creation' ].enable();\r\n  }\r\n\r\n  /**\r\n   * Disable form\r\n   * \r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  disableForm() {\r\n    this.validerDevisForm.disable();\r\n  }\r\n\r\n  /**\r\n   * OnInit :\r\n   * check if params['id_devis'] set into url.\r\n   * - set this.id_devis = params['id_devis'].\r\n   * - get Devis using this.id_devis.\r\n   *\r\n   * @memberof ValiderDevisComponent\r\n   */\r\n  ngOnInit() {\r\n    //this.getAllClient();\r\n    //this.onValiderDevis();\r\n    /* if (this.activatedRoute.snapshot.params['id_client'] !== undefined) {\r\n      this.id_client = this.activatedRoute.snapshot.params['id_client'];\r\n      this.getOneClient(this.id_client);\r\n    } */\r\n    // Recupère devis by id if set into url\r\n    // Set id_client and client data\r\n    if (this.activatedRoute.snapshot.params[ 'id_devis' ] !== undefined) {\r\n      this.id_devis = this.activatedRoute.snapshot.params[ 'id_devis' ];\r\n      this.getOneDevis(this.id_devis);\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/components/valider-devis/valider-devis.component.ts","/**\r\n * Enum Civilite for client\r\n * \r\n * @export\r\n * @enum {number}\r\n */\r\nexport enum CIVILITE {\r\n  null,\r\n  'Mr',\r\n  'Mme/Mlle'\r\n}\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/models/civilite.enum.ts","// Enum\r\nimport { CIVILITE } from './civilite.enum';\r\n\r\n/**\r\n * Client model\r\n *\r\n * @export\r\n * @class Client\r\n */\r\nexport class Client {\r\n    _id: number;\r\n    status_client: boolean;\r\n    civilite: CIVILITE;\r\n    nom: string;\r\n    prenom: string;\r\n    adresseFact: string;\r\n    complAdresseFact: string;\r\n    cpFact: string;\r\n    villeFact: string;\r\n    adresseChantier: string;\r\n    complAdresseChantier: string;\r\n    cpChantier: string;\r\n    villeChantier: string;\r\n    email: string;\r\n    numTel: string;\r\n\r\n    /**\r\n     * Creates an instance of Client.\r\n     * @param {Object} [value={}]\r\n     * @memberof Client\r\n     */\r\n    constructor(value: Object = {}) {\r\n        Object.assign(this, value);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/models/client.ts","/**\r\n * DetailsDevis model\r\n *\r\n * @export\r\n * @class DetailsDevis\r\n */\r\nexport class DetailsDevis {\r\n    _id?: number;\r\n    montantHt?: number;\r\n    tauxTva: number;\r\n    montantTtc?: number;\r\n    devis?: number;\r\n\r\n    /**\r\n     * Creates an instance of DetailsDevis.\r\n     * @param {Object} [value={}]\r\n     * @memberof DetailsDevis\r\n     */\r\n    constructor(value: Object = {}) {\r\n        Object.assign(this, value);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/models/detailsDevis.ts","/**\r\n * FactureGlobal model\r\n *\r\n * @export\r\n * @class FactureGlobal\r\n */\r\nexport class FactureGlobal {\r\n    _id: number;\r\n    status_factureGlobal: boolean;\r\n    ref_factureGlobal: string;\r\n    date_creation: Date;\r\n    montantHt: number;\r\n    tauxTva: number;\r\n    montantTtcTotal: number;\r\n    montantTtcFacture: number;\r\n    montantTtcRegle: number;\r\n    client: number;\r\n    devis: number;\r\n    valid: boolean;\r\n    description: string;\r\n    updated_at: Date;\r\n\r\n    /**\r\n     * Creates an instance of FactureGlobal.\r\n     * @param {Object} [value={}]\r\n     * @memberof FactureGlobal\r\n     */\r\n    constructor(value: Object = {}) {\r\n        Object.assign(this, value);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/models/factureGlobal.ts","/**\r\n * Const TAUX TVA\r\n */\r\nexport const CONST_TAUX = {\r\n  1: 5.5,\r\n  2: 10.0,\r\n  3: 20.0\r\n};\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/models/taux.const.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/observable/throw';\r\n\r\n// Models\r\nimport { Bug } from '../models/bug';\r\n\r\n/**\r\n * Set dev url accessing app/routes/ url\r\n */\r\nconst devUrl = 'http://localhost:3001/api/bugs/';\r\n\r\n/**\r\n * \r\n * @author Paul GUINARD\r\n * @export\r\n * @class BugsService\r\n */\r\n@Injectable()\r\nexport class BugsService {\r\n\r\n  /**\r\n   * Creates an instance of BugsService.\r\n   * @param {Http} http http module\r\n   * @memberof BugsService\r\n   */\r\n  constructor(private http: Http) { }\r\n\r\n  /**\r\n   * Get All Bugs\r\n   * \r\n   * @returns \r\n   * @memberof BugsService\r\n   */\r\n  getAllBugs() {\r\n    return this.http.get(devUrl)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Get One Bug\r\n   * \r\n   * @param {number} id bug._id\r\n   * @returns \r\n   * @memberof BugsService\r\n   */\r\n  getOneBug(id: number) {\r\n    return this.http.get(devUrl + id)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Add Bug\r\n   * \r\n   * @param {*} bug bug body\r\n   * @returns \r\n   * @memberof BugsService\r\n   */\r\n  addBug(bug: any) {\r\n    return this.http.post(devUrl, bug)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Update Bug\r\n   * \r\n   * @param {Bug} bug bug body\r\n   * @returns\r\n   * @memberof BugsService\r\n   */\r\n  updateBug(bug: Bug) {\r\n    return this.http.put(devUrl + bug._id, bug)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Delete Bug\r\n   * \r\n   * @param {number} id bug._id\r\n   * @returns \r\n   * @memberof BugsService\r\n   */\r\n  deleteBug(id: number) {\r\n    return this.http.delete(devUrl + id)\r\n      .map(res => res.json());\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/bugs.service.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/observable/throw';\r\n\r\n// Models\r\nimport { Client } from '../models/client';\r\n\r\n/**\r\n * Set dev url accessing app/routes/ url\r\n */\r\nconst devUrl = '/api/clients/';\r\n\r\n/**\r\n *\r\n * @author Paul GUINARD\r\n * @export ClientService\r\n * @class ClientService\r\n */\r\n@Injectable()\r\nexport class ClientService {\r\n\r\n  /**\r\n   * Creates an instance of ClientService.\r\n   * @param {Http} http http module\r\n   * @memberof ClientService client service\r\n   */\r\n  constructor(private http: Http) { }\r\n\r\n  /**\r\n   * Get all clients.\r\n   *\r\n   * @returns\r\n   * @memberof ClientService\r\n   */\r\n  getAllClients(): Observable<Client[]> {\r\n    return this.http.get(devUrl)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Get one client.\r\n   *\r\n   * @param {number} id client._id\r\n   * @returns\r\n   * @memberof ClientService\r\n   */\r\n  getOneClient(id: number): Observable<Client> {\r\n    return this.http.get(devUrl + id)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Save client.\r\n   *\r\n   * @param {*} client client body\r\n   * @returns\r\n   * @memberof ClientService\r\n   */\r\n  addClient(client: any) {\r\n    return this.http.post(devUrl, client)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Update client.\r\n   *\r\n   * @param {Client} client client body\r\n   * @returns\r\n   * @memberof ClientService\r\n   */\r\n  updateClient(client: Client) {\r\n    return this.http.put(devUrl + client._id, client)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Delete client.\r\n   *\r\n   * @param {number} id client._id\r\n   * @returns\r\n   * @memberof ClientService\r\n   */\r\n  deleteClient(id: number) {\r\n    return this.http.delete(devUrl + id)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Update Status Client\r\n   *\r\n   * @param {Client} client client body\r\n   * @param {boolean} status status_client\r\n   * @returns\r\n   * @memberof ClientService\r\n   */\r\n  updateStatus(client: Client, status: boolean) {\r\n    // Set status_client\r\n    client.status_client = status;\r\n    // PUT request\r\n    return this.http.put(devUrl + client._id, client)\r\n      .map(res => res.json());\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/client.service.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/observable/throw';\r\n\r\n// Models\r\nimport { DetailsDevis } from '../models/detailsDevis';\r\n\r\n/**\r\n * Set dev url accessing app/routes/ url\r\n */\r\nconst devUrl = '/api/details-devis/';\r\n\r\n/**\r\n * \r\n * @author Paul GUINARD\r\n * @export\r\n * @class DetailsDevisService\r\n */\r\n@Injectable()\r\nexport class DetailsDevisService {\r\n\r\n  /**\r\n   * Creates an instance of DetailsDevisService.\r\n   * @param {Http} http http module\r\n   * @memberof DetailsDevisService\r\n   */\r\n  constructor(\r\n    private http: Http\r\n  ) { }\r\n\r\n  /**\r\n   * Get All DetailsDevis By Devis\r\n   * \r\n   * @param {number} id_dev devis._id\r\n   * @returns \r\n   * @memberof DetailsDevisService\r\n   */\r\n  getDetailsDevisByDevis(id_dev: number) {\r\n    return this.http.get(devUrl + id_dev)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Create DetailsDevis\r\n   * \r\n   * @param {*} detailsDevis DetailsDevis body\r\n   * @returns \r\n   * @memberof DetailsDevisService\r\n   */\r\n  addDetailsDevis(detailsDevis: any) {\r\n    return this.http.post(devUrl, detailsDevis)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Update DetailsDevis\r\n   * \r\n   * @param {DetailsDevis} detailsDevis  DetailsDevis body\r\n   * @returns \r\n   * @memberof DetailsDevisService\r\n   */\r\n  updateDetailsDevis(detailsDevis: DetailsDevis) {\r\n    return this.http.put(devUrl + detailsDevis._id, detailsDevis)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Delete DetailsDevis\r\n   * \r\n   * @param {number} id detailsDevis._id\r\n   * @returns \r\n   * @memberof DetailsDevisService\r\n   */\r\n  deleteDetailsDevis(id: number) {\r\n    return this.http.delete(devUrl + id)\r\n      .map(res => res.json());\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/details-devis.service.ts","import 'rxjs/add/observable/throw';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/filter';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/mergeMap';\r\n\r\nimport { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\n\r\n// Models\r\n/**\r\n * Set dev url accessing app/routes/ url\r\n */\r\nconst devUrl = '/api/devis/'\r\n\r\n/**\r\n *\r\n * @author Paul GUINARD\r\n * @export DevisService\r\n * @class DevisService\r\n */\r\n@Injectable()\r\nexport class DevisService {\r\n\r\n\t/**\r\n   * Creates an instance of DevisService.\r\n   * @param {Http} http http module\r\n   * @memberof DevisService devis service\r\n   */\r\n  constructor(private http: Http) { }\r\n\r\n\t/**\r\n   * Get All Devis.\r\n   *\r\n   * @returns devis\r\n   * @memberof DevisService\r\n   */\r\n  getAllDevis() {\r\n    return this.http.get(devUrl)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /* getAllValidDevis(): Observable<Devis> {\r\n    return this.http.get(devUrl)\r\n      .flatMap(res => res.json())\r\n      .filter(dev => dev[1].valid)\r\n      .map(dev => dev.json());\r\n  } */\r\n\r\n\t/**\r\n   * Get All Devis By Client.\r\n   *\r\n   * @param {number} client_id client._id\r\n   * @returns\r\n   * @memberof DevisService\r\n   */\r\n  getAllDevisByClient(client_id: number) {\r\n    return this.http.get(devUrl + 'client/' + client_id)\r\n      .map(res => res.json());\r\n  };\r\n\r\n\t/**\r\n   * Get one devis.\r\n   *\r\n   * @param {number} id devis._id\r\n   * @returns\r\n   * @memberof DevisService\r\n   */\r\n  getOneDevis(id: number) {\r\n    return this.http.get(devUrl + id)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Get One Devis by ref.\r\n\t * Method to check unique key of ref_devis.\r\n   * \r\n   * @param {number} id_client client id\r\n   * @param {number} ref_devis ref devis\r\n   * @returns \r\n   * @memberof DevisService\r\n   */\r\n  getOneDevisByRef(id_client: number, ref_devis: number) {\r\n    return this.http.get(devUrl + 'client/' + id_client + '/ref/' + ref_devis)\r\n      .map(res => res.json());\r\n  }\r\n\r\n\t/**\r\n   * Add Devis.\r\n   *\r\n   * @param {any} devis devis body\r\n   * @returns\r\n   * @memberof DevisService\r\n   */\r\n  addDevis(devis: any) {\r\n    return this.http.post(devUrl, devis)\r\n      .map(res => res.json());\r\n  }\r\n\r\n\t/**\r\n   * Update Devis.\r\n   *\r\n   * @param {any} devis devis body\r\n   * @param {number} id_dev devis._id\r\n   * @returns\r\n   * @memberof DevisService\r\n   */\r\n  updateDevis(devis: any) {\r\n    return this.http.put(devUrl + devis._id, devis)\r\n      .map(res => res.json());\r\n  }\r\n\r\n\t/**\r\n   * Delete devis.\r\n   *\r\n   * @param {number} id_dev devis._id\r\n   * @returns\r\n   * @memberof DevisService\r\n   */\r\n  deleteDevis(id_dev: number) {\r\n    return this.http.delete(devUrl + id_dev)\r\n      .map(res => res.json());\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/devis.service.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/observable/throw';\r\n\r\n// Models\r\nimport { FactureAccompte } from '../models/factureAccompte';\r\n\r\n/**\r\n * Set dev url accessing app/routes/ url\r\n */\r\nconst devUrl = '/api/facture-accompte/';\r\n\r\n/**\r\n *\r\n * @author Paul GUINARD\r\n * @export FactureAccompteService\r\n * @class FactureAccompteService\r\n */\r\n@Injectable()\r\nexport class FactureAccompteService {\r\n\r\n\t/**\r\n   * Creates an instance of FactureAccompteService.\r\n   * @param {Http} http http module\r\n   * @memberof FactureAccompteService factureAccompte service\r\n   */\r\n  constructor(private http: Http) { }\r\n\r\n\t/**\r\n   * Get All Facture Accompte.\r\n   *\r\n   * @returns\r\n   * @memberof FactureAccompteService\r\n   */\r\n  getAllFactureAccompte() {\r\n    return this.http.get(devUrl)\r\n      .map(res => res.json());\r\n  }\r\n\r\n\t/**\r\n   * Get All Facture Accompte by factureGlobal.\r\n   *\r\n   * @param {number} id_fact factureGlobal._id\r\n   * @returns\r\n   * @memberof FactureAccompteService\r\n   */\r\n  getAllFactureAccompteByFactureGlobal(id_fact: number) {\r\n    return this.http.get(devUrl + 'facture-global/' + id_fact)\r\n      .map(res => res.json());\r\n  }\r\n\r\n\t/**\r\n   * Get One Facture Accompte by Id.\r\n   *\r\n   * @param {number} id factureAccompte._id\r\n   * @returns\r\n   * @memberof FactureAccompteService\r\n   */\r\n  getOneFactureAccompte(id: number) {\r\n    return this.http.get(devUrl + id)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Get One Facture accompte by ref.\r\n\t * Method to check unique key of ref_factureAccompte.\r\n   * \r\n   * @param {number} id_factureGlobal facture global id\r\n   * @param {any} ref_factureAccompte facture accompte ref\r\n   * @returns \r\n   * @memberof FactureAccompteService\r\n   */\r\n  getOneFactureAccompteByRef(id_factureGlobal: number, ref_factureAccompte) {\r\n    return this.http.get(devUrl + 'facture-global/' + id_factureGlobal + '/ref/' + ref_factureAccompte)\r\n      .map(res => res.json());\r\n  }\r\n\r\n\t/**\r\n   * Add Facture Accompte.\r\n   *\r\n   * @param {*} factureAccompte factureAccompte body\r\n   * @returns\r\n   * @memberof FactureAccompteService\r\n   */\r\n  addFactureAccompte(factureAccompte: any) {\r\n    return this.http.post(devUrl, factureAccompte)\r\n      .map(res => res.json());\r\n  }\r\n\r\n\t/**\r\n   * Update Facture Accompte.\r\n   *\r\n   * @param {FactureAccompte} factureAccompte factureAccompte body\r\n   * @returns\r\n   * @memberof FactureAccompteService\r\n   */\r\n  updateFactureAccompte(factureAccompte: FactureAccompte) {\r\n    return this.http.put(devUrl + factureAccompte._id, factureAccompte)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Update Facture Accompte status\r\n   * \r\n   * @param {FactureAccompte} factureAccompte facture Accompte body\r\n   * @returns \r\n   * @memberof FactureAccompteService\r\n   */\r\n  updateStatusFactureAccompte(factureAccompte: FactureAccompte, status_factureAccompte) {\r\n    // Set status facture accompte\r\n    factureAccompte.status_factureAccompte = status_factureAccompte;\r\n    // PUT request\r\n    return this.http.put(devUrl + factureAccompte._id, factureAccompte)\r\n      .map(res => res.json());\r\n  }\r\n\r\n\t/**\r\n   * Delete Facture Accompte.\r\n   *\r\n   * @param {number} id factureAccompte._id\r\n   * @returns\r\n   * @memberof FactureAccompteService\r\n   */\r\n  deleteFactureAccompte(id: number) {\r\n    return this.http.delete(devUrl + id)\r\n      .map(res => res.json());\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/facture-accompte.service.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/observable/throw';\r\n\r\n// Models\r\nimport { FactureGlobal } from '../models/factureGlobal';\r\n\r\n/**\r\n* Set dev url accessing app/routes/ url\r\n*/\r\nconst devUrl = '/api/facture-global/';\r\n\r\n/**\r\n *\r\n * @author Paul GUINARD\r\n * @export FactureGlobalService\r\n * @class FactureGlobalService\r\n */\r\n@Injectable()\r\nexport class FactureGlobalService {\r\n\r\n\t/**\r\n   * Creates an instance of FactureGlobalService.\r\n   * @param {Http} http http module\r\n   * @memberof FactureGlobalService facture global service\r\n   */\r\n  constructor(private http: Http) { }\r\n\r\n\t/**\r\n   * GET ALL FACTURE GLOBAL.\r\n   *\r\n   * @returns\r\n   * @memberof FactureGlobalService\r\n   */\r\n  getAllFactureGlobal() {\r\n    return this.http.get(devUrl)\r\n      .map(res => res.json());\r\n  }\r\n\r\n\t/**\r\n   * Get One Facture Global by ID\r\n   *\r\n   * @param {number} id factureGlobal._id\r\n   * @returns\r\n   * @memberof FactureGlobalService\r\n   */\r\n  getOneFactureGlobalById(id: number) {\r\n    return this.http.get(devUrl + id)\r\n      .map(res => res.json());\r\n  }\r\n\r\n\t/**\r\n   * Get All Facture Global by Client.\r\n   *\r\n   * @param {number} id_client client._id\r\n   * @returns\r\n   * @memberof FactureGlobalService\r\n   */\r\n  getAllFactureGlobalByClient(id_client: number) {\r\n    return this.http.get(devUrl + 'client/' + id_client)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Get All Facture Global by Devis\r\n   * \r\n   * @param {number} id Devis id\r\n   * @returns \r\n   * @memberof FactureGlobalService\r\n   */\r\n  getAllFactureGlobalByDevis(id: number) {\r\n    return this.http.get(devUrl + 'devis/' + id)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Get One Facture Global by ref.\r\n\t * Method to check unique key of ref_factureGlobal.\r\n   * \r\n   * @param {number} id_client client id\r\n   * @param {string} ref ref facture global\r\n   * @returns \r\n   * @memberof FactureGlobalService\r\n   */\r\n  getOneFactureGlobalByRef(id_client: number, ref: string) {\r\n    return this.http.get(devUrl + 'client/' + id_client + '/ref/' + ref)\r\n      .map(res => res.json());\r\n  }\r\n\r\n\t/**\r\n   * Add Facture Global.\r\n   *\r\n   * @param {FactureGlobal} factureGlobal factureGlobal body\r\n   * @returns\r\n   * @memberof FactureGlobalService\r\n   */\r\n  addFactureGlobal(factureGlobal: FactureGlobal) {\r\n    return this.http.post(devUrl, factureGlobal)\r\n      .map(res => res.json());\r\n  }\r\n\r\n\t/**\r\n   * Update Facture Global.\r\n   *\r\n   * @param {FactureGlobal} factureGlobal factureGlobal body\r\n   * @returns\r\n   * @memberof FactureGlobalService\r\n   */\r\n  updateFactureGlobal(factureGlobal: FactureGlobal) {\r\n    return this.http.put(devUrl + factureGlobal._id, factureGlobal)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Update Facture Global status\r\n   * \r\n   * @param {FactureGlobal} factureGlobal facture Global body\r\n   * @returns \r\n   * @memberof FactureGlobalService\r\n   */\r\n  updateStatusFactureGlobal(factureGlobal: FactureGlobal, status_factureGlobal) {\r\n    // Set Status facture Global\r\n    factureGlobal.status_factureGlobal = status_factureGlobal;\r\n    // PUT Request\r\n    return this.http.put(devUrl + factureGlobal._id, factureGlobal)\r\n      .map(res => res.json());\r\n  }\r\n\r\n\t/**\r\n   * Delete Facture Global.\r\n   *\r\n   * @param {number} id_fact factureGlobal._id\r\n   * @returns\r\n   * @memberof FactureGlobalService\r\n   */\r\n  deleteFactureGlobal(id_fact: number) {\r\n    return this.http.delete(devUrl + id_fact)\r\n      .map(res => res.json());\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/facture-global.service.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/observable/throw';\r\n\r\n// Models\r\nimport { Reglement } from '../models/reglement';\r\n\r\n/**\r\n * Set dev url accessing app/routes/ url\r\n */\r\nconst devUrl = '/api/reglements/'\r\n\r\n/**\r\n * \r\n * @author Paul GUINARD\r\n * @export\r\n * @class ReglementService\r\n */\r\n@Injectable()\r\nexport class ReglementService {\r\n\r\n  /**\r\n   * Creates an instance of ReglementService.\r\n   * @param {Http} http http module\r\n   * @memberof ReglementService\r\n   */\r\n  constructor(private http: Http) { }\r\n\r\n  /**\r\n   * Get All Reglement by FactureAccompte._id\r\n   * \r\n   * @param {number} id FactureAccompte._id\r\n   * @returns \r\n   * @memberof ReglementService\r\n   */\r\n  getReglementByFactureAccompte(id: number) {\r\n    return this.http.get(devUrl + id)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Save Reglement\r\n   * \r\n   * @param {*} reglement body\r\n   * @returns \r\n   * @memberof ReglementService\r\n   */\r\n  addReglement(reglement: any) {\r\n    return this.http.post(devUrl, reglement)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Update reglement\r\n   * \r\n   * @param {Reglement} reglement body\r\n   * @returns \r\n   * @memberof ReglementService\r\n   */\r\n  updateReglement(reglement: Reglement) {\r\n    return this.http.put(devUrl + reglement._id, reglement)\r\n      .map(res => res.json());\r\n  }\r\n\r\n  /**\r\n   * Delete reglement\r\n   * \r\n   * @param {number} id reglement._id\r\n   * @returns \r\n   * @memberof ReglementService\r\n   */\r\n  deleteReglement(id: number) {\r\n    return this.http.delete(devUrl + id)\r\n      .map(res => res.json());\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/app/service/reglement.service.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport 'hammerjs';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/pguinard/Documents/perso/MEAN/GP-corr28/GPAssocies-MEAN-App/client/src/main.ts"],"sourceRoot":"webpack:///"}